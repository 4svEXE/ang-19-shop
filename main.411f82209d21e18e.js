"use strict";(self.webpackChunkshop_ang_19=self.webpackChunkshop_ang_19||[]).push([[792],{1076:(an,Je,V)=>{V.d(Je,{Am:()=>Yn,FA:()=>yt,Fy:()=>Vt,I9:()=>Bn,Im:()=>It,K3:()=>Ue,Ku:()=>ti,T9:()=>Dt,Tj:()=>dn,Uj:()=>Qe,XA:()=>Ye,ZQ:()=>qt,bD:()=>_n,c1:()=>un,cY:()=>Tt,eX:()=>Ie,g:()=>et,hp:()=>Pr,jZ:()=>cn,lT:()=>Lt,lV:()=>Ut,nr:()=>Un,sr:()=>xt,tD:()=>xr,u:()=>ge,yU:()=>En,zW:()=>ye});const W=function(Pe){const ve=[];let Ve=0;for(let Et=0;Et<Pe.length;Et++){let re=Pe.charCodeAt(Et);re<128?ve[Ve++]=re:re<2048?(ve[Ve++]=re>>6|192,ve[Ve++]=63&re|128):55296==(64512&re)&&Et+1<Pe.length&&56320==(64512&Pe.charCodeAt(Et+1))?(re=65536+((1023&re)<<10)+(1023&Pe.charCodeAt(++Et)),ve[Ve++]=re>>18|240,ve[Ve++]=re>>12&63|128,ve[Ve++]=re>>6&63|128,ve[Ve++]=63&re|128):(ve[Ve++]=re>>12|224,ve[Ve++]=re>>6&63|128,ve[Ve++]=63&re|128)}return ve},Ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,ve){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Et=[];for(let re=0;re<Pe.length;re+=3){const Se=Pe[re],oe=re+1<Pe.length,we=oe?Pe[re+1]:0,at=re+2<Pe.length,jt=at?Pe[re+2]:0;let or=(15&we)<<2|jt>>6,kr=63&jt;at||(kr=64,oe||(or=64)),Et.push(Ve[Se>>2],Ve[(3&Se)<<4|we>>4],Ve[or],Ve[kr])}return Et.join("")},encodeString(Pe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Pe):this.encodeByteArray(W(Pe),ve)},decodeString(Pe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Pe):function(Pe){const ve=[];let Ve=0,Et=0;for(;Ve<Pe.length;){const re=Pe[Ve++];if(re<128)ve[Et++]=String.fromCharCode(re);else if(re>191&&re<224){const Se=Pe[Ve++];ve[Et++]=String.fromCharCode((31&re)<<6|63&Se)}else if(re>239&&re<365){const at=((7&re)<<18|(63&Pe[Ve++])<<12|(63&Pe[Ve++])<<6|63&Pe[Ve++])-65536;ve[Et++]=String.fromCharCode(55296+(at>>10)),ve[Et++]=String.fromCharCode(56320+(1023&at))}else{const Se=Pe[Ve++],oe=Pe[Ve++];ve[Et++]=String.fromCharCode((15&re)<<12|(63&Se)<<6|63&oe)}}return ve.join("")}(this.decodeStringToByteArray(Pe,ve))},decodeStringToByteArray(Pe,ve){this.init_();const Ve=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Et=[];for(let re=0;re<Pe.length;){const Se=Ve[Pe.charAt(re++)],we=re<Pe.length?Ve[Pe.charAt(re)]:0;++re;const jt=re<Pe.length?Ve[Pe.charAt(re)]:64;++re;const vn=re<Pe.length?Ve[Pe.charAt(re)]:64;if(++re,null==Se||null==we||null==jt||null==vn)throw new Ne;Et.push(Se<<2|we>>4),64!==jt&&(Et.push(we<<4&240|jt>>2),64!==vn&&Et.push(jt<<6&192|vn))}return Et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qe=function(Pe){return function(Pe){const ve=W(Pe);return Ue.encodeByteArray(ve,!0)}(Pe).replace(/\./g,"")},ge=function(Pe){try{return Ue.decodeString(Pe,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null},zt=()=>{try{return function vt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Pe&&ge(Pe[1]);return ve&&JSON.parse(ve)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},dn=Pe=>{var ve,Ve;return null===(Ve=null===(ve=zt())||void 0===ve?void 0:ve.emulatorHosts)||void 0===Ve?void 0:Ve[Pe]},En=Pe=>{const ve=dn(Pe);if(!ve)return;const Ve=ve.lastIndexOf(":");if(Ve<=0||Ve+1===ve.length)throw new Error(`Invalid host ${ve} with no separate hostname and port!`);const Et=parseInt(ve.substring(Ve+1),10);return"["===ve[0]?[ve.substring(1,Ve-1),Et]:[ve.substring(0,Ve),Et]},Dt=()=>{var Pe;return null===(Pe=zt())||void 0===Pe?void 0:Pe.config},Ye=Pe=>{var ve;return null===(ve=zt())||void 0===ve?void 0:ve[`_${Pe}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Ve)=>{this.resolve=ve,this.reject=Ve})}wrapCallback(ve){return(Ve,Et)=>{Ve?this.reject(Ve):this.resolve(Et),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Ve):ve(Ve,Et))}}}function Vt(Pe,ve){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Et=ve||"demo-project",re=Pe.iat||0,Se=Pe.sub||Pe.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${Et}`,aud:Et,iat:re,exp:re+3600,auth_time:re,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(oe)),""].join(".")}function qt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function cn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function un(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function xt(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lt(){const Pe=qt();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Un(){return!function te(){var Pe;const ve=null===(Pe=zt())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((Pe,ve)=>{try{let Ve=!0;const Et="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Et);re.onsuccess=()=>{re.result.close(),Ve||self.indexedDB.deleteDatabase(Et),Pe(!0)},re.onupgradeneeded=()=>{Ve=!1},re.onerror=()=>{var Se;ve((null===(Se=re.error)||void 0===Se?void 0:Se.message)||"")}}catch(Ve){ve(Ve)}})}class et extends Error{constructor(ve,Ve,Et){super(Ve),this.code=ve,this.customData=Et,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(ve,Ve,Et){this.service=ve,this.serviceName=Ve,this.errors=Et}create(ve,...Ve){const Et=Ve[0]||{},re=`${this.service}/${ve}`,Se=this.errors[ve],oe=Se?function _e(Pe,ve){return Pe.replace(Oe,(Ve,Et)=>{const re=ve[Et];return null!=re?String(re):`<${Et}?>`})}(Se,Et):"Error";return new et(re,`${this.serviceName}: ${oe} (${re}).`,Et)}}const Oe=/\{\$([^}]+)}/g;function It(Pe){for(const ve in Pe)if(Object.prototype.hasOwnProperty.call(Pe,ve))return!1;return!0}function _n(Pe,ve){if(Pe===ve)return!0;const Ve=Object.keys(Pe),Et=Object.keys(ve);for(const re of Ve){if(!Et.includes(re))return!1;const Se=Pe[re],oe=ve[re];if(Pt(Se)&&Pt(oe)){if(!_n(Se,oe))return!1}else if(Se!==oe)return!1}for(const re of Et)if(!Ve.includes(re))return!1;return!0}function Pt(Pe){return null!==Pe&&"object"==typeof Pe}function Yn(Pe){const ve=[];for(const[Ve,Et]of Object.entries(Pe))Array.isArray(Et)?Et.forEach(re=>{ve.push(encodeURIComponent(Ve)+"="+encodeURIComponent(re))}):ve.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Et));return ve.length?"&"+ve.join("&"):""}function Bn(Pe){const ve={};return Pe.replace(/^\?/,"").split("&").forEach(Et=>{if(Et){const[re,Se]=Et.split("=");ve[decodeURIComponent(re)]=decodeURIComponent(Se)}}),ve}function Pr(Pe){const ve=Pe.indexOf("?");if(!ve)return"";const Ve=Pe.indexOf("#",ve);return Pe.substring(ve,Ve>0?Ve:void 0)}function xr(Pe,ve){const Ve=new ir(Pe,ve);return Ve.subscribe.bind(Ve)}class ir{constructor(ve,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{ve(this)}).catch(Et=>{this.error(Et)})}next(ve){this.forEachObserver(Ve=>{Ve.next(ve)})}error(ve){this.forEachObserver(Ve=>{Ve.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Ve,Et){let re;if(void 0===ve&&void 0===Ve&&void 0===Et)throw new Error("Missing Observer.");re=function Jt(Pe,ve){if("object"!=typeof Pe||null===Pe)return!1;for(const Ve of ve)if(Ve in Pe&&"function"==typeof Pe[Ve])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Ve,complete:Et},void 0===re.next&&(re.next=gr),void 0===re.error&&(re.error=gr),void 0===re.complete&&(re.complete=gr);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Se}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,ve)}sendOne(ve,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Ve(this.observers[ve])}catch(Et){typeof console<"u"&&console.error&&console.error(Et)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gr(){}function ti(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},3473:(an,Je,V)=>{var I=V(345),z=V(1626),ce=V(9025),W=V(3953);let Ee=(()=>{class D{static \u0275fac=function(S){return new(S||D)};static \u0275cmp=W.VBU({type:D,selectors:[["app-header"]],decls:13,vars:0,consts:[[1,"container","dark","flex-center"],[1,"flex","flex-row","gap-8"],["href","",1,"link-button"]],template:function(S,O){1&S&&(W.j41(0,"header")(1,"div",0)(2,"nav")(3,"ul",1)(4,"li")(5,"a",2),W.EFF(6,"home"),W.k0s()(),W.j41(7,"li")(8,"a",2),W.EFF(9,"shop"),W.k0s()(),W.j41(10,"li")(11,"a",2),W.EFF(12,"about"),W.k0s()()()()()())},styles:["header[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:100%;height:50px;justify-content:center;align-items:center;display:flex;position:sticky;top:0;z-index:10}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{align-items:center;display:flex}"]})}return D})();var Ue=V(177);let Ne=(()=>{class D{static \u0275fac=function(S){return new(S||D)};static \u0275cmp=W.VBU({type:D,selectors:[["app-footer"]],decls:55,vars:1,consts:[[1,"footer","dark"],[1,"container"],[1,"footer-content"],[1,"footer-section"],["href","mailto:info@cubeart.cz"],["href","tel:+420123456789"],["routerLink","/about"],["routerLink","/shop"],["routerLink","/faq"],["routerLink","/contact"],[1,"social-icons"],["href","https://www.facebook.com","target","_blank","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","https://www.instagram.com","target","_blank","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","https://www.twitter.com","target","_blank","aria-label","Twitter"],[1,"fab","fa-x-twitter"],[1,"footer-bottom"],["routerLink","/privacy-policy"],["routerLink","/terms"]],template:function(S,O){1&S&&(W.j41(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),W.EFF(5,"\u041f\u0440\u043e \u043d\u0430\u0441"),W.k0s(),W.j41(6,"p"),W.EFF(7,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d \u0443 \u0441\u0442\u0438\u043b\u0456 Minecraft. \u041f\u043e\u043a\u0440\u0430\u0449\u0443\u0439\u0442\u0435 \u0441\u0432\u0456\u0439 \u0456\u043d\u0442\u0435\u0440'\u0454\u0440 \u043b\u0435\u0433\u043a\u043e!"),W.k0s()(),W.j41(8,"div",3)(9,"h4"),W.EFF(10,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),W.k0s(),W.j41(11,"ul")(12,"li")(13,"a",4),W.EFF(14),W.k0s()(),W.j41(15,"li")(16,"a",5),W.EFF(17,"+420 123 456 789"),W.k0s()(),W.j41(18,"li"),W.EFF(19,"\u041b\u0456\u0431\u0435\u0440\u0435\u0446, \u0427\u0435\u0445\u0456\u044f"),W.k0s()()(),W.j41(20,"div",3)(21,"h4"),W.EFF(22,"\u041a\u043e\u0440\u0438\u0441\u043d\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f"),W.k0s(),W.j41(23,"ul")(24,"li")(25,"a",6),W.EFF(26,"\u041f\u0440\u043e \u043d\u0430\u0441"),W.k0s()(),W.j41(27,"li")(28,"a",7),W.EFF(29,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),W.k0s()(),W.j41(30,"li")(31,"a",8),W.EFF(32,"\u0427\u0430\u0441\u0442\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f"),W.k0s()(),W.j41(33,"li")(34,"a",9),W.EFF(35,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"),W.k0s()()()(),W.j41(36,"div",3)(37,"h4"),W.EFF(38,"\u041c\u0438 \u0443 \u0441\u043e\u0446\u043c\u0435\u0440\u0435\u0436\u0430\u0445"),W.k0s(),W.j41(39,"div",10)(40,"a",11),W.nrm(41,"i",12),W.k0s(),W.j41(42,"a",13),W.nrm(43,"i",14),W.k0s(),W.j41(44,"a",15),W.nrm(45,"i",16),W.k0s()()()(),W.j41(46,"div",17)(47,"p"),W.EFF(48,"\xa9 2025 CubeArt. \u0412\u0441\u0456 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u043e."),W.k0s(),W.j41(49,"p")(50,"a",18),W.EFF(51,"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"),W.k0s(),W.EFF(52," | "),W.j41(53,"a",19),W.EFF(54,"\u0423\u043c\u043e\u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f"),W.k0s()()()()()),2&S&&(W.R7$(14),W.JRh("info@cubeart.cz"))},dependencies:[Ue.MD,ce.iI,ce.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#1a1a1a;color:#fff;padding:40px 0 80px;font-size:14px}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;text-align:left}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px;color:#fc0}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd;text-decoration:none;transition:color .3s}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc0}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{display:flex;gap:10px}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fc0;font-size:20px;transition:transform .3s,color .3s}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]   .footer-section[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#fff}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:20px;border-top:1px solid rgba(255,255,255,.2);padding-top:15px}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fc0;text-decoration:none;transition:color .3s}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}"]})}return D})(),je=(()=>{class D{static \u0275fac=function(S){return new(S||D)};static \u0275cmp=W.VBU({type:D,selectors:[["app-mobile-menu"]],decls:13,vars:0,consts:[[1,"mobile-menu"],["routerLink","/","aria-label","\u0413\u043e\u043b\u043e\u0432\u043d\u0430",1,"menu-item"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z","fill","white"],["routerLink","/shop","aria-label","\u041c\u0430\u0433\u0430\u0437\u0438\u043d",1,"menu-item"],["d","M4 4h16v2H4V4zm-1 4h18l-1 10H4L3 8zm3 12h10v2H6v-2z","fill","white"],["routerLink","/reviews","aria-label","\u0412\u0456\u0434\u0433\u0443\u043a\u0438",1,"menu-item"],["d","M2 21l1.5-5.5L2 10l10-6 10 6v10H2z","fill","white"],["routerLink","/favorites","aria-label","\u041e\u0431\u0440\u0430\u043d\u0435",1,"menu-item"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","fill","white"]],template:function(S,O){1&S&&(W.j41(0,"nav",0)(1,"a",1),W.qSk(),W.j41(2,"svg",2),W.nrm(3,"path",3),W.k0s()(),W.joV(),W.j41(4,"a",4),W.qSk(),W.j41(5,"svg",2),W.nrm(6,"path",5),W.k0s()(),W.joV(),W.j41(7,"a",6),W.qSk(),W.j41(8,"svg",2),W.nrm(9,"path",7),W.k0s()(),W.joV(),W.j41(10,"a",8),W.qSk(),W.j41(11,"svg",2),W.nrm(12,"path",9),W.k0s()()())},styles:['[_ngcontent-%COMP%]:root{--primary-color: #6200ea;--primary-hover: #6200ea99;--secondary-color: #03dac6;--secondary-hover: #03dac699;--accent-color: #a7db17;--accent-hover: #a7db1799;--bg-color: #f5f5f5;--text-color-headings: #242424;--text-color-headings-light: #fff;--text-color: #242424;--font-family-headings: "Press Start 2P", "Courier New", monospace;--font-family-base: "Trebuchet MS", Arial, sans-serif;--box-shadow: rgba(9, 30, 66, .25) 0px 4px 8px -2px, rgba(9, 30, 66, .08) 0px 0px 0px 1px;--focus-shadow-color: rgba(--primary-color, .25);--media-desktop: 1280px;--media-laptop: 1025px;--media-netbook: 960px;--media-tablet: 832px;--media-tablet-small: 672px;--media-mobile: 480px;--media-mobile-small: 336px}.mobile-menu[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background:#000;display:none;justify-content:space-around;padding:10px 0;border-top:2px solid #333;height:50px;z-index:10}@media (max-width: 960px){.mobile-menu[_ngcontent-%COMP%]{display:flex}}.mobile-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#fff;font-size:24px;text-decoration:none;transition:color .3s}.mobile-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{color:#fc0}']})}return D})();function Qe(D,h){if(1&D&&(W.j41(0,"a",0),W.EFF(1),W.k0s()),2&D){const y=h.$implicit;W.Y8G("routerLink",y.route),W.R7$(),W.SpI("",y.text," ")}}let ge=(()=>{class D{messages=[{text:"test splash!",route:""}];static \u0275fac=function(S){return new(S||D)};static \u0275cmp=W.VBU({type:D,selectors:[["app-marquee"]],inputs:{messages:"messages"},decls:3,vars:0,consts:[[1,"link-button",3,"routerLink"]],template:function(S,O){1&S&&(W.j41(0,"marquee"),W.Z7z(1,Qe,2,2,"a",0,W.Vm6),W.k0s()),2&S&&(W.R7$(),W.Dyx(O.messages))},dependencies:[Ue.MD,ce.iI,ce.Wk],styles:["marquee[_ngcontent-%COMP%]{width:100%;padding:4px;margin-bottom:-6px;background-color:#000}marquee[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin-right:180px;font-size:14px}"]})}return D})();var fe=V(4909);let He=(()=>{class D{translate;constructor(y){this.translate=y}isBrowser(){return typeof window<"u"&&typeof window.localStorage<"u"}setLanguage(y){this.isBrowser()&&localStorage.setItem("selectedLanguage",y),this.translate.use(y)}getLanguage(){return this.isBrowser()&&localStorage.getItem("selectedLanguage")||"en"}loadLanguage(){const y=this.getLanguage();this.translate.use(y)}static \u0275fac=function(S){return new(S||D)(W.KVO(fe.c$))};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),St=(()=>{class D{languageService;title="shop-ang-19";constructor(y){this.languageService=y}ngOnInit(){this.languageService.loadLanguage()}static \u0275fac=function(S){return new(S||D)(W.rXU(He))};static \u0275cmp=W.VBU({type:D,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"relative"],[1,"flex-center","pre-header"]],template:function(S,O){1&S&&(W.j41(0,"div",0)(1,"div",1)(2,"h1"),W.EFF(3,"Cube Art"),W.k0s()(),W.nrm(4,"app-header")(5,"router-outlet")(6,"app-marquee")(7,"app-footer")(8,"app-mobile-menu"),W.k0s())},dependencies:[ce.n3,Ee,Ne,je,ge],styles:[".pre-header[_ngcontent-%COMP%]{width:100%;padding:24px;background-size:cover;background-position:center;background-color:#000444}.pre-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff5ee}"]})}return D})();const vt=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>Promise.all([V.e(417),V.e(76),V.e(551)]).then(V.bind(V,1551)).then(D=>D.HomeComponent)},{path:"me",loadComponent:()=>Promise.all([V.e(76),V.e(284)]).then(V.bind(V,6284)).then(D=>D.MeComponent)},{path:"auth",loadChildren:()=>Promise.all([V.e(417),V.e(76),V.e(612)]).then(V.bind(V,7612)).then(D=>D.AuthModule)},{path:"catalog",loadChildren:()=>Promise.all([V.e(417),V.e(76),V.e(619)]).then(V.bind(V,619)).then(D=>D.CatalogModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];var At=V(9030),mn=V(8810),fn=V(3726),zt=V(7673),dn=V(8793),En=V(1413),Dt=V(1985),Ye=V(5343);const Tt=new Dt.c(Ye.l);var qt=V(7786),cn=V(8455),te=V(6354),ke=V(5964),Ht=V(5558),un=V(17),xt=V(8071),Ut=V(8750),$n=V(9974);const We={connector:()=>new En.B};function ft(D,h=We){const{connector:y}=h;return(0,$n.N)((S,O)=>{const K=y();(0,Ut.Tg)(D(function Lt(D){return new Dt.c(h=>D.subscribe(h))}(K))).subscribe(O),O.add(S.subscribe(K))})}var Ie=V(6697),Ae=V(8141),Re=V(3357);const et="Service workers are disabled or not supported by this browser";class _e{serviceWorker;worker;registration;events;constructor(h){if(this.serviceWorker=h,h){const S=(0,fn.R)(h,"controllerchange").pipe((0,te.T)(()=>h.controller)),O=(0,At.v)(()=>(0,zt.of)(h.controller)),K=(0,dn.x)(O,S);this.worker=K.pipe((0,ke.p)(g=>!!g)),this.registration=this.worker.pipe((0,Ht.n)(()=>h.getRegistration()));const d=(0,fn.R)(h,"message").pipe((0,te.T)(g=>g.data)).pipe((0,ke.p)(g=>g&&g.type)).pipe(function ye(D){return D?h=>ft(D)(h):h=>function Un(D,h){const y=(0,xt.T)(D)?D:()=>D;return(0,xt.T)(h)?ft(h,{connector:y}):S=>new un.G(S,y)}(new En.B)(h)}());d.connect(),this.events=d}else this.worker=this.events=this.registration=function yt(D){return(0,At.v)(()=>(0,mn.$)(new Error(D)))}(et)}postMessage(h,y){return this.worker.pipe((0,Ie.s)(1),(0,Ae.M)(S=>{S.postMessage({action:h,...y})})).toPromise().then(()=>{})}postMessageWithOperation(h,y,S){const O=this.waitForOperationCompleted(S),K=this.postMessage(h,y);return Promise.all([K,O]).then(([,ne])=>ne)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(h){let y;return y="string"==typeof h?S=>S.type===h:S=>h.includes(S.type),this.events.pipe((0,ke.p)(y))}nextEventOfType(h){return this.eventsOfType(h).pipe((0,Ie.s)(1))}waitForOperationCompleted(h){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ke.p)(y=>y.nonce===h),(0,Ie.s)(1),(0,te.T)(y=>{if(void 0!==y.result)return y.result;throw new Error(y.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Oe=(()=>{class D{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new En.B;constructor(y){if(this.sw=y,!y.isEnabled)return this.messages=Tt,this.notificationClicks=Tt,void(this.subscription=Tt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,te.T)(O=>O.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,te.T)(O=>O.data)),this.pushManager=this.sw.registration.pipe((0,te.T)(O=>O.pushManager));const S=this.pushManager.pipe((0,Ht.n)(O=>O.getSubscription()));this.subscription=(0,qt.h)(S,this.subscriptionChanges)}requestSubscription(y){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(et));const S={userVisibleOnly:!0};let O=this.decodeBase64(y.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),K=new Uint8Array(new ArrayBuffer(O.length));for(let ne=0;ne<O.length;ne++)K[ne]=O.charCodeAt(ne);return S.applicationServerKey=K,this.pushManager.pipe((0,Ht.n)(ne=>ne.subscribe(S)),(0,Ie.s)(1)).toPromise().then(ne=>(this.subscriptionChanges.next(ne),ne))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ie.s)(1),(0,Ht.n)(S=>{if(null===S)throw new Error("Not subscribed to push notifications.");return S.unsubscribe().then(O=>{if(!O)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(et))}decodeBase64(y){return atob(y)}static \u0275fac=function(S){return new(S||D)(W.KVO(_e))};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})(),ht=(()=>{class D{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(y){if(this.sw=y,!y.isEnabled)return this.versionUpdates=Tt,void(this.unrecoverable=Tt);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(et));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:y},y)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(et));const y=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:y},y)}static \u0275fac=function(S){return new(S||D)(W.KVO(_e))};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})();const ut=new W.nKC("");function Wt(D,h,y){return()=>{if(!("serviceWorker"in navigator)||!1===y.enabled)return;const S=D.get(W.SKi),O=D.get(W.o8S);let K;if(S.runOutsideAngular(()=>{const ne=navigator.serviceWorker,de=()=>ne.controller?.postMessage({action:"INITIALIZE"});ne.addEventListener("controllerchange",de),O.onDestroy(()=>{ne.removeEventListener("controllerchange",de)})}),"function"==typeof y.registrationStrategy)K=y.registrationStrategy();else{const[ne,...de]=(y.registrationStrategy||"registerWhenStable:30000").split(":");switch(ne){case"registerImmediately":K=(0,zt.of)(null);break;case"registerWithDelay":K=wt(+de[0]||0);break;case"registerWhenStable":const _=(0,cn.H)(D.get(W.o8S).whenStable());K=de[0]?(0,qt.h)(_,wt(+de[0])):_;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${y.registrationStrategy}`)}}S.runOutsideAngular(()=>K.pipe((0,Ie.s)(1)).subscribe(()=>navigator.serviceWorker.register(h,{scope:y.scope}).catch(ne=>console.error("Service worker registration failed with:",ne))))}}function wt(D){return(0,zt.of)(null).pipe((0,Re.c)(D))}function Ze(D){return new _e(!1!==D.enabled?navigator.serviceWorker:void 0)}class nt{enabled;scope;registrationStrategy}var bt=V(7440),It=V(6335),yn=V(9967),_n=V(2967),Pt=V(4125),er=V(2214),Yn=V(467),Bn=V(7852),Pr=V(1076),tr=V(1362);const xr="firebasestorage.googleapis.com";class Cn extends Pr.g{constructor(h,y,S=0){super(Er(h),`Firebase Storage: ${y} (${Er(h)})`),this.status_=S,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cn.prototype)}get status(){return this.status_}set status(h){this.status_=h}_codeEquals(h){return Er(h)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(h){this.customData.serverResponse=h,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ur=function(D){return D.UNKNOWN="unknown",D.OBJECT_NOT_FOUND="object-not-found",D.BUCKET_NOT_FOUND="bucket-not-found",D.PROJECT_NOT_FOUND="project-not-found",D.QUOTA_EXCEEDED="quota-exceeded",D.UNAUTHENTICATED="unauthenticated",D.UNAUTHORIZED="unauthorized",D.UNAUTHORIZED_APP="unauthorized-app",D.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",D.INVALID_CHECKSUM="invalid-checksum",D.CANCELED="canceled",D.INVALID_EVENT_NAME="invalid-event-name",D.INVALID_URL="invalid-url",D.INVALID_DEFAULT_BUCKET="invalid-default-bucket",D.NO_DEFAULT_BUCKET="no-default-bucket",D.CANNOT_SLICE_BLOB="cannot-slice-blob",D.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",D.NO_DOWNLOAD_URL="no-download-url",D.INVALID_ARGUMENT="invalid-argument",D.INVALID_ARGUMENT_COUNT="invalid-argument-count",D.APP_DELETED="app-deleted",D.INVALID_ROOT_OPERATION="invalid-root-operation",D.INVALID_FORMAT="invalid-format",D.INTERNAL_ERROR="internal-error",D.UNSUPPORTED_ENVIRONMENT="unsupported-environment",D}(ur||{});function Er(D){return"storage/"+D}function Et(D){return new Cn(ur.INVALID_ARGUMENT,D)}function re(){return new Cn(ur.APP_DELETED,"The Firebase app was deleted.")}class at{constructor(h,y){this.bucket=h,this.path_=y}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const h=encodeURIComponent;return"/b/"+h(this.bucket)+"/o/"+h(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(h,y){let S;try{S=at.makeFromUrl(h,y)}catch{return new at(h,"")}if(""===S.path)return S;throw function Si(D){return new Cn(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+D+"'.")}(h)}static makeFromUrl(h,y){let S=null;const O="([A-Za-z0-9.\\-_]+)",de=new RegExp("^gs://"+O+"(/(.*))?$","i");function d(bn){bn.path_=decodeURIComponent(bn.path)}const T=y.replace(/[.]/g,"\\."),sn=[{regex:de,indices:{bucket:1,path:3},postModify:function K(bn){"/"===bn.path.charAt(bn.path.length-1)&&(bn.path_=bn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${O}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:d},{regex:new RegExp(`^https?://${y===xr?"(?:storage.googleapis.com|storage.cloud.google.com)":y}/${O}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:d}];for(let bn=0;bn<sn.length;bn++){const oi=sn[bn],Mi=oi.regex.exec(h);if(Mi){let Hi=Mi[oi.indices.path];Hi||(Hi=""),S=new at(Mi[oi.indices.bucket],Hi),oi.postModify(S);break}}if(null==S)throw function Mr(D){return new Cn(ur.INVALID_URL,"Invalid URL '"+D+"'.")}(h);return S}}class jt{constructor(h){this.promise_=Promise.reject(h)}getPromise(){return this.promise_}cancel(h=!1){}}function qo(D,h,y,S){if(S<h)throw Et(`Invalid value for '${D}'. Expected ${h} or greater.`);if(S>y)throw Et(`Invalid value for '${D}'. Expected ${y} or less.`)}var Fi=function(D){return D[D.NO_ERROR=0]="NO_ERROR",D[D.NETWORK_ERROR=1]="NETWORK_ERROR",D[D.ABORT=2]="ABORT",D}(Fi||{});class Ge{constructor(h,y,S,O,K,ne,de,_,d,g,T,F=!0){this.url_=h,this.method_=y,this.headers_=S,this.body_=O,this.successCodes_=K,this.additionalRetryCodes_=ne,this.callback_=de,this.errorCallback_=_,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=T,this.retry=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,ae)=>{this.resolve_=Q,this.reject_=ae,this.start_()})}start_(){const y=(S,O)=>{const K=this.resolve_,ne=this.reject_,de=O.connection;if(O.wasSuccessCode)try{const _=this.callback_(de,de.getResponse());!function or(D){return void 0!==D}(_)?K():K(_)}catch(_){ne(_)}else if(null!==de){const _=function Hn(){return new Cn(ur.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();_.serverResponse=de.getErrorText(),ne(this.errorCallback_?this.errorCallback_(de,_):_)}else ne(O.canceled?this.appDelete_?re():function zn(){return new Cn(ur.CANCELED,"User canceled the upload/download.")}():function lr(){return new Cn(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?y(0,new Ct(!1,null,!0)):this.backoffId_=function In(D,h,y){let S=1,O=null,K=null,ne=!1,de=0;function _(){return 2===de}let d=!1;function g(...tt){d||(d=!0,h.apply(null,tt))}function T(tt){O=setTimeout(()=>{O=null,D(Q,_())},tt)}function F(){K&&clearTimeout(K)}function Q(tt,...ot){if(d)return void F();if(tt)return F(),void g.call(null,tt,...ot);if(_()||ne)return F(),void g.call(null,tt,...ot);let sn;S<64&&(S*=2),1===de?(de=2,sn=0):sn=1e3*(S+Math.random()),T(sn)}let ae=!1;function be(tt){ae||(ae=!0,F(),!d&&(null!==O?(tt||(de=2),clearTimeout(O),T(0)):tt||(de=1)))}return T(0),K=setTimeout(()=>{ne=!0,be(!0)},y),be}((S,O)=>{if(O)return void S(!1,new Ct(!1,null,!0));const K=this.connectionFactory_();this.pendingConnection_=K;const ne=de=>{null!==this.progressCallback_&&this.progressCallback_(de.loaded,de.lengthComputable?de.total:-1)};null!==this.progressCallback_&&K.addUploadProgressListener(ne),K.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&K.removeUploadProgressListener(ne),this.pendingConnection_=null;const de=K.getErrorCode()===Fi.NO_ERROR,_=K.getStatus();if(!de||function dt(D,h){const y=D>=500&&D<600,O=-1!==[408,429].indexOf(D),K=-1!==h.indexOf(D);return y||O||K}(_,this.additionalRetryCodes_)&&this.retry){const g=K.getErrorCode()===Fi.ABORT;return void S(!1,new Ct(!1,null,g))}const d=-1!==this.successCodes_.indexOf(_);S(!0,new Ct(d,K))})},y,this.timeout_)}getPromise(){return this.promise_}cancel(h){this.canceled_=!0,this.appDelete_=h||!1,null!==this.backoffId_&&function vn(D){D(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ct{constructor(h,y,S){this.wasSuccessCode=h,this.connection=y,this.canceled=!!S}}class Zi{constructor(h,y){this._service=h,this._location=y instanceof at?y:at.makeFromUrl(y,h.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(h,y){return new Zi(h,y)}get root(){const h=new at(this._location.bucket,"");return this._newRef(this._service,h)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function nr(D){const h=D.lastIndexOf("/",D.length-2);return-1===h?D:D.slice(h+1)}(this._location.path)}get storage(){return this._service}get parent(){const h=function Tn(D){if(0===D.length)return null;const h=D.lastIndexOf("/");return-1===h?"":D.slice(0,h)}(this._location.path);if(null===h)return null;const y=new at(this._location.bucket,h);return new Zi(this._service,y)}_throwIfRoot(h){if(""===this._location.path)throw function Se(D){return new Cn(ur.INVALID_ROOT_OPERATION,"The operation '"+D+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(h)}}function wo(D,h){const y=h?.storageBucket;return null==y?null:at.makeFromBucketSpec(y,D)}class Ba{constructor(h,y,S,O,K){this.app=h,this._authProvider=y,this._appCheckProvider=S,this._url=O,this._firebaseVersion=K,this._bucket=null,this._host=xr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=O?at.makeFromBucketSpec(O,this._host):wo(this._host,this.app.options)}get host(){return this._host}set host(h){this._host=h,this._bucket=null!=this._url?at.makeFromBucketSpec(this._url,h):wo(h,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(h){qo("time",0,Number.POSITIVE_INFINITY,h),this._maxUploadRetryTime=h}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(h){qo("time",0,Number.POSITIVE_INFINITY,h),this._maxOperationRetryTime=h}_getAuthToken(){var h=this;return(0,Yn.A)(function*(){if(h._overrideAuthToken)return h._overrideAuthToken;const y=h._authProvider.getImmediate({optional:!0});if(y){const S=yield y.getToken();if(null!==S)return S.accessToken}return null})()}_getAppCheckToken(){var h=this;return(0,Yn.A)(function*(){const y=h._appCheckProvider.getImmediate({optional:!0});return y?(yield y.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(h=>h.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(h){return new Zi(this,h)}_makeRequest(h,y,S,O,K=!0){if(this._deleted)return new jt(re());{const ne=function kt(D,h,y,S,O,K,ne=!0){const de=function ko(D){const h=encodeURIComponent;let y="?";for(const S in D)D.hasOwnProperty(S)&&(y=y+(h(S)+"=")+h(D[S])+"&");return y=y.slice(0,-1),y}(D.urlParams),_=D.url+de,d=Object.assign({},D.headers);return function Pn(D,h){h&&(D["X-Firebase-GMPID"]=h)}(d,h),function nn(D,h){null!==h&&h.length>0&&(D.Authorization="Firebase "+h)}(d,y),function Ln(D,h){D["X-Firebase-Storage-Version"]="webjs/"+(h??"AppManager")}(d,K),function $t(D,h){null!==h&&(D["X-Firebase-AppCheck"]=h)}(d,S),new Ge(_,D.method,d,D.body,D.successCodes,D.additionalRetryCodes,D.handler,D.errorHandler,D.timeout,D.progressCallback,O,ne)}(h,this._appId,S,O,y,this._firebaseVersion,K);return this._requests.add(ne),ne.getPromise().then(()=>this._requests.delete(ne),()=>this._requests.delete(ne)),ne}}makeRequestWithTokens(h,y){var S=this;return(0,Yn.A)(function*(){const[O,K]=yield Promise.all([S._getAuthToken(),S._getAppCheckToken()]);return S._makeRequest(h,y,O,K).getPromise()})()}}const cr="@firebase/storage",ho="storage";function Ha(D=(0,Bn.Sx)(),h){D=(0,Pr.Ku)(D);const S=(0,Bn.j6)(D,ho).getImmediate({identifier:h}),O=(0,Pr.yU)("storage");return O&&function Ti(D,h,y,S={}){!function wa(D,h,y,S={}){D.host=`${h}:${y}`,D._protocol="http";const{mockUserToken:O}=S;O&&(D._overrideAuthToken="string"==typeof O?O:(0,Pr.Fy)(O,D.app.options.projectId))}(D,h,y,S)}(S,...O),S}function Gu(D,{instanceIdentifier:h}){const y=D.getProvider("app").getImmediate(),S=D.getProvider("auth-internal"),O=D.getProvider("app-check-internal");return new Ba(y,S,O,h,Bn.MF)}!function po(){(0,Bn.om)(new tr.uA(ho,Gu,"PUBLIC").setMultipleInstances(!0)),(0,Bn.KO)(cr,"0.13.5",""),(0,Bn.KO)(cr,"0.13.5","esm2017")}();class hu{constructor(h){return h}}const za="storage",Do=new W.nKC("angularfire2.storage-instances");function fc(D){return(h,y)=>{const S=h.runOutsideAngular(()=>D(y));return new hu(S)}}const la={provide:class Sr{constructor(){return(0,_n.CA)(za)}},deps:[[new W.Xx1,Do]]},qn={provide:hu,useFactory:function Ao(D,h){const y=(0,_n.lR)(za,D,h);return y&&new hu(y)},deps:[[new W.Xx1,Do],bt.XU]},as=(0,_n.S3)(Ha,!0),_l_firebaseConfig={apiKey:"AIzaSyASQ8jHDiFqvn4qalnj7rsl0WgbeyQRUds",authDomain:"cubeart-f77cf.firebaseapp.com",projectId:"cubeart-f77cf",storageBucket:"cubeart-f77cf.firebasestorage.app",messagingSenderId:"121577235222",appId:"1:121577235222:web:8abbe79856b09621042637",measurementId:"G-9V31W5THL1"};let Yr=(()=>{class D{intercept(y,S){const O=y.clone({setHeaders:{}});return S.handle(O)}static \u0275fac=function(S){return new(S||D)};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})();var Sn=V(9969);function qs(D){return new W.wOt(3e3,!1)}function Zs(D){switch(D.length){case 0:return new Sn.sf;case 1:return D[0];default:return new Sn.ui(D)}}function gc(D,h,y=new Map,S=new Map){const O=[],K=[];let ne=-1,de=null;if(h.forEach(_=>{const d=_.get("offset"),g=d==ne,T=g&&de||new Map;_.forEach((F,Q)=>{let ae=Q,be=F;if("offset"!==Q)switch(ae=D.normalizePropertyName(ae,O),be){case Sn.FX:be=y.get(Q);break;case Sn.kp:be=S.get(Q);break;default:be=D.normalizeStyleValue(Q,ae,be,O)}T.set(ae,be)}),g||K.push(T),de=T,ne=d}),O.length)throw function ei(){return new W.wOt(3502,!1)}();return K}function Ku(D,h,y,S){switch(h){case"start":D.onStart(()=>S(y&&qu(y,"start",D)));break;case"done":D.onDone(()=>S(y&&qu(y,"done",D)));break;case"destroy":D.onDestroy(()=>S(y&&qu(y,"destroy",D)))}}function qu(D,h,y){const K=Wc(D.element,D.triggerName,D.fromState,D.toState,h||D.phaseName,y.totalTime??D.totalTime,!!y.disabled),ne=D._data;return null!=ne&&(K._data=ne),K}function Wc(D,h,y,S,O="",K=0,ne){return{element:D,triggerName:h,fromState:y,toState:S,phaseName:O,totalTime:K,disabled:!!ne}}function ui(D,h,y){let S=D.get(h);return S||D.set(h,S=y),S}function Qu(D){const h=D.indexOf(":");return[D.substring(1,h),D.slice(h+1)]}const oo=typeof document>"u"?null:document.documentElement;function Qr(D){const h=D.parentNode||D.host||null;return h===oo?null:h}let ci=null,qa=!1;function Gc(D,h){for(;h;){if(h===D)return!0;h=Qr(h)}return!1}function go(D,h,y){if(y)return Array.from(D.querySelectorAll(h));const S=D.querySelector(h);return S?[S]:[]}let ha=(()=>{class D{validateStyleProperty(y){return function Tu(D){ci||(ci=function Zl(){return typeof document<"u"?document.body:null}()||{},qa=!!ci.style&&"WebkitAppearance"in ci.style);let h=!0;return ci.style&&!function mc(D){return"ebkit"==D.substring(1,6)}(D)&&(h=D in ci.style,!h&&qa&&(h="Webkit"+D.charAt(0).toUpperCase()+D.slice(1)in ci.style)),h}(y)}containsElement(y,S){return Gc(y,S)}getParentElement(y){return Qr(y)}query(y,S,O){return go(y,S,O)}computeStyle(y,S,O){return O||""}animate(y,S,O,K,ne,de=[],_){return new Sn.sf(O,K)}static \u0275fac=function(S){return new(S||D)};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})();class Kc{static NOOP=new ha}class Du{}const Xu="ng-enter",ls="ng-leave",Bi="ng-trigger",sr=".ng-trigger",ji="ng-animating",$i=".ng-animating";function qi(D){if("number"==typeof D)return D;const h=D.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Rs(parseFloat(h[1]),h[2])}function Rs(D,h){return"s"===h?1e3*D:D}function Xa(D,h,y){return D.hasOwnProperty("duration")?D:function Ps(D,h,y){let O,K=0,ne="";if("string"==typeof D){const de=D.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return h.push(qs()),{duration:0,delay:0,easing:""};O=Rs(parseFloat(de[1]),de[2]);const _=de[3];null!=_&&(K=Rs(parseFloat(_),de[4]));const d=de[5];d&&(ne=d)}else O=D;if(!y){let de=!1,_=h.length;O<0&&(h.push(function zc(){return new W.wOt(3100,!1)}()),de=!0),K<0&&(h.push(function Wn(){return new W.wOt(3101,!1)}()),de=!0),de&&h.splice(_,0,qs())}return{duration:O,delay:K,easing:ne}}(D,h,y)}function So(D,h,y){h.forEach((S,O)=>{const K=pa(O);y&&!y.has(O)&&y.set(O,D.style[K]),D.style[K]=S})}function fa(D,h){h.forEach((y,S)=>{const O=pa(S);D.style[O]=""})}function jo(D){return Array.isArray(D)?1==D.length?D[0]:(0,Sn.K2)(D):D}const Yu=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xc(D){let h=[];if("string"==typeof D){let y;for(;y=Yu.exec(D);)h.push(y[1]);Yu.lastIndex=0}return h}function ba(D,h,y){const S=`${D}`,O=S.replace(Yu,(K,ne)=>{let de=h[ne];return null==de&&(y.push(function Ka(){return new W.wOt(3003,!1)}()),de=""),de.toString()});return O==S?D:O}const Ms=/-+([a-z0-9])/g;function pa(D){return D.replace(Ms,(...h)=>h[1].toUpperCase())}function P(D,h,y){switch(h.type){case Sn.If.Trigger:return D.visitTrigger(h,y);case Sn.If.State:return D.visitState(h,y);case Sn.If.Transition:return D.visitTransition(h,y);case Sn.If.Sequence:return D.visitSequence(h,y);case Sn.If.Group:return D.visitGroup(h,y);case Sn.If.Animate:return D.visitAnimate(h,y);case Sn.If.Keyframes:return D.visitKeyframes(h,y);case Sn.If.Style:return D.visitStyle(h,y);case Sn.If.Reference:return D.visitReference(h,y);case Sn.If.AnimateChild:return D.visitAnimateChild(h,y);case Sn.If.AnimateRef:return D.visitAnimateRef(h,y);case Sn.If.Query:return D.visitQuery(h,y);case Sn.If.Stagger:return D.visitStagger(h,y);default:throw function Ca(){return new W.wOt(3004,!1)}()}}function B(D,h){return window.getComputedStyle(D)[h]}const Z=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class le extends Du{normalizePropertyName(h,y){return pa(h)}normalizeStyleValue(h,y,S,O){let K="";const ne=S.toString().trim();if(Z.has(y)&&0!==S&&"0"!==S)if("number"==typeof S)K="px";else{const de=S.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&O.push(function Co(){return new W.wOt(3005,!1)}())}return ne+K}}const ga=new Set(["true","1"]),Za=new Set(["false","0"]);function ao(D,h){const y=ga.has(D)||Za.has(D),S=ga.has(h)||Za.has(h);return(O,K)=>{let ne="*"==D||D==O,de="*"==h||h==K;return!ne&&y&&"boolean"==typeof O&&(ne=O?ga.has(D):Za.has(D)),!de&&S&&"boolean"==typeof K&&(de=K?ga.has(h):Za.has(h)),ne&&de}}const Zu=new RegExp("s*:selfs*,?","g");function yc(D,h,y,S){return new Yc(D).build(h,y,S)}class Yc{_driver;constructor(h){this._driver=h}build(h,y,S){const O=new Zc(y);return this._resetContextStyleTimingState(O),P(this,jo(h),O)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,y){let S=y.queryCount=0,O=y.depCount=0;const K=[],ne=[];return"@"==h.name.charAt(0)&&y.errors.push(function vu(){return new W.wOt(3006,!1)}()),h.definitions.forEach(de=>{if(this._resetContextStyleTimingState(y),de.type==Sn.If.State){const _=de,d=_.name;d.toString().split(/\s*,\s*/).forEach(g=>{_.name=g,K.push(this.visitState(_,y))}),_.name=d}else if(de.type==Sn.If.Transition){const _=this.visitTransition(de,y);S+=_.queryCount,O+=_.depCount,ne.push(_)}else y.errors.push(function Qs(){return new W.wOt(3007,!1)}())}),{type:Sn.If.Trigger,name:h.name,states:K,transitions:ne,queryCount:S,depCount:O,options:null}}visitState(h,y){const S=this.visitStyle(h.styles,y),O=h.options&&h.options.params||null;if(S.containsDynamicStyles){const K=new Set,ne=O||{};S.styles.forEach(de=>{de instanceof Map&&de.forEach(_=>{Xc(_).forEach(d=>{ne.hasOwnProperty(d)||K.add(d)})})}),K.size&&y.errors.push(function Eu(){return new W.wOt(3008,!1)}(0,K.values()))}return{type:Sn.If.State,name:h.name,style:S,options:O?{params:O}:null}}visitTransition(h,y){y.queryCount=0,y.depCount=0;const S=P(this,jo(h.animation),y),O=function so(D,h){const y=[];return"string"==typeof D?D.split(/\s*,\s*/).forEach(S=>function Ra(D,h,y){if(":"==D[0]){const _=function bo(D,h){switch(D){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,S)=>parseFloat(S)>parseFloat(y);case":decrement":return(y,S)=>parseFloat(S)<parseFloat(y);default:return h.push(function Kr(){return new W.wOt(3016,!1)}()),"* => *"}}(D,y);if("function"==typeof _)return void h.push(_);D=_}const S=D.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==S||S.length<4)return y.push(function Lr(){return new W.wOt(3015,!1)}()),h;const O=S[1],K=S[2],ne=S[3];h.push(ao(O,ne)),"<"==K[0]&&("*"!=O||"*"!=ne)&&h.push(ao(ne,O))}(S,y,h)):y.push(D),y}(h.expr,y.errors);return{type:Sn.If.Transition,matchers:O,animation:S,queryCount:y.queryCount,depCount:y.depCount,options:Ja(h.options)}}visitSequence(h,y){return{type:Sn.If.Sequence,steps:h.steps.map(S=>P(this,S,y)),options:Ja(h.options)}}visitGroup(h,y){const S=y.currentTime;let O=0;const K=h.steps.map(ne=>{y.currentTime=S;const de=P(this,ne,y);return O=Math.max(O,y.currentTime),de});return y.currentTime=O,{type:Sn.If.Group,steps:K,options:Ja(h.options)}}visitAnimate(h,y){const S=function Jl(D,h){if(D.hasOwnProperty("duration"))return D;if("number"==typeof D)return _c(Xa(D,h).duration,0,"");const y=D;if(y.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=_c(0,0,"");return K.dynamic=!0,K.strValue=y,K}const O=Xa(y,h);return _c(O.duration,O.delay,O.easing)}(h.timings,y.errors);y.currentAnimateTimings=S;let O,K=h.styles?h.styles:(0,Sn.iF)({});if(K.type==Sn.If.Keyframes)O=this.visitKeyframes(K,y);else{let ne=h.styles,de=!1;if(!ne){de=!0;const d={};S.easing&&(d.easing=S.easing),ne=(0,Sn.iF)(d)}y.currentTime+=S.duration+S.delay;const _=this.visitStyle(ne,y);_.isEmptyStep=de,O=_}return y.currentAnimateTimings=null,{type:Sn.If.Animate,timings:S,style:O,options:null}}visitStyle(h,y){const S=this._makeStyleAst(h,y);return this._validateStyleAst(S,y),S}_makeStyleAst(h,y){const S=[],O=Array.isArray(h.styles)?h.styles:[h.styles];for(let de of O)"string"==typeof de?de===Sn.kp?S.push(de):y.errors.push(new W.wOt(3002,!1)):S.push(new Map(Object.entries(de)));let K=!1,ne=null;return S.forEach(de=>{if(de instanceof Map&&(de.has("easing")&&(ne=de.get("easing"),de.delete("easing")),!K))for(let _ of de.values())if(_.toString().indexOf("{{")>=0){K=!0;break}}),{type:Sn.If.Style,styles:S,easing:ne,offset:h.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(h,y){const S=y.currentAnimateTimings;let O=y.currentTime,K=y.currentTime;S&&K>0&&(K-=S.duration+S.delay),h.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((de,_)=>{const d=y.collectedStyles.get(y.currentQuerySelector),g=d.get(_);let T=!0;g&&(K!=O&&K>=g.startTime&&O<=g.endTime&&(y.errors.push(function k(){return new W.wOt(3010,!1)}()),T=!1),K=g.startTime),T&&d.set(_,{startTime:K,endTime:O}),y.options&&function Qc(D,h,y){const S=h.params||{},O=Xc(D);O.length&&O.forEach(K=>{S.hasOwnProperty(K)||y.push(function jr(){return new W.wOt(3001,!1)}())})}(de,y.options,y.errors)})})}visitKeyframes(h,y){const S={type:Sn.If.Keyframes,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function $(){return new W.wOt(3011,!1)}()),S;let K=0;const ne=[];let de=!1,_=!1,d=0;const g=h.steps.map(ot=>{const Gt=this._makeStyleAst(ot,y);let sn=null!=Gt.offset?Gt.offset:function Md(D){if("string"==typeof D)return null;let h=null;if(Array.isArray(D))D.forEach(y=>{if(y instanceof Map&&y.has("offset")){const S=y;h=parseFloat(S.get("offset")),S.delete("offset")}});else if(D instanceof Map&&D.has("offset")){const y=D;h=parseFloat(y.get("offset")),y.delete("offset")}return h}(Gt.styles),bn=0;return null!=sn&&(K++,bn=Gt.offset=sn),_=_||bn<0||bn>1,de=de||bn<d,d=bn,ne.push(bn),Gt});_&&y.errors.push(function pe(){return new W.wOt(3012,!1)}()),de&&y.errors.push(function _t(){return new W.wOt(3200,!1)}());const T=h.steps.length;let F=0;K>0&&K<T?y.errors.push(function Ot(){return new W.wOt(3202,!1)}()):0==K&&(F=1/(T-1));const Q=T-1,ae=y.currentTime,be=y.currentAnimateTimings,tt=be.duration;return g.forEach((ot,Gt)=>{const sn=F>0?Gt==Q?1:F*Gt:ne[Gt],bn=sn*tt;y.currentTime=ae+be.delay+bn,be.duration=bn,this._validateStyleAst(ot,y),ot.offset=sn,S.styles.push(ot)}),S}visitReference(h,y){return{type:Sn.If.Reference,animation:P(this,jo(h.animation),y),options:Ja(h.options)}}visitAnimateChild(h,y){return y.depCount++,{type:Sn.If.AnimateChild,options:Ja(h.options)}}visitAnimateRef(h,y){return{type:Sn.If.AnimateRef,animation:this.visitReference(h.animation,y),options:Ja(h.options)}}visitQuery(h,y){const S=y.currentQuerySelector,O=h.options||{};y.queryCount++,y.currentQuery=h;const[K,ne]=function Nf(D){const h=!!D.split(/\s*,\s*/).find(y=>":self"==y);return h&&(D=D.replace(Zu,"")),D=D.replace(/@\*/g,sr).replace(/@\w+/g,y=>sr+"-"+y.slice(1)).replace(/:animating/g,$i),[D,h]}(h.selector);y.currentQuerySelector=S.length?S+" "+K:K,ui(y.collectedStyles,y.currentQuerySelector,new Map);const de=P(this,jo(h.animation),y);return y.currentQuery=null,y.currentQuerySelector=S,{type:Sn.If.Query,selector:K,limit:O.limit||0,optional:!!O.optional,includeSelf:ne,animation:de,originalSelector:h.selector,options:Ja(h.options)}}visitStagger(h,y){y.currentQuery||y.errors.push(function tn(){return new W.wOt(3013,!1)}());const S="full"===h.timings?{duration:0,delay:0,easing:"full"}:Xa(h.timings,y.errors,!0);return{type:Sn.If.Stagger,animation:P(this,jo(h.animation),y),timings:S,options:null}}}class Zc{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(h){this.errors=h}}function Ja(D){return D?(D={...D}).params&&(D.params=function Ns(D){return D?{...D}:null}(D.params)):D={},D}function _c(D,h,y){return{duration:D,delay:h,easing:y}}function Ju(D,h,y,S,O,K,ne=null,de=!1){return{type:1,element:D,keyframes:h,preStyleProps:y,postStyleProps:S,duration:O,delay:K,totalTime:O+K,easing:ne,subTimeline:de}}class vc{_map=new Map;get(h){return this._map.get(h)||[]}append(h,y){let S=this._map.get(h);S||this._map.set(h,S=[]),S.push(...y)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Yt=new RegExp(":enter","g"),li=new RegExp(":leave","g");function wi(D,h,y,S,O,K=new Map,ne=new Map,de,_,d=[]){return(new gi).buildKeyframes(D,h,y,S,O,K,ne,de,_,d)}class gi{buildKeyframes(h,y,S,O,K,ne,de,_,d,g=[]){d=d||new vc;const T=new Os(h,y,d,O,K,g,[]);T.options=_;const F=_.delay?qi(_.delay):0;T.currentTimeline.delayNextStep(F),T.currentTimeline.setStyles([ne],null,T.errors,_),P(this,S,T);const Q=T.timelines.filter(ae=>ae.containsAnimation());if(Q.length&&de.size){let ae;for(let be=Q.length-1;be>=0;be--){const tt=Q[be];if(tt.element===y){ae=tt;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([de],null,T.errors,_)}return Q.length?Q.map(ae=>ae.buildKeyframes()):[Ju(y,[],[],[],0,F,"",!1)]}visitTrigger(h,y){}visitState(h,y){}visitTransition(h,y){}visitAnimateChild(h,y){const S=y.subInstructions.get(y.element);if(S){const O=y.createSubContext(h.options),K=y.currentTimeline.currentTime,ne=this._visitSubInstructions(S,O,O.options);K!=ne&&y.transformIntoNewTimeline(ne)}y.previousNode=h}visitAnimateRef(h,y){const S=y.createSubContext(h.options);S.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],y,S),this.visitReference(h.animation,S),y.transformIntoNewTimeline(S.currentTimeline.currentTime),y.previousNode=h}_applyAnimationRefDelays(h,y,S){for(const O of h){const K=O?.delay;if(K){const ne="number"==typeof K?K:qi(ba(K,O?.params??{},y.errors));S.delayNextStep(ne)}}}_visitSubInstructions(h,y,S){let K=y.currentTimeline.currentTime;const ne=null!=S.duration?qi(S.duration):null,de=null!=S.delay?qi(S.delay):null;return 0!==ne&&h.forEach(_=>{const d=y.appendInstructionToTimeline(_,ne,de);K=Math.max(K,d.duration+d.delay)}),K}visitReference(h,y){y.updateOptions(h.options,!0),P(this,h.animation,y),y.previousNode=h}visitSequence(h,y){const S=y.subContextCount;let O=y;const K=h.options;if(K&&(K.params||K.delay)&&(O=y.createSubContext(K),O.transformIntoNewTimeline(),null!=K.delay)){O.previousNode.type==Sn.If.Style&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=uo);const ne=qi(K.delay);O.delayNextStep(ne)}h.steps.length&&(h.steps.forEach(ne=>P(this,ne,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>S&&O.transformIntoNewTimeline()),y.previousNode=h}visitGroup(h,y){const S=[];let O=y.currentTimeline.currentTime;const K=h.options&&h.options.delay?qi(h.options.delay):0;h.steps.forEach(ne=>{const de=y.createSubContext(h.options);K&&de.delayNextStep(K),P(this,ne,de),O=Math.max(O,de.currentTimeline.currentTime),S.push(de.currentTimeline)}),S.forEach(ne=>y.currentTimeline.mergeTimelineCollectedStyles(ne)),y.transformIntoNewTimeline(O),y.previousNode=h}_visitTiming(h,y){if(h.dynamic){const S=h.strValue;return Xa(y.params?ba(S,y.params,y.errors):S,y.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,y){const S=y.currentAnimateTimings=this._visitTiming(h.timings,y),O=y.currentTimeline;S.delay&&(y.incrementTime(S.delay),O.snapshotCurrentStyles());const K=h.style;K.type==Sn.If.Keyframes?this.visitKeyframes(K,y):(y.incrementTime(S.duration),this.visitStyle(K,y),O.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=h}visitStyle(h,y){const S=y.currentTimeline,O=y.currentAnimateTimings;!O&&S.hasCurrentStyleProperties()&&S.forwardFrame();const K=O&&O.easing||h.easing;h.isEmptyStep?S.applyEmptyStep(K):S.setStyles(h.styles,K,y.errors,y.options),y.previousNode=h}visitKeyframes(h,y){const S=y.currentAnimateTimings,O=y.currentTimeline.duration,K=S.duration,de=y.createSubContext().currentTimeline;de.easing=S.easing,h.styles.forEach(_=>{de.forwardTime((_.offset||0)*K),de.setStyles(_.styles,_.easing,y.errors,y.options),de.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(de),y.transformIntoNewTimeline(O+K),y.previousNode=h}visitQuery(h,y){const S=y.currentTimeline.currentTime,O=h.options||{},K=O.delay?qi(O.delay):0;K&&(y.previousNode.type===Sn.If.Style||0==S&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=uo);let ne=S;const de=y.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!O.optional,y.errors);y.currentQueryTotal=de.length;let _=null;de.forEach((d,g)=>{y.currentQueryIndex=g;const T=y.createSubContext(h.options,d);K&&T.delayNextStep(K),d===y.element&&(_=T.currentTimeline),P(this,h.animation,T),T.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,T.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ne),_&&(y.currentTimeline.mergeTimelineCollectedStyles(_),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=h}visitStagger(h,y){const S=y.parentContext,O=y.currentTimeline,K=h.timings,ne=Math.abs(K.duration),de=ne*(y.currentQueryTotal-1);let _=ne*y.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":_=de-_;break;case"full":_=S.currentStaggerTime}const g=y.currentTimeline;_&&g.delayNextStep(_);const T=g.currentTime;P(this,h.animation,y),y.previousNode=h,S.currentStaggerTime=O.currentTime-T+(O.startTime-S.currentTimeline.startTime)}}const uo={};class Os{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=uo;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(h,y,S,O,K,ne,de,_){this._driver=h,this.element=y,this.subInstructions=S,this._enterClassName=O,this._leaveClassName=K,this.errors=ne,this.timelines=de,this.currentTimeline=_||new ar(this._driver,y,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,y){if(!h)return;const S=h;let O=this.options;null!=S.duration&&(O.duration=qi(S.duration)),null!=S.delay&&(O.delay=qi(S.delay));const K=S.params;if(K){let ne=O.params;ne||(ne=this.options.params={}),Object.keys(K).forEach(de=>{(!y||!ne.hasOwnProperty(de))&&(ne[de]=ba(K[de],ne,this.errors))})}}_copyOptions(){const h={};if(this.options){const y=this.options.params;if(y){const S=h.params={};Object.keys(y).forEach(O=>{S[O]=y[O]})}}return h}createSubContext(h=null,y,S){const O=y||this.element,K=new Os(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,S||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(h),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(h){return this.previousNode=uo,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,y,S){const O={duration:y??h.duration,delay:this.currentTimeline.currentTime+(S??0)+h.delay,easing:""},K=new Pi(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,O,h.stretchStartingKeyframe);return this.timelines.push(K),O}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,y,S,O,K,ne){let de=[];if(O&&de.push(this.element),h.length>0){h=(h=h.replace(Yt,"."+this._enterClassName)).replace(li,"."+this._leaveClassName);let d=this._driver.query(this.element,h,1!=S);0!==S&&(d=S<0?d.slice(d.length+S,d.length):d.slice(0,S)),de.push(...d)}return!K&&0==de.length&&ne.push(function Dn(){return new W.wOt(3014,!1)}()),de}}class ar{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(h,y,S,O){this._driver=h,this.element=y,this.startTime=S,this._elementTimelineStylesLookup=O,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+h),y&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,y){return this.applyStylesToKeyframe(),new ar(this._driver,h,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,y){this._localTimelineStyles.set(h,y),this._globalTimelineStyles.set(h,y),this._styleSummary.set(h,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[y,S]of this._globalTimelineStyles)this._backFill.set(y,S||Sn.kp),this._currentKeyframe.set(y,Sn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,y,S,O){y&&this._previousKeyframe.set("easing",y);const K=O&&O.params||{},ne=function jn(D,h){const y=new Map;let S;return D.forEach(O=>{if("*"===O){S??=h.keys();for(let K of S)y.set(K,Sn.kp)}else for(let[K,ne]of O)y.set(K,ne)}),y}(h,this._globalTimelineStyles);for(let[de,_]of ne){const d=ba(_,K,S);this._pendingStyles.set(de,d),this._localTimelineStyles.has(de)||this._backFill.set(de,this._globalTimelineStyles.get(de)??Sn.kp),this._updateStyle(de,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,y)=>{this._currentKeyframe.set(y,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,h)}))}snapshotCurrentStyles(){for(let[h,y]of this._localTimelineStyles)this._pendingStyles.set(h,y),this._updateStyle(h,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let y in this._currentKeyframe)h.push(y);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((y,S)=>{const O=this._styleSummary.get(S);(!O||y.time>O.time)&&this._updateStyle(S,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,y=new Set,S=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((de,_)=>{const d=new Map([...this._backFill,...de]);d.forEach((g,T)=>{g===Sn.FX?h.add(T):g===Sn.kp&&y.add(T)}),S||d.set("offset",_/this.duration),O.push(d)});const K=[...h.values()],ne=[...y.values()];if(S){const de=O[0],_=new Map(de);de.set("offset",0),_.set("offset",1),O=[de,_]}return Ju(this.element,O,K,ne,this.duration,this.startTime,this.easing,!1)}}class Pi extends ar{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(h,y,S,O,K,ne,de=!1){super(h,y,ne.delay),this.keyframes=S,this.preStyleProps=O,this.postStyleProps=K,this._stretchStartingKeyframe=de,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:y,duration:S,easing:O}=this.timings;if(this._stretchStartingKeyframe&&y){const K=[],ne=S+y,de=y/ne,_=new Map(h[0]);_.set("offset",0),K.push(_);const d=new Map(h[0]);d.set("offset",$o(de)),K.push(d);const g=h.length-1;for(let T=1;T<=g;T++){let F=new Map(h[T]);const Q=F.get("offset");F.set("offset",$o((y+Q*S)/ne)),K.push(F)}S=ne,y=0,O="",h=K}return Ju(this.element,h,this.preStyleProps,this.postStyleProps,S,y,O,!0)}}function $o(D,h=3){const y=Math.pow(10,h-1);return Math.round(D*y)/y}function ma(D,h,y,S,O,K,ne,de,_,d,g,T,F){return{type:0,element:D,triggerName:h,isRemovalTransition:O,fromState:y,fromStyles:K,toState:S,toStyles:ne,timelines:de,queriedElements:_,preStyleProps:d,postStyleProps:g,totalTime:T,errors:F}}const Js={};class ea{_triggerName;ast;_stateStyles;constructor(h,y,S){this._triggerName=h,this.ast=y,this._stateStyles=S}match(h,y,S,O){return function ds(D,h,y,S,O){return D.some(K=>K(h,y,S,O))}(this.ast.matchers,h,y,S,O)}buildStyles(h,y,S){let O=this._stateStyles.get("*");return void 0!==h&&(O=this._stateStyles.get(h?.toString())||O),O?O.buildStyles(y,S):new Map}build(h,y,S,O,K,ne,de,_,d,g){const T=[],F=this.ast.options&&this.ast.options.params||Js,ae=this.buildStyles(S,de&&de.params||Js,T),be=_&&_.params||Js,tt=this.buildStyles(O,be,T),ot=new Set,Gt=new Map,sn=new Map,bn="void"===O,oi={params:Ic(be,F),delay:this.ast.options?.delay},Mi=g?[]:wi(h,y,this.ast.animation,K,ne,ae,tt,oi,d,T);let to=0;return Mi.forEach(Hi=>{to=Math.max(Hi.duration+Hi.delay,to)}),T.length?ma(y,this._triggerName,S,O,bn,ae,tt,[],[],Gt,sn,to,T):(Mi.forEach(Hi=>{const ks=Hi.element,Mo=ui(Gt,ks,new Set);Hi.preStyleProps.forEach(Ls=>Mo.add(Ls));const bc=ui(sn,ks,new Set);Hi.postStyleProps.forEach(Ls=>bc.add(Ls)),ks!==y&&ot.add(ks)}),ma(y,this._triggerName,S,O,bn,ae,tt,Mi,[...ot.values()],Gt,sn,to))}}function Ic(D,h){const y={...h};return Object.entries(D).forEach(([S,O])=>{null!=O&&(y[S]=O)}),y}class hs{styles;defaultParams;normalizer;constructor(h,y,S){this.styles=h,this.defaultParams=y,this.normalizer=S}buildStyles(h,y){const S=new Map,O=Ic(h,this.defaultParams);return this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((ne,de)=>{ne&&(ne=ba(ne,O,y));const _=this.normalizer.normalizePropertyName(de,y);ne=this.normalizer.normalizeStyleValue(de,_,ne,y),S.set(de,ne)})}),S}}class Cu{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(h,y,S){this.name=h,this.ast=y,this._normalizer=S,y.states.forEach(O=>{this.states.set(O.name,new hs(O.style,O.options&&O.options.params||{},S))}),ec(this.states,"true","1"),ec(this.states,"false","0"),y.transitions.forEach(O=>{this.transitionFactories.push(new ea(h,O,this.states))}),this.fallbackTransition=function tu(D,h){return new ea(D,{type:Sn.If.Transition,animation:{type:Sn.If.Sequence,steps:[],options:null},matchers:[(ne,de)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,y,S,O){return this.transitionFactories.find(ne=>ne.match(h,y,S,O))||null}matchStyles(h,y,S){return this.fallbackTransition.buildStyles(h,y,S)}}function ec(D,h,y){D.has(h)?D.has(y)||D.set(y,D.get(h)):D.has(y)&&D.set(h,D.get(y))}const tc=new vc;class fs{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(h,y,S){this.bodyNode=h,this._driver=y,this._normalizer=S}register(h,y){const S=[],K=yc(this._driver,y,S,[]);if(S.length)throw function Xs(){return new W.wOt(3503,!1)}();this._animations.set(h,K)}_buildPlayer(h,y,S){const O=h.element,K=gc(this._normalizer,h.keyframes,y,S);return this._driver.animate(O,K,h.duration,h.delay,h.easing,[],!0)}create(h,y,S={}){const O=[],K=this._animations.get(h);let ne;const de=new Map;if(K?(ne=wi(this._driver,y,K,Xu,ls,new Map,new Map,S,tc,O),ne.forEach(g=>{const T=ui(de,g.element,new Map);g.postStyleProps.forEach(F=>T.set(F,null))})):(O.push(function pi(){return new W.wOt(3300,!1)}()),ne=[]),O.length)throw function Uo(){return new W.wOt(3504,!1)}();de.forEach((g,T)=>{g.forEach((F,Q)=>{g.set(Q,this._driver.computeStyle(T,Q,Sn.kp))})});const d=Zs(ne.map(g=>{const T=de.get(g.element);return this._buildPlayer(g,new Map,T)}));return this._playersById.set(h,d),d.onDestroy(()=>this.destroy(h)),this.players.push(d),d}destroy(h){const y=this._getPlayer(h);y.destroy(),this._playersById.delete(h);const S=this.players.indexOf(y);S>=0&&this.players.splice(S,1)}_getPlayer(h){const y=this._playersById.get(h);if(!y)throw function qr(){return new W.wOt(3301,!1)}();return y}listen(h,y,S,O){const K=Wc(y,"","","");return Ku(this._getPlayer(h),S,K,O),()=>{}}command(h,y,S,O){if("register"==S)return void this.register(h,O[0]);if("create"==S)return void this.create(h,y,O[0]||{});const K=this._getPlayer(h);switch(S){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(h)}}}const wn="ng-animate-queued",Ho="ng-animate-disabled",di=[],yi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_i={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mo="__ng_removed";class zo{namespaceId;value;options;get params(){return this.options.params}constructor(h,y=""){this.namespaceId=y;const S=h&&h.hasOwnProperty("value");if(this.value=function wc(D){return D??null}(S?h.value:h),S){const{value:K,...ne}=h;this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const y=h.params;if(y){const S=this.options.params;Object.keys(y).forEach(O=>{null==S[O]&&(S[O]=y[O])})}}}const nu="void",ps=new zo(nu);class na{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(h,y,S){this.id=h,this.hostElement=y,this._engine=S,this._hostClassName="ng-tns-"+h,xs(y,this._hostClassName)}listen(h,y,S,O){if(!this._triggers.has(y))throw function Ys(){return new W.wOt(3302,!1)}();if(null==S||0==S.length)throw function hn(){return new W.wOt(3303,!1)}();if(!function vl(D){return"start"==D||"done"==D}(S))throw function cs(){return new W.wOt(3400,!1)}();const K=ui(this._elementListeners,h,[]),ne={name:y,phase:S,callback:O};K.push(ne);const de=ui(this._engine.statesByElement,h,new Map);return de.has(y)||(xs(h,Bi),xs(h,Bi+"-"+y),de.set(y,ps)),()=>{this._engine.afterFlush(()=>{const _=K.indexOf(ne);_>=0&&K.splice(_,1),this._triggers.has(y)||de.delete(y)})}}register(h,y){return!this._triggers.has(h)&&(this._triggers.set(h,y),!0)}_getTrigger(h){const y=this._triggers.get(h);if(!y)throw function Sa(){return new W.wOt(3401,!1)}();return y}trigger(h,y,S,O=!0){const K=this._getTrigger(y),ne=new ed(this.id,y,h);let de=this._engine.statesByElement.get(h);de||(xs(h,Bi),xs(h,Bi+"-"+y),this._engine.statesByElement.set(h,de=new Map));let _=de.get(y);const d=new zo(S,this.id);if(!(S&&S.hasOwnProperty("value"))&&_&&d.absorbOptions(_.options),de.set(y,d),_||(_=ps),d.value!==nu&&_.value===d.value){if(!function bh(D,h){const y=Object.keys(D),S=Object.keys(h);if(y.length!=S.length)return!1;for(let O=0;O<y.length;O++){const K=y[O];if(!h.hasOwnProperty(K)||D[K]!==h[K])return!1}return!0}(_.params,d.params)){const be=[],tt=K.matchStyles(_.value,_.params,be),ot=K.matchStyles(d.value,d.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{fa(h,tt),So(h,ot)})}return}const F=ui(this._engine.playersByElement,h,[]);F.forEach(be=>{be.namespaceId==this.id&&be.triggerName==y&&be.queued&&be.destroy()});let Q=K.matchTransition(_.value,d.value,h,d.params),ae=!1;if(!Q){if(!O)return;Q=K.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:y,transition:Q,fromState:_,toState:d,player:ne,isFallbackTransition:ae}),ae||(xs(h,wn),ne.onStart(()=>{Jc(h,wn)})),ne.onDone(()=>{let be=this.players.indexOf(ne);be>=0&&this.players.splice(be,1);const tt=this._engine.playersByElement.get(h);if(tt){let ot=tt.indexOf(ne);ot>=0&&tt.splice(ot,1)}}),this.players.push(ne),F.push(ne),ne}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(y=>y.delete(h)),this._elementListeners.forEach((y,S)=>{this._elementListeners.set(S,y.filter(O=>O.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const y=this._engine.playersByElement.get(h);y&&(y.forEach(S=>S.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,y){const S=this._engine.driver.query(h,sr,!0);S.forEach(O=>{if(O[mo])return;const K=this._engine.fetchNamespacesByElement(O);K.size?K.forEach(ne=>ne.triggerLeaveAnimation(O,y,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>S.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(h,y,S,O){const K=this._engine.statesByElement.get(h),ne=new Map;if(K){const de=[];if(K.forEach((_,d)=>{if(ne.set(d,_.value),this._triggers.has(d)){const g=this.trigger(h,d,nu,O);g&&de.push(g)}}),de.length)return this._engine.markElementAsRemoved(this.id,h,!0,y,ne),S&&Zs(de).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const y=this._elementListeners.get(h),S=this._engine.statesByElement.get(h);if(y&&S){const O=new Set;y.forEach(K=>{const ne=K.name;if(O.has(ne))return;O.add(ne);const _=this._triggers.get(ne).fallbackTransition,d=S.get(ne)||ps,g=new zo(nu),T=new ed(this.id,ne,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:ne,transition:_,fromState:d,toState:g,player:T,isFallbackTransition:!0})})}}removeNode(h,y){const S=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,y),this.triggerLeaveAnimation(h,y,!0))return;let O=!1;if(S.totalAnimations){const K=S.players.length?S.playersByQueriedElement.get(h):[];if(K&&K.length)O=!0;else{let ne=h;for(;ne=ne.parentNode;)if(S.statesByElement.get(ne)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(h),O)S.markElementAsRemoved(this.id,h,!1,y);else{const K=h[mo];(!K||K===yi)&&(S.afterFlush(()=>this.clearElementCache(h)),S.destroyInnerAnimations(h),S._onRemovalComplete(h,y))}}insertNode(h,y){xs(h,this._hostClassName)}drainQueuedTransitions(h){const y=[];return this._queue.forEach(S=>{const O=S.player;if(O.destroyed)return;const K=S.element,ne=this._elementListeners.get(K);ne&&ne.forEach(de=>{if(de.name==S.triggerName){const _=Wc(K,S.triggerName,S.fromState.value,S.toState.value);_._data=h,Ku(S.player,de.phase,_,de.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):y.push(S)}),this._queue=[],y.sort((S,O)=>{const K=S.transition.ast.depCount,ne=O.transition.ast.depCount;return 0==K||0==ne?K-ne:this._engine.driver.containsElement(S.element,O.element)?1:-1})}destroy(h){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class Od{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(h,y)=>{};_onRemovalComplete(h,y){this.onRemovalComplete(h,y)}constructor(h,y,S){this.bodyNode=h,this.driver=y,this._normalizer=S}get queuedPlayers(){const h=[];return this._namespaceList.forEach(y=>{y.players.forEach(S=>{S.queued&&h.push(S)})}),h}createNamespace(h,y){const S=new na(h,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(S,y):(this.newHostElements.set(y,S),this.collectEnterElement(y)),this._namespaceLookup[h]=S}_balanceNamespaceList(h,y){const S=this._namespaceList,O=this.namespacesByHostElement;if(S.length-1>=0){let ne=!1,de=this.driver.getParentElement(y);for(;de;){const _=O.get(de);if(_){const d=S.indexOf(_);S.splice(d+1,0,h),ne=!0;break}de=this.driver.getParentElement(de)}ne||S.unshift(h)}else S.push(h);return O.set(y,h),h}register(h,y){let S=this._namespaceLookup[h];return S||(S=this.createNamespace(h,y)),S}registerTrigger(h,y,S){let O=this._namespaceLookup[h];O&&O.register(y,S)&&this.totalAnimations++}destroy(h,y){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const S=this._fetchNamespace(h);this.namespacesByHostElement.delete(S.hostElement);const O=this._namespaceList.indexOf(S);O>=0&&this._namespaceList.splice(O,1),S.destroy(y),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const y=new Set,S=this.statesByElement.get(h);if(S)for(let O of S.values())if(O.namespaceId){const K=this._fetchNamespace(O.namespaceId);K&&y.add(K)}return y}trigger(h,y,S,O){if(Qi(y)){const K=this._fetchNamespace(h);if(K)return K.trigger(y,S,O),!0}return!1}insertNode(h,y,S,O){if(!Qi(y))return;const K=y[mo];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(y);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(h){const ne=this._fetchNamespace(h);ne&&ne.insertNode(y,S)}O&&this.collectEnterElement(y)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,y){y?this.disabledNodes.has(h)||(this.disabledNodes.add(h),xs(h,Ho)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Jc(h,Ho))}removeNode(h,y,S){if(Qi(y)){const O=h?this._fetchNamespace(h):null;O?O.removeNode(y,S):this.markElementAsRemoved(h,y,!1,S);const K=this.namespacesByHostElement.get(y);K&&K.id!==h&&K.removeNode(y,S)}else this._onRemovalComplete(y,S)}markElementAsRemoved(h,y,S,O,K){this.collectedLeaveElements.push(y),y[mo]={namespaceId:h,setForRemoval:O,hasAnimation:S,removedBeforeQueried:!1,previousTriggersValues:K}}listen(h,y,S,O,K){return Qi(y)?this._fetchNamespace(h).listen(y,S,O,K):()=>{}}_buildInstruction(h,y,S,O,K){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,S,O,h.fromState.options,h.toState.options,y,K)}destroyInnerAnimations(h){let y=this.driver.query(h,sr,!0);y.forEach(S=>this.destroyActiveAnimationsForElement(S)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(h,$i,!0),y.forEach(S=>this.finishActiveQueriedAnimationOnElement(S)))}destroyActiveAnimationsForElement(h){const y=this.playersByElement.get(h);y&&y.forEach(S=>{S.queued?S.markedForDestroy=!0:S.destroy()})}finishActiveQueriedAnimationOnElement(h){const y=this.playersByQueriedElement.get(h);y&&y.forEach(S=>S.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Zs(this.players).onDone(()=>h());h()})}processLeaveNode(h){const y=h[mo];if(y&&y.setForRemoval){if(h[mo]=yi,y.namespaceId){this.destroyInnerAnimations(h);const S=this._fetchNamespace(y.namespaceId);S&&S.clearElementCache(h)}this._onRemovalComplete(h,y.setForRemoval)}h.classList?.contains(Ho)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(S=>{this.markElementAsDisabled(S,!1)})}flush(h=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((S,O)=>this._balanceNamespaceList(S,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let S=0;S<this.collectedEnterElements.length;S++)xs(this.collectedEnterElements[S],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const S=[];try{y=this._flushAnimations(S,h)}finally{for(let O=0;O<S.length;O++)S[O]()}}else for(let S=0;S<this.collectedLeaveElements.length;S++)this.processLeaveNode(this.collectedLeaveElements[S]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(S=>S()),this._flushFns=[],this._whenQuietFns.length){const S=this._whenQuietFns;this._whenQuietFns=[],y.length?Zs(y).onDone(()=>{S.forEach(O=>O())}):S.forEach(O=>O())}}reportError(h){throw function Ji(){return new W.wOt(3402,!1)}()}_flushAnimations(h,y){const S=new vc,O=[],K=new Map,ne=[],de=new Map,_=new Map,d=new Map,g=new Set;this.disabledNodes.forEach(Fe=>{g.add(Fe);const Qt=this.driver.query(Fe,".ng-animate-queued",!0);for(let Zn=0;Zn<Qt.length;Zn++)g.add(Qt[Zn])});const T=this.bodyNode,F=Array.from(this.statesByElement.keys()),Q=El(F,this.collectedEnterElements),ae=new Map;let be=0;Q.forEach((Fe,Qt)=>{const Zn=Xu+be++;ae.set(Qt,Zn),Fe.forEach(Vr=>xs(Vr,Zn))});const tt=[],ot=new Set,Gt=new Set;for(let Fe=0;Fe<this.collectedLeaveElements.length;Fe++){const Qt=this.collectedLeaveElements[Fe],Zn=Qt[mo];Zn&&Zn.setForRemoval&&(tt.push(Qt),ot.add(Qt),Zn.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(Vr=>ot.add(Vr)):Gt.add(Qt))}const sn=new Map,bn=El(F,Array.from(ot));bn.forEach((Fe,Qt)=>{const Zn=ls+be++;sn.set(Qt,Zn),Fe.forEach(Vr=>xs(Vr,Zn))}),h.push(()=>{Q.forEach((Fe,Qt)=>{const Zn=ae.get(Qt);Fe.forEach(Vr=>Jc(Vr,Zn))}),bn.forEach((Fe,Qt)=>{const Zn=sn.get(Qt);Fe.forEach(Vr=>Jc(Vr,Zn))}),tt.forEach(Fe=>{this.processLeaveNode(Fe)})});const oi=[],Mi=[];for(let Fe=this._namespaceList.length-1;Fe>=0;Fe--)this._namespaceList[Fe].drainQueuedTransitions(y).forEach(Zn=>{const Vr=Zn.player,Rn=Zn.element;if(oi.push(Vr),this.collectedEnterElements.length){const Jo=Rn[mo];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(Zn.triggerName)){const Dl=Jo.previousTriggersValues.get(Zn.triggerName),Fs=this.statesByElement.get(Zn.element);if(Fs&&Fs.has(Zn.triggerName)){const Pc=Fs.get(Zn.triggerName);Pc.value=Dl,Fs.set(Zn.triggerName,Pc)}}return void Vr.destroy()}}const Pa=!T||!this.driver.containsElement(T,Rn),Zo=sn.get(Rn),yo=ae.get(Rn),Ni=this._buildInstruction(Zn,S,yo,Zo,Pa);if(Ni.errors&&Ni.errors.length)return void Mi.push(Ni);if(Pa)return Vr.onStart(()=>fa(Rn,Ni.fromStyles)),Vr.onDestroy(()=>So(Rn,Ni.toStyles)),void O.push(Vr);if(Zn.isFallbackTransition)return Vr.onStart(()=>fa(Rn,Ni.fromStyles)),Vr.onDestroy(()=>So(Rn,Ni.toStyles)),void O.push(Vr);const wl=[];Ni.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||wl.push(Jo)}),Ni.timelines=wl,S.append(Rn,Ni.timelines),ne.push({instruction:Ni,player:Vr,element:Rn}),Ni.queriedElements.forEach(Jo=>ui(de,Jo,[]).push(Vr)),Ni.preStyleProps.forEach((Jo,Dl)=>{if(Jo.size){let Fs=_.get(Dl);Fs||_.set(Dl,Fs=new Set),Jo.forEach((Pc,Mc)=>Fs.add(Mc))}}),Ni.postStyleProps.forEach((Jo,Dl)=>{let Fs=d.get(Dl);Fs||d.set(Dl,Fs=new Set),Jo.forEach((Pc,Mc)=>Fs.add(Mc))})});if(Mi.length){const Fe=[];Mi.forEach(Qt=>{Fe.push(function Iu(){return new W.wOt(3505,!1)}())}),oi.forEach(Qt=>Qt.destroy()),this.reportError(Fe)}const to=new Map,Hi=new Map;ne.forEach(Fe=>{const Qt=Fe.element;S.has(Qt)&&(Hi.set(Qt,Qt),this._beforeAnimationBuild(Fe.player.namespaceId,Fe.instruction,to))}),O.forEach(Fe=>{const Qt=Fe.element;this._getPreviousPlayers(Qt,!1,Fe.namespaceId,Fe.triggerName,null).forEach(Vr=>{ui(to,Qt,[]).push(Vr),Vr.destroy()})});const ks=tt.filter(Fe=>id(Fe,_,d)),Mo=new Map;Sh(Mo,this.driver,Gt,d,Sn.kp).forEach(Fe=>{id(Fe,_,d)&&ks.push(Fe)});const Ls=new Map;Q.forEach((Fe,Qt)=>{Sh(Ls,this.driver,new Set(Fe),_,Sn.FX)}),ks.forEach(Fe=>{const Qt=Mo.get(Fe),Zn=Ls.get(Fe);Mo.set(Fe,new Map([...Qt?.entries()??[],...Zn?.entries()??[]]))});const Rc=[],nc=[],Ou={};ne.forEach(Fe=>{const{element:Qt,player:Zn,instruction:Vr}=Fe;if(S.has(Qt)){if(g.has(Qt))return Zn.onDestroy(()=>So(Qt,Vr.toStyles)),Zn.disabled=!0,Zn.overrideTotalTime(Vr.totalTime),void O.push(Zn);let Rn=Ou;if(Hi.size>1){let Zo=Qt;const yo=[];for(;Zo=Zo.parentNode;){const Ni=Hi.get(Zo);if(Ni){Rn=Ni;break}yo.push(Zo)}yo.forEach(Ni=>Hi.set(Ni,Rn))}const Pa=this._buildAnimation(Zn.namespaceId,Vr,to,K,Ls,Mo);if(Zn.setRealPlayer(Pa),Rn===Ou)Rc.push(Zn);else{const Zo=this.playersByElement.get(Rn);Zo&&Zo.length&&(Zn.parentPlayer=Zs(Zo)),O.push(Zn)}}else fa(Qt,Vr.fromStyles),Zn.onDestroy(()=>So(Qt,Vr.toStyles)),nc.push(Zn),g.has(Qt)&&O.push(Zn)}),nc.forEach(Fe=>{const Qt=K.get(Fe.element);if(Qt&&Qt.length){const Zn=Zs(Qt);Fe.setRealPlayer(Zn)}}),O.forEach(Fe=>{Fe.parentPlayer?Fe.syncPlayerEvents(Fe.parentPlayer):Fe.destroy()});for(let Fe=0;Fe<tt.length;Fe++){const Qt=tt[Fe],Zn=Qt[mo];if(Jc(Qt,ls),Zn&&Zn.hasAnimation)continue;let Vr=[];if(de.size){let Pa=de.get(Qt);Pa&&Pa.length&&Vr.push(...Pa);let Zo=this.driver.query(Qt,$i,!0);for(let yo=0;yo<Zo.length;yo++){let Ni=de.get(Zo[yo]);Ni&&Ni.length&&Vr.push(...Ni)}}const Rn=Vr.filter(Pa=>!Pa.destroyed);Rn.length?td(this,Qt,Rn):this.processLeaveNode(Qt)}return tt.length=0,Rc.forEach(Fe=>{this.players.push(Fe),Fe.onDone(()=>{Fe.destroy();const Qt=this.players.indexOf(Fe);this.players.splice(Qt,1)}),Fe.play()}),Rc}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,y,S,O,K){let ne=[];if(y){const de=this.playersByQueriedElement.get(h);de&&(ne=de)}else{const de=this.playersByElement.get(h);if(de){const _=!K||K==nu;de.forEach(d=>{d.queued||!_&&d.triggerName!=O||ne.push(d)})}}return(S||O)&&(ne=ne.filter(de=>!(S&&S!=de.namespaceId||O&&O!=de.triggerName))),ne}_beforeAnimationBuild(h,y,S){const K=y.element,ne=y.isRemovalTransition?void 0:h,de=y.isRemovalTransition?void 0:y.triggerName;for(const _ of y.timelines){const d=_.element,g=d!==K,T=ui(S,d,[]);this._getPreviousPlayers(d,g,ne,de,y.toState).forEach(Q=>{const ae=Q.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),Q.destroy(),T.push(Q)})}fa(K,y.fromStyles)}_buildAnimation(h,y,S,O,K,ne){const de=y.triggerName,_=y.element,d=[],g=new Set,T=new Set,F=y.timelines.map(ae=>{const be=ae.element;g.add(be);const tt=be[mo];if(tt&&tt.removedBeforeQueried)return new Sn.sf(ae.duration,ae.delay);const ot=be!==_,Gt=function nd(D){const h=[];return rd(D,h),h}((S.get(be)||di).map(to=>to.getRealPlayer())).filter(to=>!!to.element&&to.element===be),sn=K.get(be),bn=ne.get(be),oi=gc(this._normalizer,ae.keyframes,sn,bn),Mi=this._buildPlayer(ae,oi,Gt);if(ae.subTimeline&&O&&T.add(be),ot){const to=new ed(h,de,be);to.setRealPlayer(Mi),d.push(to)}return Mi});d.forEach(ae=>{ui(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function bu(D,h,y){let S=D.get(h);if(S){if(S.length){const O=S.indexOf(y);S.splice(O,1)}0==S.length&&D.delete(h)}return S}(this.playersByQueriedElement,ae.element,ae))}),g.forEach(ae=>xs(ae,ji));const Q=Zs(F);return Q.onDestroy(()=>{g.forEach(ae=>Jc(ae,ji)),So(_,y.toStyles)}),T.forEach(ae=>{ui(O,ae,[]).push(Q)}),Q}_buildPlayer(h,y,S){return y.length>0?this.driver.animate(h.element,y,h.duration,h.delay,h.easing,S):new Sn.sf(h.duration,h.delay)}}class ed{namespaceId;triggerName;element;_player=new Sn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(h,y,S){this.namespaceId=h,this.triggerName=y,this.element=S}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((y,S)=>{y.forEach(O=>Ku(h,S,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const y=this._player;y.triggerCallback&&h.onStart(()=>y.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,y){ui(this._queuedCallbacks,h,[]).push(y)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const y=this._player;y.triggerCallback&&y.triggerCallback(h)}}function Qi(D){return D&&1===D.nodeType}function xd(D,h){const y=D.style.display;return D.style.display=h??"none",y}function Sh(D,h,y,S,O){const K=[];y.forEach(_=>K.push(xd(_)));const ne=[];S.forEach((_,d)=>{const g=new Map;_.forEach(T=>{const F=h.computeStyle(d,T,O);g.set(T,F),(!F||0==F.length)&&(d[mo]=_i,ne.push(d))}),D.set(d,g)});let de=0;return y.forEach(_=>xd(_,K[de++])),ne}function El(D,h){const y=new Map;if(D.forEach(de=>y.set(de,[])),0==h.length)return y;const O=new Set(h),K=new Map;function ne(de){if(!de)return 1;let _=K.get(de);if(_)return _;const d=de.parentNode;return _=y.has(d)?d:O.has(d)?1:ne(d),K.set(de,_),_}return h.forEach(de=>{const _=ne(de);1!==_&&y.get(_).push(de)}),y}function xs(D,h){D.classList?.add(h)}function Jc(D,h){D.classList?.remove(h)}function td(D,h,y){Zs(y).onDone(()=>D.processLeaveNode(h))}function rd(D,h){for(let y=0;y<D.length;y++){const S=D[y];S instanceof Sn.ui?rd(S.players,h):h.push(S)}}function id(D,h,y){const S=y.get(D);if(!S)return!1;let O=h.get(D);return O?S.forEach(K=>O.add(K)):h.set(D,S),y.delete(D),!0}class Dc{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(h,y)=>{};constructor(h,y,S){this._driver=y,this._normalizer=S,this._transitionEngine=new Od(h.body,y,S),this._timelineEngine=new fs(h.body,y,S),this._transitionEngine.onRemovalComplete=(O,K)=>this.onRemovalComplete(O,K)}registerTrigger(h,y,S,O,K){const ne=h+"-"+O;let de=this._triggerCache[ne];if(!de){const _=[],g=yc(this._driver,K,_,[]);if(_.length)throw function br(){return new W.wOt(3404,!1)}();de=function eu(D,h,y){return new Cu(D,h,y)}(O,g,this._normalizer),this._triggerCache[ne]=de}this._transitionEngine.registerTrigger(y,O,de)}register(h,y){this._transitionEngine.register(h,y)}destroy(h,y){this._transitionEngine.destroy(h,y)}onInsert(h,y,S,O){this._transitionEngine.insertNode(h,y,S,O)}onRemove(h,y,S){this._transitionEngine.removeNode(h,y,S)}disableAnimations(h,y){this._transitionEngine.markElementAsDisabled(h,y)}process(h,y,S,O){if("@"==S.charAt(0)){const[K,ne]=Qu(S);this._timelineEngine.command(K,y,ne,O)}else this._transitionEngine.trigger(h,y,S,O)}listen(h,y,S,O,K){if("@"==S.charAt(0)){const[ne,de]=Qu(S);return this._timelineEngine.listen(ne,y,de,K)}return this._transitionEngine.listen(h,y,S,O,K)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let el=(()=>{class D{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(y,S,O){this._element=y,this._startStyles=S,this._endStyles=O;let K=D.initialStylesByElement.get(y);K||D.initialStylesByElement.set(y,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&So(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(So(this._element,this._initialStyles),this._endStyles&&(So(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(D.initialStylesByElement.delete(this._element),this._startStyles&&(fa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fa(this._element,this._endStyles),this._endStyles=null),So(this._element,this._initialStyles),this._state=3)}}return D})();function Cc(D){let h=null;return D.forEach((y,S)=>{(function kd(D){return"display"===D||"position"===D})(S)&&(h=h||new Map,h.set(S,y))}),h}class Rh{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(h,y,S,O){this.element=h,this.keyframes=y,this.options=S,this._specialStyles=O,this._duration=S.duration,this._delay=S.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const y=[];return h.forEach(S=>{y.push(Object.fromEntries(S))}),y}_triggerWebAnimation(h,y,S){return h.animate(this._convertKeyframesToObject(y),S)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((S,O)=>{"offset"!==O&&h.set(O,this._finished?S:B(this.element,O))}),this.currentSnapshot=h}triggerCallback(h){const y="start"===h?this._onStartFns:this._onDoneFns;y.forEach(S=>S()),y.length=0}}class Ld{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}containsElement(h,y){return Gc(h,y)}getParentElement(h){return Qr(h)}query(h,y,S){return go(h,y,S)}computeStyle(h,y,S){return B(h,y)}animate(h,y,S,O,K,ne=[]){const _={duration:S,delay:O,fill:0==O?"both":"forwards"};K&&(_.easing=K);const d=new Map,g=ne.filter(Q=>Q instanceof Rh);(function M(D,h){return 0===D||0===h})(S,O)&&g.forEach(Q=>{Q.currentSnapshot.forEach((ae,be)=>d.set(be,ae))});let T=function Ya(D){return D.length?D[0]instanceof Map?D:D.map(h=>new Map(Object.entries(h))):[]}(y).map(Q=>new Map(Q));T=function C(D,h,y){if(y.size&&h.length){let S=h[0],O=[];if(y.forEach((K,ne)=>{S.has(ne)||O.push(ne),S.set(ne,K)}),O.length)for(let K=1;K<h.length;K++){let ne=h[K];O.forEach(de=>ne.set(de,B(D,de)))}}return h}(h,T,d);const F=function Ac(D,h){let y=null,S=null;return Array.isArray(h)&&h.length?(y=Cc(h[0]),h.length>1&&(S=Cc(h[h.length-1]))):h instanceof Map&&(y=Cc(h)),y||S?new el(D,y,S):null}(h,T);return new Rh(h,T,_,F)}}const tl="@.disabled";class od{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(h,y,S,O){this.namespaceId=h,this.delegate=y,this.engine=S,this._onDestroy=O}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,y){return this.delegate.createElement(h,y)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,y){this.delegate.appendChild(h,y),this.engine.onInsert(this.namespaceId,y,h,!1)}insertBefore(h,y,S,O=!0){this.delegate.insertBefore(h,y,S),this.engine.onInsert(this.namespaceId,y,h,O)}removeChild(h,y,S){this.parentNode(y)&&this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(h,y){return this.delegate.selectRootElement(h,y)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,y,S,O){this.delegate.setAttribute(h,y,S,O)}removeAttribute(h,y,S){this.delegate.removeAttribute(h,y,S)}addClass(h,y){this.delegate.addClass(h,y)}removeClass(h,y){this.delegate.removeClass(h,y)}setStyle(h,y,S,O){this.delegate.setStyle(h,y,S,O)}removeStyle(h,y,S){this.delegate.removeStyle(h,y,S)}setProperty(h,y,S){"@"==y.charAt(0)&&y==tl?this.disableAnimations(h,!!S):this.delegate.setProperty(h,y,S)}setValue(h,y){this.delegate.setValue(h,y)}listen(h,y,S,O){return this.delegate.listen(h,y,S,O)}disableAnimations(h,y){this.engine.disableAnimations(h,y)}}class Fd extends od{factory;constructor(h,y,S,O,K){super(y,S,O,K),this.factory=h,this.namespaceId=y}setProperty(h,y,S){"@"==y.charAt(0)?"."==y.charAt(1)&&y==tl?this.disableAnimations(h,S=void 0===S||!!S):this.engine.process(this.namespaceId,h,y.slice(1),S):this.delegate.setProperty(h,y,S)}listen(h,y,S,O){if("@"==y.charAt(0)){const K=function Vd(D){switch(D){case"body":return document.body;case"document":return document;case"window":return window;default:return D}}(h);let ne=y.slice(1),de="";return"@"!=ne.charAt(0)&&([ne,de]=function nl(D){const h=D.indexOf(".");return[D.substring(0,h),D.slice(h+1)]}(ne)),this.engine.listen(this.namespaceId,K,ne,de,_=>{this.factory.scheduleListenerCallback(_._data||-1,S,_)})}return this.delegate.listen(h,y,S,O)}}class Ud{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(h,y,S){this.delegate=h,this.engine=y,this._zone=S,y.onRemovalComplete=(O,K)=>{K?.removeChild(null,O)}}createRenderer(h,y){const O=this.delegate.createRenderer(h,y);if(!h||!y?.data?.animation){const d=this._rendererCache;let g=d.get(O);return g||(g=new od("",O,this.engine,()=>d.delete(O)),d.set(O,g)),g}const K=y.id,ne=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ne,h);const de=d=>{Array.isArray(d)?d.forEach(de):this.engine.registerTrigger(K,ne,h,d.name,d)};return y.data.animation.forEach(de),new Fd(this,ne,O,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(h,y,S){if(h>=0&&h<this._microtaskId)return void this._zone.run(()=>y(S));const O=this._animationCallbacksBuffer;0==O.length&&queueMicrotask(()=>{this._zone.run(()=>{O.forEach(K=>{const[ne,de]=K;ne(de)}),this._animationCallbacksBuffer=[]})}),O.push([y,S])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(h){this.engine.flush(),this.delegate.componentReplaced?.(h)}}const Ro=[{provide:Du,useFactory:function Pu(){return new le}},{provide:Dc,useClass:(()=>{class D extends Dc{constructor(y,S,O){super(y,S,O)}ngOnDestroy(){this.flush()}static \u0275fac=function(S){return new(S||D)(W.KVO(Ue.qQ),W.KVO(Kc),W.KVO(Du))};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})()},{provide:W._9s,useFactory:function sd(D,h,y){return new Ud(D,h,y)},deps:[I.B7,Dc,W.SKi]}],Il=[{provide:Kc,useFactory:()=>new Ld},{provide:W.bc$,useValue:"BrowserAnimations"},...Ro],Tl={providers:[(0,ce.lh)(vt),(0,I.$x)((0,I.gT)()),(0,z.$R)((0,z.Sx)()),(0,fe.D8)(),function se(D,h={}){return(0,W.EmA)([Oe,ht,{provide:ut,useValue:D},{provide:nt,useValue:h},{provide:_e,useFactory:Ze,deps:[nt]},{provide:W.hnV,useFactory:Wt,deps:[W.zZn,ut,nt],multi:!0}])}("ngsw-worker.js",{enabled:!(0,W.naY)(),registrationStrategy:"registerWhenStable:30000"}),(0,bt.MW)(()=>(0,bt.Wp)(_l_firebaseConfig)),(0,It._q)(()=>(0,It.xI)()),(0,yn.hV)(()=>(0,yn.aU)()),function ss(D,...h){return(0,er.KO)("angularfire",_n.xv.full,"gcs"),(0,W.EmA)([qn,la,{provide:Do,useFactory:fc(D),multi:!0,deps:[W.SKi,W.zZn,_n.u0,bt.gL,[new W.Xx1,It.DF],[new W.Xx1,Pt.kR],...h]}])}(()=>as()),{provide:z.a7,useClass:Yr,multi:!0},function rl(){return(0,W.ngT)("NgEagerAnimations"),[...Il]}()]};let ru=(()=>{class D{http;prefix;suffix;constructor(y,S="/assets/i18n/",O=".json"){this.http=y,this.prefix=S,this.suffix=O}getTranslation(y){return this.http.get(`${this.prefix}${y}${this.suffix}`)}static \u0275fac=function(S){return new(S||D)(W.KVO(z.Qq),W.KVO(String),W.KVO(String))};static \u0275prov=W.jDH({token:D,factory:D.\u0275fac})}return D})();(0,I.B8)(St,{providers:[...Tl.providers,(0,z.$R)((0,z.Sx)()),{provide:z.a7,useClass:Yr,multi:!0},fe.Mw,fe.c$,{provide:fe.Wr,useFactory:function Nu(D){return new ru(D,"./assets/i18n/",".json")},deps:[z.Qq]}]}).then(D=>{const h=D.injector.get(fe.c$);h.setDefaultLang("en"),h.use("en")}).catch(D=>console.error(D))},4412:(an,Je,V)=>{V.d(Je,{t:()=>z});var I=V(1413);class z extends I.B{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const Ee=super._subscribe(W);return!Ee.closed&&W.next(this._value),Ee}getValue(){const{hasError:W,thrownError:Ee,_value:Ue}=this;if(W)throw Ee;return this._throwIfClosed(),Ue}next(W){super.next(this._value=W)}}},1985:(an,Je,V)=>{V.d(Je,{c:()=>je});var I=V(7707),z=V(8359),ce=V(3494),W=V(1203),Ee=V(1026),Ue=V(8071),Ne=V(9786);let je=(()=>{class He{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const At=new He;return At.source=this,At.operator=vt,At}subscribe(vt,At,mn){const fn=function fe(He){return He&&He instanceof I.vU||function ge(He){return He&&(0,Ue.T)(He.next)&&(0,Ue.T)(He.error)&&(0,Ue.T)(He.complete)}(He)&&(0,z.Uv)(He)}(vt)?vt:new I.Ms(vt,At,mn);return(0,Ne.Y)(()=>{const{operator:zt,source:dn}=this;fn.add(zt?zt.call(fn,dn):dn?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(vt){try{return this._subscribe(vt)}catch(At){vt.error(At)}}forEach(vt,At){return new(At=Qe(At))((mn,fn)=>{const zt=new I.Ms({next:dn=>{try{vt(dn)}catch(En){fn(En),zt.unsubscribe()}},error:fn,complete:mn});this.subscribe(zt)})}_subscribe(vt){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(vt)}[ce.s](){return this}pipe(...vt){return(0,W.m)(vt)(this)}toPromise(vt){return new(vt=Qe(vt))((At,mn)=>{let fn;this.subscribe(zt=>fn=zt,zt=>mn(zt),()=>At(fn))})}}return He.create=St=>new He(St),He})();function Qe(He){var St;return null!==(St=He??Ee.$.Promise)&&void 0!==St?St:Promise}},1413:(an,Je,V)=>{V.d(Je,{B:()=>Ne});var I=V(1985),z=V(8359);const W=(0,V(1853).L)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=V(7908),Ue=V(9786);let Ne=(()=>{class Qe extends I.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const He=new je(this,this);return He.operator=fe,He}_throwIfClosed(){if(this.closed)throw new W}next(fe){(0,Ue.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const He of this.currentObservers)He.next(fe)}})}error(fe){(0,Ue.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:He}=this;for(;He.length;)He.shift().error(fe)}})}complete(){(0,Ue.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:He,isStopped:St,observers:vt}=this;return He||St?z.Kn:(this.currentObservers=null,vt.push(fe),new z.yU(()=>{this.currentObservers=null,(0,Ee.o)(vt,fe)}))}_checkFinalizedStatuses(fe){const{hasError:He,thrownError:St,isStopped:vt}=this;He?fe.error(St):vt&&fe.complete()}asObservable(){const fe=new I.c;return fe.source=this,fe}}return Qe.create=(ge,fe)=>new je(ge,fe),Qe})();class je extends Ne{constructor(ge,fe){super(),this.destination=ge,this.source=fe}next(ge){var fe,He;null===(He=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===He||He.call(fe,ge)}error(ge){var fe,He;null===(He=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===He||He.call(fe,ge)}complete(){var ge,fe;null===(fe=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===fe||fe.call(ge)}_subscribe(ge){var fe,He;return null!==(He=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ge))&&void 0!==He?He:z.Kn}}},7707:(an,Je,V)=>{V.d(Je,{Ms:()=>mn,vU:()=>He});var I=V(8071),z=V(8359),ce=V(1026),W=V(5334),Ee=V(5343);const Ue=Qe("C",void 0,void 0);function Qe(Dt,Ye,Tt){return{kind:Dt,value:Ye,error:Tt}}var ge=V(9270),fe=V(9786);class He extends z.yU{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,z.Uv)(Ye)&&Ye.add(this)):this.destination=En}static create(Ye,Tt,Vt){return new mn(Ye,Tt,Vt)}next(Ye){this.isStopped?dn(function je(Dt){return Qe("N",Dt,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?dn(function Ne(Dt){return Qe("E",void 0,Dt)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?dn(Ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const St=Function.prototype.bind;function vt(Dt,Ye){return St.call(Dt,Ye)}class At{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:Tt}=this;if(Tt.next)try{Tt.next(Ye)}catch(Vt){fn(Vt)}}error(Ye){const{partialObserver:Tt}=this;if(Tt.error)try{Tt.error(Ye)}catch(Vt){fn(Vt)}else fn(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(Tt){fn(Tt)}}}class mn extends He{constructor(Ye,Tt,Vt){let qt;if(super(),(0,I.T)(Ye)||!Ye)qt={next:Ye??void 0,error:Tt??void 0,complete:Vt??void 0};else{let cn;this&&ce.$.useDeprecatedNextContext?(cn=Object.create(Ye),cn.unsubscribe=()=>this.unsubscribe(),qt={next:Ye.next&&vt(Ye.next,cn),error:Ye.error&&vt(Ye.error,cn),complete:Ye.complete&&vt(Ye.complete,cn)}):qt=Ye}this.destination=new At(qt)}}function fn(Dt){ce.$.useDeprecatedSynchronousErrorHandling?(0,fe.l)(Dt):(0,W.m)(Dt)}function dn(Dt,Ye){const{onStoppedNotification:Tt}=ce.$;Tt&&ge.f.setTimeout(()=>Tt(Dt,Ye))}const En={closed:!0,next:Ee.l,error:function zt(Dt){throw Dt},complete:Ee.l}},8359:(an,Je,V)=>{V.d(Je,{Kn:()=>Ue,yU:()=>Ee,Uv:()=>Ne});var I=V(8071);const ce=(0,V(1853).L)(Qe=>function(fe){Qe(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((He,St)=>`${St+1}) ${He.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var W=V(7908);class Ee{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const vt of fe)vt.remove(this);else fe.remove(this);const{initialTeardown:He}=this;if((0,I.T)(He))try{He()}catch(vt){ge=vt instanceof ce?vt.errors:[vt]}const{_finalizers:St}=this;if(St){this._finalizers=null;for(const vt of St)try{je(vt)}catch(At){ge=ge??[],At instanceof ce?ge=[...ge,...At.errors]:ge.push(At)}}if(ge)throw new ce(ge)}}add(ge){var fe;if(ge&&ge!==this)if(this.closed)je(ge);else{if(ge instanceof Ee){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(ge)}}_hasParent(ge){const{_parentage:fe}=this;return fe===ge||Array.isArray(fe)&&fe.includes(ge)}_addParent(ge){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ge),fe):fe?[fe,ge]:ge}_removeParent(ge){const{_parentage:fe}=this;fe===ge?this._parentage=null:Array.isArray(fe)&&(0,W.o)(fe,ge)}remove(ge){const{_finalizers:fe}=this;fe&&(0,W.o)(fe,ge),ge instanceof Ee&&ge._removeParent(this)}}Ee.EMPTY=(()=>{const Qe=new Ee;return Qe.closed=!0,Qe})();const Ue=Ee.EMPTY;function Ne(Qe){return Qe instanceof Ee||Qe&&"closed"in Qe&&(0,I.T)(Qe.remove)&&(0,I.T)(Qe.add)&&(0,I.T)(Qe.unsubscribe)}function je(Qe){(0,I.T)(Qe)?Qe():Qe.unsubscribe()}},1026:(an,Je,V)=>{V.d(Je,{$:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(an,Je,V)=>{V.d(Je,{G:()=>Ue});var I=V(1985),z=V(8359),ce=V(9898),W=V(4360),Ee=V(9974);class Ue extends I.c{constructor(je,Qe){super(),this.source=je,this.subjectFactory=Qe,this._subject=null,this._refCount=0,this._connection=null,(0,Ee.S)(je)&&(this.lift=je.lift)}_subscribe(je){return this.getSubject().subscribe(je)}getSubject(){const je=this._subject;return(!je||je.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:je}=this;this._subject=this._connection=null,je?.unsubscribe()}connect(){let je=this._connection;if(!je){je=this._connection=new z.yU;const Qe=this.getSubject();je.add(this.source.subscribe((0,W._)(Qe,void 0,()=>{this._teardown(),Qe.complete()},ge=>{this._teardown(),Qe.error(ge)},()=>this._teardown()))),je.closed&&(this._connection=null,je=z.yU.EMPTY)}return je}refCount(){return(0,ce.B)()(this)}}},8793:(an,Je,V)=>{V.d(Je,{x:()=>Ee});var I=V(6365),ce=V(9326),W=V(8455);function Ee(...Ue){return function z(){return(0,I.U)(1)}()((0,W.H)(Ue,(0,ce.lI)(Ue)))}},9030:(an,Je,V)=>{V.d(Je,{v:()=>ce});var I=V(1985),z=V(8750);function ce(W){return new I.c(Ee=>{(0,z.Tg)(W()).subscribe(Ee)})}},983:(an,Je,V)=>{V.d(Je,{w:()=>z});const z=new(V(1985).c)(Ee=>Ee.complete())},7468:(an,Je,V)=>{V.d(Je,{p:()=>je});var I=V(1985),z=V(3073),ce=V(8750),W=V(9326),Ee=V(4360),Ue=V(6450),Ne=V(8496);function je(...Qe){const ge=(0,W.ms)(Qe),{args:fe,keys:He}=(0,z.D)(Qe),St=new I.c(vt=>{const{length:At}=fe;if(!At)return void vt.complete();const mn=new Array(At);let fn=At,zt=At;for(let dn=0;dn<At;dn++){let En=!1;(0,ce.Tg)(fe[dn]).subscribe((0,Ee._)(vt,Dt=>{En||(En=!0,zt--),mn[dn]=Dt},()=>fn--,void 0,()=>{(!fn||!En)&&(zt||vt.next(He?(0,Ne.e)(He,mn):mn),vt.complete())}))}});return ge?St.pipe((0,Ue.I)(ge)):St}},8455:(an,Je,V)=>{V.d(Je,{H:()=>Ye});var I=V(8750),z=V(941),ce=V(6745),Ue=V(1985),je=V(4761),Qe=V(8071),ge=V(5225);function He(Tt,Vt){if(!Tt)throw new Error("Iterable cannot be null");return new Ue.c(qt=>{(0,ge.N)(qt,Vt,()=>{const cn=Tt[Symbol.asyncIterator]();(0,ge.N)(qt,Vt,()=>{cn.next().then(te=>{te.done?qt.complete():qt.next(te.value)})},0,!0)})})}var St=V(5055),vt=V(9858),At=V(7441),mn=V(5397),fn=V(7953),zt=V(591),dn=V(5196);function Ye(Tt,Vt){return Vt?function Dt(Tt,Vt){if(null!=Tt){if((0,St.l)(Tt))return function W(Tt,Vt){return(0,I.Tg)(Tt).pipe((0,ce._)(Vt),(0,z.Q)(Vt))}(Tt,Vt);if((0,At.X)(Tt))return function Ne(Tt,Vt){return new Ue.c(qt=>{let cn=0;return Vt.schedule(function(){cn===Tt.length?qt.complete():(qt.next(Tt[cn++]),qt.closed||this.schedule())})})}(Tt,Vt);if((0,vt.y)(Tt))return function Ee(Tt,Vt){return(0,I.Tg)(Tt).pipe((0,ce._)(Vt),(0,z.Q)(Vt))}(Tt,Vt);if((0,fn.T)(Tt))return He(Tt,Vt);if((0,mn.x)(Tt))return function fe(Tt,Vt){return new Ue.c(qt=>{let cn;return(0,ge.N)(qt,Vt,()=>{cn=Tt[je.l](),(0,ge.N)(qt,Vt,()=>{let te,ke;try{({value:te,done:ke}=cn.next())}catch(Ht){return void qt.error(Ht)}ke?qt.complete():qt.next(te)},0,!0)}),()=>(0,Qe.T)(cn?.return)&&cn.return()})}(Tt,Vt);if((0,dn.U)(Tt))return function En(Tt,Vt){return He((0,dn.C)(Tt),Vt)}(Tt,Vt)}throw(0,zt.L)(Tt)}(Tt,Vt):(0,I.Tg)(Tt)}},3726:(an,Je,V)=>{V.d(Je,{R:()=>ge});var I=V(8750),z=V(1985),ce=V(1397),W=V(7441),Ee=V(8071),Ue=V(6450);const Ne=["addListener","removeListener"],je=["addEventListener","removeEventListener"],Qe=["on","off"];function ge(At,mn,fn,zt){if((0,Ee.T)(fn)&&(zt=fn,fn=void 0),zt)return ge(At,mn,fn).pipe((0,Ue.I)(zt));const[dn,En]=function vt(At){return(0,Ee.T)(At.addEventListener)&&(0,Ee.T)(At.removeEventListener)}(At)?je.map(Dt=>Ye=>At[Dt](mn,Ye,fn)):function He(At){return(0,Ee.T)(At.addListener)&&(0,Ee.T)(At.removeListener)}(At)?Ne.map(fe(At,mn)):function St(At){return(0,Ee.T)(At.on)&&(0,Ee.T)(At.off)}(At)?Qe.map(fe(At,mn)):[];if(!dn&&(0,W.X)(At))return(0,ce.Z)(Dt=>ge(Dt,mn,fn))((0,I.Tg)(At));if(!dn)throw new TypeError("Invalid event target");return new z.c(Dt=>{const Ye=(...Tt)=>Dt.next(1<Tt.length?Tt:Tt[0]);return dn(Ye),()=>En(Ye)})}function fe(At,mn){return fn=>zt=>At[fn](mn,zt)}},8750:(an,Je,V)=>{V.d(Je,{Tg:()=>St});var I=V(1635),z=V(7441),ce=V(9858),W=V(1985),Ee=V(5055),Ue=V(7953),Ne=V(591),je=V(5397),Qe=V(5196),ge=V(8071),fe=V(5334),He=V(3494);function St(Dt){if(Dt instanceof W.c)return Dt;if(null!=Dt){if((0,Ee.l)(Dt))return function vt(Dt){return new W.c(Ye=>{const Tt=Dt[He.s]();if((0,ge.T)(Tt.subscribe))return Tt.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Dt);if((0,z.X)(Dt))return function At(Dt){return new W.c(Ye=>{for(let Tt=0;Tt<Dt.length&&!Ye.closed;Tt++)Ye.next(Dt[Tt]);Ye.complete()})}(Dt);if((0,ce.y)(Dt))return function mn(Dt){return new W.c(Ye=>{Dt.then(Tt=>{Ye.closed||(Ye.next(Tt),Ye.complete())},Tt=>Ye.error(Tt)).then(null,fe.m)})}(Dt);if((0,Ue.T)(Dt))return zt(Dt);if((0,je.x)(Dt))return function fn(Dt){return new W.c(Ye=>{for(const Tt of Dt)if(Ye.next(Tt),Ye.closed)return;Ye.complete()})}(Dt);if((0,Qe.U)(Dt))return function dn(Dt){return zt((0,Qe.C)(Dt))}(Dt)}throw(0,Ne.L)(Dt)}function zt(Dt){return new W.c(Ye=>{(function En(Dt,Ye){var Tt,Vt,qt,cn;return(0,I.sH)(this,void 0,void 0,function*(){try{for(Tt=(0,I.xN)(Dt);!(Vt=yield Tt.next()).done;)if(Ye.next(Vt.value),Ye.closed)return}catch(te){qt={error:te}}finally{try{Vt&&!Vt.done&&(cn=Tt.return)&&(yield cn.call(Tt))}finally{if(qt)throw qt.error}}Ye.complete()})})(Dt,Ye).catch(Tt=>Ye.error(Tt))})}},7786:(an,Je,V)=>{V.d(Je,{h:()=>Ue});var I=V(6365),z=V(8750),ce=V(983),W=V(9326),Ee=V(8455);function Ue(...Ne){const je=(0,W.lI)(Ne),Qe=(0,W.R0)(Ne,1/0),ge=Ne;return ge.length?1===ge.length?(0,z.Tg)(ge[0]):(0,I.U)(Qe)((0,Ee.H)(ge,je)):ce.w}},7673:(an,Je,V)=>{V.d(Je,{of:()=>ce});var I=V(9326),z=V(8455);function ce(...W){const Ee=(0,I.lI)(W);return(0,z.H)(W,Ee)}},8810:(an,Je,V)=>{V.d(Je,{$:()=>ce});var I=V(1985),z=V(8071);function ce(W,Ee){const Ue=(0,z.T)(W)?W:()=>W,Ne=je=>je.error(Ue());return new I.c(Ee?je=>Ee.schedule(Ne,0,je):Ne)}},4360:(an,Je,V)=>{V.d(Je,{_:()=>z});var I=V(7707);function z(W,Ee,Ue,Ne,je){return new ce(W,Ee,Ue,Ne,je)}class ce extends I.vU{constructor(Ee,Ue,Ne,je,Qe,ge){super(Ee),this.onFinalize=Qe,this.shouldUnsubscribe=ge,this._next=Ue?function(fe){try{Ue(fe)}catch(He){Ee.error(He)}}:super._next,this._error=je?function(fe){try{je(fe)}catch(He){Ee.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(fe){Ee.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ue}=this;super.unsubscribe(),!Ue&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},274:(an,Je,V)=>{V.d(Je,{H:()=>ce});var I=V(1397),z=V(8071);function ce(W,Ee){return(0,z.T)(Ee)?(0,I.Z)(W,Ee,1):(0,I.Z)(W,1)}},9901:(an,Je,V)=>{V.d(Je,{U:()=>ce});var I=V(9974),z=V(4360);function ce(W){return(0,I.N)((Ee,Ue)=>{let Ne=!1;Ee.subscribe((0,z._)(Ue,je=>{Ne=!0,Ue.next(je)},()=>{Ne||Ue.next(W),Ue.complete()}))})}},3357:(an,Je,V)=>{V.d(Je,{c:()=>fn});var I=V(3236),z=V(8793),ce=V(6697),W=V(9974),Ee=V(4360),Ue=V(5343),je=V(6354),ge=V(1397),fe=V(8750);function He(zt,dn){return dn?En=>(0,z.x)(dn.pipe((0,ce.s)(1),function Ne(){return(0,W.N)((zt,dn)=>{zt.subscribe((0,Ee._)(dn,Ue.l))})}()),En.pipe(He(zt))):(0,ge.Z)((En,Dt)=>(0,fe.Tg)(zt(En,Dt)).pipe((0,ce.s)(1),function Qe(zt){return(0,je.T)(()=>zt)}(En)))}var St=V(1985),vt=V(9470);function fn(zt,dn=I.E){const En=function mn(zt=0,dn,En=I.b){let Dt=-1;return null!=dn&&((0,vt.m)(dn)?En=dn:Dt=dn),new St.c(Ye=>{let Tt=function At(zt){return zt instanceof Date&&!isNaN(zt)}(zt)?+zt-En.now():zt;Tt<0&&(Tt=0);let Vt=0;return En.schedule(function(){Ye.closed||(Ye.next(Vt++),0<=Dt?this.schedule(void 0,Dt):Ye.complete())},Tt)})}(zt,dn);return He(()=>En)}},5964:(an,Je,V)=>{V.d(Je,{p:()=>ce});var I=V(9974),z=V(4360);function ce(W,Ee){return(0,I.N)((Ue,Ne)=>{let je=0;Ue.subscribe((0,z._)(Ne,Qe=>W.call(Ee,Qe,je++)&&Ne.next(Qe)))})}},980:(an,Je,V)=>{V.d(Je,{j:()=>z});var I=V(9974);function z(ce){return(0,I.N)((W,Ee)=>{try{W.subscribe(Ee)}finally{Ee.add(ce)}})}},1594:(an,Je,V)=>{V.d(Je,{$:()=>Ne});var I=V(9350),z=V(5964),ce=V(6697),W=V(9901),Ee=V(3774),Ue=V(3669);function Ne(je,Qe){const ge=arguments.length>=2;return fe=>fe.pipe(je?(0,z.p)((He,St)=>je(He,St,fe)):Ue.D,(0,ce.s)(1),ge?(0,W.U)(Qe):(0,Ee.v)(()=>new I.G))}},6354:(an,Je,V)=>{V.d(Je,{T:()=>ce});var I=V(9974),z=V(4360);function ce(W,Ee){return(0,I.N)((Ue,Ne)=>{let je=0;Ue.subscribe((0,z._)(Ne,Qe=>{Ne.next(W.call(Ee,Qe,je++))}))})}},6365:(an,Je,V)=>{V.d(Je,{U:()=>ce});var I=V(1397),z=V(3669);function ce(W=1/0){return(0,I.Z)(z.D,W)}},1397:(an,Je,V)=>{V.d(Je,{Z:()=>je});var I=V(6354),z=V(8750),ce=V(9974),W=V(5225),Ee=V(4360),Ne=V(8071);function je(Qe,ge,fe=1/0){return(0,Ne.T)(ge)?je((He,St)=>(0,I.T)((vt,At)=>ge(He,vt,St,At))((0,z.Tg)(Qe(He,St))),fe):("number"==typeof ge&&(fe=ge),(0,ce.N)((He,St)=>function Ue(Qe,ge,fe,He,St,vt,At,mn){const fn=[];let zt=0,dn=0,En=!1;const Dt=()=>{En&&!fn.length&&!zt&&ge.complete()},Ye=Vt=>zt<He?Tt(Vt):fn.push(Vt),Tt=Vt=>{vt&&ge.next(Vt),zt++;let qt=!1;(0,z.Tg)(fe(Vt,dn++)).subscribe((0,Ee._)(ge,cn=>{St?.(cn),vt?Ye(cn):ge.next(cn)},()=>{qt=!0},void 0,()=>{if(qt)try{for(zt--;fn.length&&zt<He;){const cn=fn.shift();At?(0,W.N)(ge,At,()=>Tt(cn)):Tt(cn)}Dt()}catch(cn){ge.error(cn)}}))};return Qe.subscribe((0,Ee._)(ge,Ye,()=>{En=!0,Dt()})),()=>{mn?.()}}(He,St,Qe,fe)))}},941:(an,Je,V)=>{V.d(Je,{Q:()=>W});var I=V(5225),z=V(9974),ce=V(4360);function W(Ee,Ue=0){return(0,z.N)((Ne,je)=>{Ne.subscribe((0,ce._)(je,Qe=>(0,I.N)(je,Ee,()=>je.next(Qe),Ue),()=>(0,I.N)(je,Ee,()=>je.complete(),Ue),Qe=>(0,I.N)(je,Ee,()=>je.error(Qe),Ue)))})}},9898:(an,Je,V)=>{V.d(Je,{B:()=>ce});var I=V(9974),z=V(4360);function ce(){return(0,I.N)((W,Ee)=>{let Ue=null;W._refCount++;const Ne=(0,z._)(Ee,void 0,void 0,void 0,()=>{if(!W||W._refCount<=0||0<--W._refCount)return void(Ue=null);const je=W._connection,Qe=Ue;Ue=null,je&&(!Qe||je===Qe)&&je.unsubscribe(),Ee.unsubscribe()});W.subscribe(Ne),Ne.closed||(Ue=W.connect())})}},6649:(an,Je,V)=>{V.d(Je,{S:()=>z});var I=V(4360);function z(ce,W,Ee,Ue,Ne){return(je,Qe)=>{let ge=Ee,fe=W,He=0;je.subscribe((0,I._)(Qe,St=>{const vt=He++;fe=ge?ce(fe,St,vt):(ge=!0,St),Ue&&Qe.next(fe)},Ne&&(()=>{ge&&Qe.next(fe),Qe.complete()})))}}},6745:(an,Je,V)=>{V.d(Je,{_:()=>z});var I=V(9974);function z(ce,W=0){return(0,I.N)((Ee,Ue)=>{Ue.add(ce.schedule(()=>Ee.subscribe(Ue),W))})}},5558:(an,Je,V)=>{V.d(Je,{n:()=>W});var I=V(8750),z=V(9974),ce=V(4360);function W(Ee,Ue){return(0,z.N)((Ne,je)=>{let Qe=null,ge=0,fe=!1;const He=()=>fe&&!Qe&&je.complete();Ne.subscribe((0,ce._)(je,St=>{Qe?.unsubscribe();let vt=0;const At=ge++;(0,I.Tg)(Ee(St,At)).subscribe(Qe=(0,ce._)(je,mn=>je.next(Ue?Ue(St,mn,At,vt++):mn),()=>{Qe=null,He()}))},()=>{fe=!0,He()}))})}},6697:(an,Je,V)=>{V.d(Je,{s:()=>W});var I=V(983),z=V(9974),ce=V(4360);function W(Ee){return Ee<=0?()=>I.w:(0,z.N)((Ue,Ne)=>{let je=0;Ue.subscribe((0,ce._)(Ne,Qe=>{++je<=Ee&&(Ne.next(Qe),Ee<=je&&Ne.complete())}))})}},8141:(an,Je,V)=>{V.d(Je,{M:()=>Ee});var I=V(8071),z=V(9974),ce=V(4360),W=V(3669);function Ee(Ue,Ne,je){const Qe=(0,I.T)(Ue)||Ne||je?{next:Ue,error:Ne,complete:je}:Ue;return Qe?(0,z.N)((ge,fe)=>{var He;null===(He=Qe.subscribe)||void 0===He||He.call(Qe);let St=!0;ge.subscribe((0,ce._)(fe,vt=>{var At;null===(At=Qe.next)||void 0===At||At.call(Qe,vt),fe.next(vt)},()=>{var vt;St=!1,null===(vt=Qe.complete)||void 0===vt||vt.call(Qe),fe.complete()},vt=>{var At;St=!1,null===(At=Qe.error)||void 0===At||At.call(Qe,vt),fe.error(vt)},()=>{var vt,At;St&&(null===(vt=Qe.unsubscribe)||void 0===vt||vt.call(Qe)),null===(At=Qe.finalize)||void 0===At||At.call(Qe)}))}):W.D}},3774:(an,Je,V)=>{V.d(Je,{v:()=>W});var I=V(9350),z=V(9974),ce=V(4360);function W(Ue=Ee){return(0,z.N)((Ne,je)=>{let Qe=!1;Ne.subscribe((0,ce._)(je,ge=>{Qe=!0,je.next(ge)},()=>Qe?je.complete():je.error(Ue())))})}function Ee(){return new I.G}},6780:(an,Je,V)=>{V.d(Je,{R:()=>Ee});var I=V(8359);class z extends I.yU{constructor(Ne,je){super()}schedule(Ne,je=0){return this}}const ce={setInterval(Ue,Ne,...je){const{delegate:Qe}=ce;return Qe?.setInterval?Qe.setInterval(Ue,Ne,...je):setInterval(Ue,Ne,...je)},clearInterval(Ue){const{delegate:Ne}=ce;return(Ne?.clearInterval||clearInterval)(Ue)},delegate:void 0};var W=V(7908);class Ee extends z{constructor(Ne,je){super(Ne,je),this.scheduler=Ne,this.work=je,this.pending=!1}schedule(Ne,je=0){var Qe;if(this.closed)return this;this.state=Ne;const ge=this.id,fe=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(fe,ge,je)),this.pending=!0,this.delay=je,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(fe,this.id,je),this}requestAsyncId(Ne,je,Qe=0){return ce.setInterval(Ne.flush.bind(Ne,this),Qe)}recycleAsyncId(Ne,je,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return je;null!=je&&ce.clearInterval(je)}execute(Ne,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(Ne,je);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,je){let ge,Qe=!1;try{this.work(Ne)}catch(fe){Qe=!0,ge=fe||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:je}=this,{actions:Qe}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.o)(Qe,this),null!=Ne&&(this.id=this.recycleAsyncId(je,Ne,null)),this.delay=null,super.unsubscribe()}}}},9687:(an,Je,V)=>{V.d(Je,{q:()=>ce});var I=V(6129);class z{constructor(Ee,Ue=z.now){this.schedulerActionCtor=Ee,this.now=Ue}schedule(Ee,Ue=0,Ne){return new this.schedulerActionCtor(this,Ee).schedule(Ne,Ue)}}z.now=I.U.now;class ce extends z{constructor(Ee,Ue=z.now){super(Ee,Ue),this.actions=[],this._active=!1}flush(Ee){const{actions:Ue}=this;if(this._active)return void Ue.push(Ee);let Ne;this._active=!0;do{if(Ne=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Ue.shift());if(this._active=!1,Ne){for(;Ee=Ue.shift();)Ee.unsubscribe();throw Ne}}}},3236:(an,Je,V)=>{V.d(Je,{E:()=>ce,b:()=>W});var I=V(6780);const ce=new(V(9687).q)(I.R),W=ce},6129:(an,Je,V)=>{V.d(Je,{U:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},9270:(an,Je,V)=>{V.d(Je,{f:()=>I});const I={setTimeout(z,ce,...W){const{delegate:Ee}=I;return Ee?.setTimeout?Ee.setTimeout(z,ce,...W):setTimeout(z,ce,...W)},clearTimeout(z){const{delegate:ce}=I;return(ce?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4761:(an,Je,V)=>{V.d(Je,{l:()=>z});const z=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(an,Je,V)=>{V.d(Je,{s:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(an,Je,V)=>{V.d(Je,{G:()=>z});const z=(0,V(1853).L)(ce=>function(){ce(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(an,Je,V)=>{V.d(Je,{R0:()=>Ue,lI:()=>Ee,ms:()=>W});var I=V(8071),z=V(9470);function ce(Ne){return Ne[Ne.length-1]}function W(Ne){return(0,I.T)(ce(Ne))?Ne.pop():void 0}function Ee(Ne){return(0,z.m)(ce(Ne))?Ne.pop():void 0}function Ue(Ne,je){return"number"==typeof ce(Ne)?Ne.pop():je}},3073:(an,Je,V)=>{V.d(Je,{D:()=>Ee});const{isArray:I}=Array,{getPrototypeOf:z,prototype:ce,keys:W}=Object;function Ee(Ne){if(1===Ne.length){const je=Ne[0];if(I(je))return{args:je,keys:null};if(function Ue(Ne){return Ne&&"object"==typeof Ne&&z(Ne)===ce}(je)){const Qe=W(je);return{args:Qe.map(ge=>je[ge]),keys:Qe}}}return{args:Ne,keys:null}}},7908:(an,Je,V)=>{function I(z,ce){if(z){const W=z.indexOf(ce);0<=W&&z.splice(W,1)}}V.d(Je,{o:()=>I})},1853:(an,Je,V)=>{function I(z){const W=z(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}V.d(Je,{L:()=>I})},8496:(an,Je,V)=>{function I(z,ce){return z.reduce((W,Ee,Ue)=>(W[Ee]=ce[Ue],W),{})}V.d(Je,{e:()=>I})},9786:(an,Je,V)=>{V.d(Je,{Y:()=>ce,l:()=>W});var I=V(1026);let z=null;function ce(Ee){if(I.$.useDeprecatedSynchronousErrorHandling){const Ue=!z;if(Ue&&(z={errorThrown:!1,error:null}),Ee(),Ue){const{errorThrown:Ne,error:je}=z;if(z=null,Ne)throw je}}else Ee()}function W(Ee){I.$.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=Ee)}},5225:(an,Je,V)=>{function I(z,ce,W,Ee=0,Ue=!1){const Ne=ce.schedule(function(){W(),Ue?z.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(z.add(Ne),!Ue)return Ne}V.d(Je,{N:()=>I})},3669:(an,Je,V)=>{function I(z){return z}V.d(Je,{D:()=>I})},7441:(an,Je,V)=>{V.d(Je,{X:()=>I});const I=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7953:(an,Je,V)=>{V.d(Je,{T:()=>z});var I=V(8071);function z(ce){return Symbol.asyncIterator&&(0,I.T)(ce?.[Symbol.asyncIterator])}},8071:(an,Je,V)=>{function I(z){return"function"==typeof z}V.d(Je,{T:()=>I})},5055:(an,Je,V)=>{V.d(Je,{l:()=>ce});var I=V(3494),z=V(8071);function ce(W){return(0,z.T)(W[I.s])}},5397:(an,Je,V)=>{V.d(Je,{x:()=>ce});var I=V(4761),z=V(8071);function ce(W){return(0,z.T)(W?.[I.l])}},4402:(an,Je,V)=>{V.d(Je,{A:()=>ce});var I=V(1985),z=V(8071);function ce(W){return!!W&&(W instanceof I.c||(0,z.T)(W.lift)&&(0,z.T)(W.subscribe))}},9858:(an,Je,V)=>{V.d(Je,{y:()=>z});var I=V(8071);function z(ce){return(0,I.T)(ce?.then)}},5196:(an,Je,V)=>{V.d(Je,{C:()=>ce,U:()=>W});var I=V(1635),z=V(8071);function ce(Ee){return(0,I.AQ)(this,arguments,function*(){const Ne=Ee.getReader();try{for(;;){const{value:je,done:Qe}=yield(0,I.N3)(Ne.read());if(Qe)return yield(0,I.N3)(void 0);yield yield(0,I.N3)(je)}}finally{Ne.releaseLock()}})}function W(Ee){return(0,z.T)(Ee?.getReader)}},9470:(an,Je,V)=>{V.d(Je,{m:()=>z});var I=V(8071);function z(ce){return ce&&(0,I.T)(ce.schedule)}},9974:(an,Je,V)=>{V.d(Je,{N:()=>ce,S:()=>z});var I=V(8071);function z(W){return(0,I.T)(W?.lift)}function ce(W){return Ee=>{if(z(Ee))return Ee.lift(function(Ue){try{return W(Ue,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(an,Je,V)=>{V.d(Je,{I:()=>W});var I=V(6354);const{isArray:z}=Array;function W(Ee){return(0,I.T)(Ue=>function ce(Ee,Ue){return z(Ue)?Ee(...Ue):Ee(Ue)}(Ee,Ue))}},5343:(an,Je,V)=>{function I(){}V.d(Je,{l:()=>I})},1203:(an,Je,V)=>{V.d(Je,{F:()=>z,m:()=>ce});var I=V(3669);function z(...W){return ce(W)}function ce(W){return 0===W.length?I.D:1===W.length?W[0]:function(Ue){return W.reduce((Ne,je)=>je(Ne),Ue)}}},5334:(an,Je,V)=>{V.d(Je,{m:()=>ce});var I=V(1026),z=V(9270);function ce(W){z.f.setTimeout(()=>{const{onUnhandledError:Ee}=I.$;if(!Ee)throw W;Ee(W)})}},591:(an,Je,V)=>{function I(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Je,{L:()=>I})},9969:(an,Je,V)=>{V.d(Je,{FX:()=>cn,If:()=>I,K2:()=>Ue,hZ:()=>ce,i0:()=>W,iF:()=>Ne,kY:()=>ge,kp:()=>z,sf:()=>Vt,ui:()=>qt,wk:()=>je});var I=function(te){return te[te.State=0]="State",te[te.Transition=1]="Transition",te[te.Sequence=2]="Sequence",te[te.Group=3]="Group",te[te.Animate=4]="Animate",te[te.Keyframes=5]="Keyframes",te[te.Style=6]="Style",te[te.Trigger=7]="Trigger",te[te.Reference=8]="Reference",te[te.AnimateChild=9]="AnimateChild",te[te.AnimateRef=10]="AnimateRef",te[te.Query=11]="Query",te[te.Stagger=12]="Stagger",te}(I||{});const z="*";function ce(te,ke){return{type:I.Trigger,name:te,definitions:ke,options:{}}}function W(te,ke=null){return{type:I.Animate,styles:ke,timings:te}}function Ue(te,ke=null){return{type:I.Sequence,steps:te,options:ke}}function Ne(te){return{type:I.Style,styles:te,offset:null}}function je(te,ke,Ht){return{type:I.State,name:te,styles:ke,options:Ht}}function ge(te,ke,Ht=null){return{type:I.Transition,expr:te,animation:ke,options:Ht}}class Vt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(ke=0,Ht=0){this.totalTime=ke+Ht}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}onStart(ke){this._originalOnStartFns.push(ke),this._onStartFns.push(ke)}onDone(ke){this._originalOnDoneFns.push(ke),this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ke=>ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ke){this._position=this.totalTime?ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ke){const Ht="start"==ke?this._onStartFns:this._onDoneFns;Ht.forEach(un=>un()),Ht.length=0}}class qt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(ke){this.players=ke;let Ht=0,un=0,xt=0;const Ut=this.players.length;0==Ut?queueMicrotask(()=>this._onFinish()):this.players.forEach($n=>{$n.onDone(()=>{++Ht==Ut&&this._onFinish()}),$n.onDestroy(()=>{++un==Ut&&this._onDestroy()}),$n.onStart(()=>{++xt==Ut&&this._onStart()})}),this.totalTime=this.players.reduce(($n,Lt)=>Math.max($n,Lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}init(){this.players.forEach(ke=>ke.init())}onStart(ke){this._onStartFns.push(ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ke=>ke()),this._onStartFns=[])}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ke=>ke.play())}pause(){this.players.forEach(ke=>ke.pause())}restart(){this.players.forEach(ke=>ke.restart())}finish(){this._onFinish(),this.players.forEach(ke=>ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ke=>ke.destroy()),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this.players.forEach(ke=>ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ke){const Ht=ke*this.totalTime;this.players.forEach(un=>{const xt=un.totalTime?Math.min(1,Ht/un.totalTime):1;un.setPosition(xt)})}getPosition(){const ke=this.players.reduce((Ht,un)=>null===Ht||un.totalTime>Ht.totalTime?un:Ht,null);return null!=ke?ke.getPosition():0}beforeDestroy(){this.players.forEach(ke=>{ke.beforeDestroy&&ke.beforeDestroy()})}triggerCallback(ke){const Ht="start"==ke?this._onStartFns:this._onDoneFns;Ht.forEach(un=>un()),Ht.length=0}}const cn="!"},177:(an,Je,V)=>{V.d(Je,{AJ:()=>Es,B3:()=>pt,MD:()=>ka,N0:()=>zu,QT:()=>W,Sm:()=>fn,Sq:()=>rn,T3:()=>gt,UE:()=>Ki,VF:()=>Ue,Vy:()=>Is,Xr:()=>Fa,YU:()=>Pn,ZD:()=>Ee,_b:()=>Ct,aZ:()=>dn,bT:()=>Xr,fw:()=>zt,hb:()=>At,hj:()=>ge,oe:()=>aa,qQ:()=>je,vh:()=>lo});var I=V(3953),z=V(1413);let ce=null;function W(){return ce}function Ee(b){ce??=b}class Ue{}const je=new I.nKC("");let Qe=(()=>{class b{historyGo(k){throw new Error("")}static \u0275fac=function($){return new($||b)};static \u0275prov=I.jDH({token:b,factory:()=>(0,I.WQX)(fe),providedIn:"platform"})}return b})();const ge=new I.nKC("");let fe=(()=>{class b extends Qe{_location;_history;_doc=(0,I.WQX)(je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(k){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",k,!1),()=>$.removeEventListener("popstate",k)}onHashChange(k){const $=W().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",k,!1),()=>$.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,$,pe){this._history.pushState(k,$,pe)}replaceState(k,$,pe){this._history.replaceState(k,$,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}static \u0275fac=function($){return new($||b)};static \u0275prov=I.jDH({token:b,factory:()=>new b,providedIn:"platform"})}return b})();function He(b,q){return b?q?b.endsWith("/")?q.startsWith("/")?b+q.slice(1):b+q:q.startsWith("/")?b+q:`${b}/${q}`:b:q}function St(b){const q=b.match(/#|\?|$/),k=q&&q.index||b.length;return b.slice(0,k-("/"===b[k-1]?1:0))+b.slice(k)}function vt(b){return b&&"?"!==b[0]?"?"+b:b}let At=(()=>{class b{historyGo(k){throw new Error("")}static \u0275fac=function($){return new($||b)};static \u0275prov=I.jDH({token:b,factory:()=>(0,I.WQX)(fn),providedIn:"root"})}return b})();const mn=new I.nKC("");let fn=(()=>{class b extends At{_platformLocation;_baseHref;_removeListenerFns=[];constructor(k,$){super(),this._platformLocation=k,this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,I.WQX)(je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return He(this._baseHref,k)}path(k=!1){const $=this._platformLocation.pathname+vt(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&k?`${$}${pe}`:$}pushState(k,$,pe,_t){const Ot=this.prepareExternalUrl(pe+vt(_t));this._platformLocation.pushState(k,$,Ot)}replaceState(k,$,pe,_t){const Ot=this.prepareExternalUrl(pe+vt(_t));this._platformLocation.replaceState(k,$,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static \u0275fac=function($){return new($||b)(I.KVO(Qe),I.KVO(mn,8))};static \u0275prov=I.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),zt=(()=>{class b extends At{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(k,$){super(),this._platformLocation=k,null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(k){const $=He(this._baseHref,k);return $.length>0?"#"+$:$}pushState(k,$,pe,_t){let Ot=this.prepareExternalUrl(pe+vt(_t));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.pushState(k,$,Ot)}replaceState(k,$,pe,_t){let Ot=this.prepareExternalUrl(pe+vt(_t));0==Ot.length&&(Ot=this._platformLocation.pathname),this._platformLocation.replaceState(k,$,Ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static \u0275fac=function($){return new($||b)(I.KVO(Qe),I.KVO(mn,8))};static \u0275prov=I.jDH({token:b,factory:b.\u0275fac})}return b})(),dn=(()=>{class b{_subject=new z.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(k){this._locationStrategy=k;const $=this._locationStrategy.getBaseHref();this._basePath=function Tt(b){if(new RegExp("^(https?:)?//").test(b)){const[,k]=b.split(/\/\/[^\/]+/);return k}return b}(St(Ye($))),this._locationStrategy.onPopState(pe=>{this._subject.next({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,$=""){return this.path()==this.normalize(k+vt($))}normalize(k){return b.stripTrailingSlash(function Dt(b,q){if(!b||!q.startsWith(b))return q;const k=q.substring(b.length);return""===k||["/",";","?","#"].includes(k[0])?k:q}(this._basePath,Ye(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,$="",pe=null){this._locationStrategy.pushState(pe,"",k,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+vt($)),pe)}replaceState(k,$="",pe=null){this._locationStrategy.replaceState(pe,"",k,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+vt($)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription??=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}),()=>{const $=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",$){this._urlChangeListeners.forEach(pe=>pe(k,$))}subscribe(k,$,pe){return this._subject.subscribe({next:k,error:$??void 0,complete:pe??void 0})}static normalizeQueryParams=vt;static joinWithSlash=He;static stripTrailingSlash=St;static \u0275fac=function($){return new($||b)(I.KVO(At))};static \u0275prov=I.jDH({token:b,factory:()=>function En(){return new dn((0,I.KVO)(At))}(),providedIn:"root"})}return b})();function Ye(b){return b.replace(/\/index.html$/,"")}const Vt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var qt=function(b){return b[b.Decimal=0]="Decimal",b[b.Percent=1]="Percent",b[b.Currency=2]="Currency",b[b.Scientific=3]="Scientific",b}(qt||{}),te=function(b){return b[b.Format=0]="Format",b[b.Standalone=1]="Standalone",b}(te||{}),ke=function(b){return b[b.Narrow=0]="Narrow",b[b.Abbreviated=1]="Abbreviated",b[b.Wide=2]="Wide",b[b.Short=3]="Short",b}(ke||{}),Ht=function(b){return b[b.Short=0]="Short",b[b.Medium=1]="Medium",b[b.Long=2]="Long",b[b.Full=3]="Full",b}(Ht||{});function Ie(b,q){return Te((0,I.H5H)(b)[I.KH2.DateFormat],q)}function Ae(b,q){return Te((0,I.H5H)(b)[I.KH2.TimeFormat],q)}function Re(b,q){return Te((0,I.H5H)(b)[I.KH2.DateTimeFormat],q)}function et(b,q){const k=(0,I.H5H)(b),$=k[I.KH2.NumberSymbols][q];if(typeof $>"u"){if(12===q)return k[I.KH2.NumberSymbols][0];if(13===q)return k[I.KH2.NumberSymbols][1]}return $}function wt(b){if(!b[I.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${b[I.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Te(b,q){for(let k=q;k>-1;k--)if(typeof b[k]<"u")return b[k];throw new Error("Locale data API: locale data undefined")}function bt(b){const[q,k]=b.split(":");return{hours:+q,minutes:+k}}const Pt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,er={},Yn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Bn(b,q,k,$){let pe=function ti(b){if(ve(b))return b;if("number"==typeof b&&!isNaN(b))return new Date(b);if("string"==typeof b){if(b=b.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(b)){const[pe,_t=1,Ot=1]=b.split("-").map(tn=>+tn);return Pr(pe,_t-1,Ot)}const k=parseFloat(b);if(!isNaN(b-k))return new Date(k);let $;if($=b.match(Pt))return function Pe(b){const q=new Date(0);let k=0,$=0;const pe=b[8]?q.setUTCFullYear:q.setFullYear,_t=b[8]?q.setUTCHours:q.setHours;b[9]&&(k=Number(b[9]+b[10]),$=Number(b[9]+b[11])),pe.call(q,Number(b[1]),Number(b[2])-1,Number(b[3]));const Ot=Number(b[4]||0)-k,tn=Number(b[5]||0)-$,Dn=Number(b[6]||0),Lr=Math.floor(1e3*parseFloat("0."+(b[7]||0)));return _t.call(q,Ot,tn,Dn,Lr),q}($)}const q=new Date(b);if(!ve(q))throw new Error(`Unable to convert "${b}" into a date`);return q}(b);q=tr(k,q)||q;let tn,Ot=[];for(;q;){if(tn=Yn.exec(q),!tn){Ot.push(q);break}{Ot=Ot.concat(tn.slice(1));const Kr=Ot.pop();if(!Kr)break;q=Kr}}let Dn=pe.getTimezoneOffset();$&&(Dn=Mr($,Dn),pe=function hi(b,q,k){const $=k?-1:1,pe=b.getTimezoneOffset();return function Si(b,q){return(b=new Date(b.getTime())).setMinutes(b.getMinutes()+q),b}(b,$*(Mr(q,pe)-pe))}(pe,$,!0));let Lr="";return Ot.forEach(Kr=>{const fr=function zn(b){if(lr[b])return lr[b];let q;switch(b){case"G":case"GG":case"GGG":q=Cn(3,ke.Abbreviated);break;case"GGGG":q=Cn(3,ke.Wide);break;case"GGGGG":q=Cn(3,ke.Narrow);break;case"y":q=Jt(0,1,0,!1,!0);break;case"yy":q=Jt(0,2,0,!0,!0);break;case"yyy":q=Jt(0,3,0,!1,!0);break;case"yyyy":q=Jt(0,4,0,!1,!0);break;case"Y":q=rr(1);break;case"YY":q=rr(2,!0);break;case"YYY":q=rr(3);break;case"YYYY":q=rr(4);break;case"M":case"L":q=Jt(1,1,1);break;case"MM":case"LL":q=Jt(1,2,1);break;case"MMM":q=Cn(2,ke.Abbreviated);break;case"MMMM":q=Cn(2,ke.Wide);break;case"MMMMM":q=Cn(2,ke.Narrow);break;case"LLL":q=Cn(2,ke.Abbreviated,te.Standalone);break;case"LLLL":q=Cn(2,ke.Wide,te.Standalone);break;case"LLLLL":q=Cn(2,ke.Narrow,te.Standalone);break;case"w":q=zr(1);break;case"ww":q=zr(2);break;case"W":q=zr(1,!0);break;case"d":q=Jt(2,1);break;case"dd":q=Jt(2,2);break;case"c":case"cc":q=Jt(7,1);break;case"ccc":q=Cn(1,ke.Abbreviated,te.Standalone);break;case"cccc":q=Cn(1,ke.Wide,te.Standalone);break;case"ccccc":q=Cn(1,ke.Narrow,te.Standalone);break;case"cccccc":q=Cn(1,ke.Short,te.Standalone);break;case"E":case"EE":case"EEE":q=Cn(1,ke.Abbreviated);break;case"EEEE":q=Cn(1,ke.Wide);break;case"EEEEE":q=Cn(1,ke.Narrow);break;case"EEEEEE":q=Cn(1,ke.Short);break;case"a":case"aa":case"aaa":q=Cn(0,ke.Abbreviated);break;case"aaaa":q=Cn(0,ke.Wide);break;case"aaaaa":q=Cn(0,ke.Narrow);break;case"b":case"bb":case"bbb":q=Cn(0,ke.Abbreviated,te.Standalone,!0);break;case"bbbb":q=Cn(0,ke.Wide,te.Standalone,!0);break;case"bbbbb":q=Cn(0,ke.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":q=Cn(0,ke.Abbreviated,te.Format,!0);break;case"BBBB":q=Cn(0,ke.Wide,te.Format,!0);break;case"BBBBB":q=Cn(0,ke.Narrow,te.Format,!0);break;case"h":q=Jt(3,1,-12);break;case"hh":q=Jt(3,2,-12);break;case"H":q=Jt(3,1);break;case"HH":q=Jt(3,2);break;case"m":q=Jt(4,1);break;case"mm":q=Jt(4,2);break;case"s":q=Jt(5,1);break;case"ss":q=Jt(5,2);break;case"S":q=Jt(6,1);break;case"SS":q=Jt(6,2);break;case"SSS":q=Jt(6,3);break;case"Z":case"ZZ":case"ZZZ":q=Er(0);break;case"ZZZZZ":q=Er(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Er(1);break;case"OOOO":case"ZZZZ":case"zzzz":q=Er(2);break;default:return null}return lr[b]=q,q}(Kr);Lr+=fr?fr(pe,k,Dn):"''"===Kr?"'":Kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Lr}function Pr(b,q,k){const $=new Date(0);return $.setFullYear(b,q,k),$.setHours(0,0,0),$}function tr(b,q){const k=function Ut(b){return(0,I.H5H)(b)[I.KH2.LocaleId]}(b);if(er[k]??={},er[k][q])return er[k][q];let $="";switch(q){case"shortDate":$=Ie(b,Ht.Short);break;case"mediumDate":$=Ie(b,Ht.Medium);break;case"longDate":$=Ie(b,Ht.Long);break;case"fullDate":$=Ie(b,Ht.Full);break;case"shortTime":$=Ae(b,Ht.Short);break;case"mediumTime":$=Ae(b,Ht.Medium);break;case"longTime":$=Ae(b,Ht.Long);break;case"fullTime":$=Ae(b,Ht.Full);break;case"short":const pe=tr(b,"shortTime"),_t=tr(b,"shortDate");$=xr(Re(b,Ht.Short),[pe,_t]);break;case"medium":const Ot=tr(b,"mediumTime"),tn=tr(b,"mediumDate");$=xr(Re(b,Ht.Medium),[Ot,tn]);break;case"long":const Dn=tr(b,"longTime"),Lr=tr(b,"longDate");$=xr(Re(b,Ht.Long),[Dn,Lr]);break;case"full":const Kr=tr(b,"fullTime"),fr=tr(b,"fullDate");$=xr(Re(b,Ht.Full),[Kr,fr])}return $&&(er[k][q]=$),$}function xr(b,q){return q&&(b=b.replace(/\{([^}]+)}/g,function(k,$){return null!=q&&$ in q?q[$]:k})),b}function ir(b,q,k="-",$,pe){let _t="";(b<0||pe&&b<=0)&&(pe?b=1-b:(b=-b,_t=k));let Ot=String(b);for(;Ot.length<q;)Ot="0"+Ot;return $&&(Ot=Ot.slice(Ot.length-q)),_t+Ot}function Jt(b,q,k=0,$=!1,pe=!1){return function(_t,Ot){let tn=function gr(b,q){switch(b){case 0:return q.getFullYear();case 1:return q.getMonth();case 2:return q.getDate();case 3:return q.getHours();case 4:return q.getMinutes();case 5:return q.getSeconds();case 6:return q.getMilliseconds();case 7:return q.getDay();default:throw new Error(`Unknown DateType value "${b}".`)}}(b,_t);if((k>0||tn>-k)&&(tn+=k),3===b)0===tn&&-12===k&&(tn=12);else if(6===b)return function Wi(b,q){return ir(b,3).substring(0,q)}(tn,q);const Dn=et(Ot,5);return ir(tn,q,Dn,$,pe)}}function Cn(b,q,k=te.Format,$=!1){return function(pe,_t){return function ur(b,q,k,$,pe,_t){switch(k){case 2:return function We(b,q,k){const $=(0,I.H5H)(b),_t=Te([$[I.KH2.MonthsFormat],$[I.KH2.MonthsStandalone]],q);return Te(_t,k)}(q,pe,$)[b.getMonth()];case 1:return function Lt(b,q,k){const $=(0,I.H5H)(b),_t=Te([$[I.KH2.DaysFormat],$[I.KH2.DaysStandalone]],q);return Te(_t,k)}(q,pe,$)[b.getDay()];case 0:const Ot=b.getHours(),tn=b.getMinutes();if(_t){const Lr=function Ze(b){const q=(0,I.H5H)(b);return wt(q),(q[I.KH2.ExtraData][2]||[]).map($=>"string"==typeof $?bt($):[bt($[0]),bt($[1])])}(q),Kr=function nt(b,q,k){const $=(0,I.H5H)(b);wt($);const _t=Te([$[I.KH2.ExtraData][0],$[I.KH2.ExtraData][1]],q)||[];return Te(_t,k)||[]}(q,pe,$),fr=Lr.findIndex(ni=>{if(Array.isArray(ni)){const[br,ei]=ni,Xs=Ot>=br.hours&&tn>=br.minutes,pi=Ot<ei.hours||Ot===ei.hours&&tn<ei.minutes;if(br.hours<ei.hours){if(Xs&&pi)return!0}else if(Xs||pi)return!0}else if(ni.hours===Ot&&ni.minutes===tn)return!0;return!1});if(-1!==fr)return Kr[fr]}return function $n(b,q,k){const $=(0,I.H5H)(b),_t=Te([$[I.KH2.DayPeriodsFormat],$[I.KH2.DayPeriodsStandalone]],q);return Te(_t,k)}(q,pe,$)[Ot<12?0:1];case 3:return function ft(b,q){return Te((0,I.H5H)(b)[I.KH2.Eras],q)}(q,$)[b.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(pe,_t,b,q,k,$)}}function Er(b){return function(q,k,$){const pe=-1*$,_t=et(k,5),Ot=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(b){case 0:return(pe>=0?"+":"")+ir(Ot,2,_t)+ir(Math.abs(pe%60),2,_t);case 1:return"GMT"+(pe>=0?"+":"")+ir(Ot,1,_t);case 2:return"GMT"+(pe>=0?"+":"")+ir(Ot,2,_t)+":"+ir(Math.abs(pe%60),2,_t);case 3:return 0===$?"Z":(pe>=0?"+":"")+ir(Ot,2,_t)+":"+ir(Math.abs(pe%60),2,_t);default:throw new Error(`Unknown zone width "${b}"`)}}}const Hn=0,Ci=4;function Dr(b){const q=b.getDay(),k=0===q?-3:Ci-q;return Pr(b.getFullYear(),b.getMonth(),b.getDate()+k)}function zr(b,q=!1){return function(k,$){let pe;if(q){const _t=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,Ot=k.getDate();pe=1+Math.floor((Ot+_t)/7)}else{const _t=Dr(k),Ot=function Ke(b){const q=Pr(b,Hn,1).getDay();return Pr(b,0,1+(q<=Ci?Ci:Ci+7)-q)}(_t.getFullYear()),tn=_t.getTime()-Ot.getTime();pe=1+Math.round(tn/6048e5)}return ir(pe,b,et($,5))}}function rr(b,q=!1){return function(k,$){return ir(Dr(k).getFullYear(),b,et($,5),q)}}const lr={};function Mr(b,q){b=b.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(k)?q:k}function ve(b){return b instanceof Date&&!isNaN(b.valueOf())}const Ve=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function or(b,q,k,$,pe){const Ot=function Ii(b,q="-"){const k={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},$=b.split(";"),pe=$[0],_t=$[1],Ot=-1!==pe.indexOf(".")?pe.split("."):[pe.substring(0,pe.lastIndexOf("0")+1),pe.substring(pe.lastIndexOf("0")+1)],tn=Ot[0],Dn=Ot[1]||"";k.posPre=tn.substring(0,tn.indexOf("#"));for(let Kr=0;Kr<Dn.length;Kr++){const fr=Dn.charAt(Kr);"0"===fr?k.minFrac=k.maxFrac=Kr+1:"#"===fr?k.maxFrac=Kr+1:k.posSuf+=fr}const Lr=tn.split(",");if(k.gSize=Lr[1]?Lr[1].length:0,k.lgSize=Lr[2]||Lr[1]?(Lr[2]||Lr[1]).length:0,_t){const Kr=pe.length-k.posPre.length-k.posSuf.length,fr=_t.indexOf("#");k.negPre=_t.substring(0,fr).replace(/'/g,""),k.negSuf=_t.slice(fr+Kr).replace(/'/g,"")}else k.negPre=q+k.posPre,k.negSuf=k.posSuf;return k}(function yt(b,q){return(0,I.H5H)(b)[I.KH2.NumberFormats][q]}(q,qt.Currency),et(q,5));return Ot.minFrac=function _n(b){let q;const k=Vt[b];return k&&(q=k[2]),"number"==typeof q?q:2}($),Ot.maxFrac=Ot.minFrac,function vn(b,q,k,$,pe,_t,Ot=!1){let tn="",Dn=!1;if(isFinite(b)){let Lr=function Li(b){let $,pe,_t,Ot,tn,q=Math.abs(b)+"",k=0;for((pe=q.indexOf("."))>-1&&(q=q.replace(".","")),(_t=q.search(/e/i))>0?(pe<0&&(pe=_t),pe+=+q.slice(_t+1),q=q.substring(0,_t)):pe<0&&(pe=q.length),_t=0;"0"===q.charAt(_t);_t++);if(_t===(tn=q.length))$=[0],pe=1;else{for(tn--;"0"===q.charAt(tn);)tn--;for(pe-=_t,$=[],Ot=0;_t<=tn;_t++,Ot++)$[Ot]=Number(q.charAt(_t))}return pe>22&&($=$.splice(0,21),k=pe-1,pe=1),{digits:$,exponent:k,integerLen:pe}}(b);Ot&&(Lr=function ki(b){if(0===b.digits[0])return b;const q=b.digits.length-b.integerLen;return b.exponent?b.exponent+=2:(0===q?b.digits.push(0,0):1===q&&b.digits.push(0),b.integerLen+=2),b}(Lr));let Kr=q.minInt,fr=q.minFrac,ni=q.maxFrac;if(_t){const qr=_t.match(Ve);if(null===qr)throw new Error(`${_t} is not a valid digit info`);const Ys=qr[1],hn=qr[3],cs=qr[5];null!=Ys&&(Kr=Jr(Ys)),null!=hn&&(fr=Jr(hn)),null!=cs?ni=Jr(cs):null!=hn&&fr>ni&&(ni=fr)}!function qo(b,q,k){if(q>k)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${k}).`);let $=b.digits,pe=$.length-b.integerLen;const _t=Math.min(Math.max(q,pe),k);let Ot=_t+b.integerLen,tn=$[Ot];if(Ot>0){$.splice(Math.max(b.integerLen,Ot));for(let fr=Ot;fr<$.length;fr++)$[fr]=0}else{pe=Math.max(0,pe),b.integerLen=1,$.length=Math.max(1,Ot=_t+1),$[0]=0;for(let fr=1;fr<Ot;fr++)$[fr]=0}if(tn>=5)if(Ot-1<0){for(let fr=0;fr>Ot;fr--)$.unshift(0),b.integerLen++;$.unshift(1),b.integerLen++}else $[Ot-1]++;for(;pe<Math.max(0,_t);pe++)$.push(0);let Dn=0!==_t;const Lr=q+b.integerLen,Kr=$.reduceRight(function(fr,ni,br,ei){return ei[br]=(ni+=fr)<10?ni:ni-10,Dn&&(0===ei[br]&&br>=Lr?ei.pop():Dn=!1),ni>=10?1:0},0);Kr&&($.unshift(Kr),b.integerLen++)}(Lr,fr,ni);let br=Lr.digits,ei=Lr.integerLen;const Xs=Lr.exponent;let pi=[];for(Dn=br.every(qr=>!qr);ei<Kr;ei++)br.unshift(0);for(;ei<0;ei++)br.unshift(0);ei>0?pi=br.splice(ei,br.length):(pi=br,br=[0]);const Uo=[];for(br.length>=q.lgSize&&Uo.unshift(br.splice(-q.lgSize,br.length).join(""));br.length>q.gSize;)Uo.unshift(br.splice(-q.gSize,br.length).join(""));br.length&&Uo.unshift(br.join("")),tn=Uo.join(et(k,$)),pi.length&&(tn+=et(k,pe)+pi.join("")),Xs&&(tn+=et(k,6)+"+"+Xs)}else tn=et(k,9);return tn=b<0&&!Dn?q.negPre+tn+q.negSuf:q.posPre+tn+q.posSuf,tn}(b,Ot,q,13,12,pe).replace("\xa4",k).replace("\xa4","").trim()}function Jr(b){const q=parseInt(b);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+b);return q}function Ct(b,q){q=encodeURIComponent(q);for(const k of b.split(";")){const $=k.indexOf("="),[pe,_t]=-1==$?[k,""]:[k.slice(0,$),k.slice($+1)];if(pe.trim()===q)return decodeURIComponent(_t)}return null}const nn=/\s+/,Ln=[];let Pn=(()=>{class b{_ngEl;_renderer;initialClasses=Ln;rawClass;stateMap=new Map;constructor(k,$){this._ngEl=k,this._renderer=$}set klass(k){this.initialClasses=null!=k?k.trim().split(nn):Ln}set ngClass(k){this.rawClass="string"==typeof k?k.trim().split(nn):k}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const k=this.rawClass;if(Array.isArray(k)||k instanceof Set)for(const $ of k)this._updateState($,!0);else if(null!=k)for(const $ of Object.keys(k))this._updateState($,!!k[$]);this._applyStateDiff()}_updateState(k,$){const pe=this.stateMap.get(k);void 0!==pe?(pe.enabled!==$&&(pe.changed=!0,pe.enabled=$),pe.touched=!0):this.stateMap.set(k,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const k of this.stateMap){const $=k[0],pe=k[1];pe.changed?(this._toggleClass($,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),pe.touched=!1}}_toggleClass(k,$){(k=k.trim()).length>0&&k.split(nn).forEach(pe=>{$?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static \u0275fac=function($){return new($||b)(I.rXU(I.aKT),I.rXU(I.sFG))};static \u0275dir=I.FsC({type:b,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return b})();class pn{$implicit;ngForOf;index;count;constructor(q,k,$,pe){this.$implicit=q,this.ngForOf=k,this.index=$,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class b{_viewContainer;_template;_differs;set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(k,$,pe){this._viewContainer=k,this._template=$,this._differs=pe}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const $=this._viewContainer;k.forEachOperation((pe,_t,Ot)=>{if(null==pe.previousIndex)$.createEmbeddedView(this._template,new pn(pe.item,this._ngForOf,-1,-1),null===Ot?void 0:Ot);else if(null==Ot)$.remove(null===_t?void 0:_t);else if(null!==_t){const tn=$.get(_t);$.move(tn,Ot),Br(tn,pe)}});for(let pe=0,_t=$.length;pe<_t;pe++){const tn=$.get(pe).context;tn.index=pe,tn.count=_t,tn.ngForOf=this._ngForOf}k.forEachIdentityChange(pe=>{Br($.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(k,$){return!0}static \u0275fac=function($){return new($||b)(I.rXU(I.c1b),I.rXU(I.C4Q),I.rXU(I._q3))};static \u0275dir=I.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return b})();function Br(b,q){b.context.$implicit=q.item}let Xr=(()=>{class b{_viewContainer;_context=new co;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(k,$){this._viewContainer=k,this._thenTemplateRef=$}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Eo("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Eo("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(k,$){return!0}static \u0275fac=function($){return new($||b)(I.rXU(I.c1b),I.rXU(I.C4Q))};static \u0275dir=I.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return b})();class co{$implicit=null;ngIf=null}function Eo(b,q){if(q&&!q.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,I.Tbb)(q)}'.`)}let pt=(()=>{class b{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(k,$,pe){this._ngEl=k,this._differs=$,this._renderer=pe}set ngStyle(k){this._ngStyle=k,!this._differ&&k&&(this._differ=this._differs.find(k).create())}ngDoCheck(){if(this._differ){const k=this._differ.diff(this._ngStyle);k&&this._applyChanges(k)}}_setStyle(k,$){const[pe,_t]=k.split("."),Ot=-1===pe.indexOf("-")?void 0:I.czy.DashCase;null!=$?this._renderer.setStyle(this._ngEl.nativeElement,pe,_t?`${$}${_t}`:$,Ot):this._renderer.removeStyle(this._ngEl.nativeElement,pe,Ot)}_applyChanges(k){k.forEachRemovedItem($=>this._setStyle($.key,null)),k.forEachAddedItem($=>this._setStyle($.key,$.currentValue)),k.forEachChangedItem($=>this._setStyle($.key,$.currentValue))}static \u0275fac=function($){return new($||b)(I.rXU(I.aKT),I.rXU(I.MKu),I.rXU(I.sFG))};static \u0275dir=I.FsC({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return b})(),gt=(()=>{class b{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(k){this._viewContainerRef=k}ngOnChanges(k){if(this._shouldRecreateView(k)){const $=this._viewContainerRef;if(this._viewRef&&$.remove($.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pe=this._createContextForwardProxy();this._viewRef=$.createEmbeddedView(this.ngTemplateOutlet,pe,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(k){return!!k.ngTemplateOutlet||!!k.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(k,$,pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,$,pe),get:(k,$,pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,$,pe)}})}static \u0275fac=function($){return new($||b)(I.rXU(I.c1b))};static \u0275dir=I.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[I.OA$]})}return b})();function gn(b,q){return new I.wOt(2100,!1)}const Gr=new I.nKC(""),ys=new I.nKC("");let lo=(()=>{class b{locale;defaultTimezone;defaultOptions;constructor(k,$,pe){this.locale=k,this.defaultTimezone=$,this.defaultOptions=pe}transform(k,$,pe,_t){if(null==k||""===k||k!=k)return null;try{return Bn(k,$??this.defaultOptions?.dateFormat??"mediumDate",_t||this.locale,pe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ot){throw gn()}}static \u0275fac=function($){return new($||b)(I.rXU(I.xe9,16),I.rXU(Gr,24),I.rXU(ys,24))};static \u0275pipe=I.EJ8({name:"date",type:b,pure:!0})}return b})(),aa=(()=>{class b{_locale;_defaultCurrencyCode;constructor(k,$="USD"){this._locale=k,this._defaultCurrencyCode=$}transform(k,$=this._defaultCurrencyCode,pe="symbol",_t,Ot){if(!function uu(b){return!(null==b||""===b||b!=b)}(k))return null;Ot||=this._locale,"boolean"==typeof pe&&(pe=pe?"symbol":"code");let tn=$||this._defaultCurrencyCode;"code"!==pe&&(tn="symbol"===pe||"symbol-narrow"===pe?function It(b,q,k="en"){const $=function ut(b){return(0,I.H5H)(b)[I.KH2.Currencies]}(k)[b]||Vt[b]||[],pe=$[1];return"narrow"===q&&"string"==typeof pe?pe:$[0]||b}(tn,"symbol"===pe?"wide":"narrow",Ot):pe);try{return or(function Lo(b){if("string"==typeof b&&!isNaN(Number(b)-parseFloat(b)))return Number(b);if("number"!=typeof b)throw new Error(`${b} is not a number`);return b}(k),Ot,tn,$,_t)}catch(Dn){throw gn()}}static \u0275fac=function($){return new($||b)(I.rXU(I.xe9,16),I.rXU(I.Ocv,16))};static \u0275pipe=I.EJ8({name:"currency",type:b,pure:!0})}return b})();let ka=(()=>{class b{static \u0275fac=function($){return new($||b)};static \u0275mod=I.$C({type:b});static \u0275inj=I.G2t({})}return b})();const Es="browser",La="server";function Ki(b){return b===Es}function Is(b){return b===La}let Fa=(()=>{class b{static \u0275prov=(0,I.jDH)({token:b,providedIn:"root",factory:()=>new io((0,I.WQX)(je),window)})}return b})();class io{document;window;offset=()=>[0,0];constructor(q,k){this.document=q,this.window=k}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(q){this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){const k=function ua(b,q){const k=b.getElementById(q)||b.getElementsByName(q)[0];if(k)return k;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const $=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let pe=$.currentNode;for(;pe;){const _t=pe.shadowRoot;if(_t){const Ot=_t.getElementById(q)||_t.querySelector(`[name="${q}"]`);if(Ot)return Ot}pe=$.nextNode()}}return null}(this.document,q);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(q){this.window.history.scrollRestoration=q}scrollToElement(q){const k=q.getBoundingClientRect(),$=k.left+this.window.pageXOffset,pe=k.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo($-_t[0],pe-_t[1])}}class zu{}},1626:(an,Je,V)=>{V.d(Je,{$R:()=>at,$m:()=>co,Qq:()=>ut,Sx:()=>vn,a7:()=>Pt}),V(467);var z=V(3953),ce=V(7673),W=V(1985),Ee=V(8455),Ue=V(274),Ne=V(5964),je=V(6354),Qe=V(980),ge=V(5558),fe=V(8141),He=V(177);class St{}class vt{}class At{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(X){X?"string"==typeof X?this.lazyInit=()=>{this.headers=new Map,X.split("\n").forEach(Y=>{const he=Y.indexOf(":");if(he>0){const st=Y.slice(0,he),pt=Y.slice(he+1).trim();this.addHeaderEntry(st,pt)}})}:typeof Headers<"u"&&X instanceof Headers?(this.headers=new Map,X.forEach((Y,he)=>{this.addHeaderEntry(he,Y)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(X).forEach(([Y,he])=>{this.setHeaderEntries(Y,he)})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const Y=this.headers.get(X.toLowerCase());return Y&&Y.length>0?Y[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,Y){return this.clone({name:X,value:Y,op:"a"})}set(X,Y){return this.clone({name:X,value:Y,op:"s"})}delete(X,Y){return this.clone({name:X,value:Y,op:"d"})}maybeSetNormalizedName(X,Y){this.normalizedNames.has(Y)||this.normalizedNames.set(Y,X)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(Y=>{this.headers.set(Y,X.headers.get(Y)),this.normalizedNames.set(Y,X.normalizedNames.get(Y))})}clone(X){const Y=new At;return Y.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,Y.lazyUpdate=(this.lazyUpdate||[]).concat([X]),Y}applyUpdate(X){const Y=X.name.toLowerCase();switch(X.op){case"a":case"s":let he=X.value;if("string"==typeof he&&(he=[he]),0===he.length)return;this.maybeSetNormalizedName(X.name,Y);const st=("a"===X.op?this.headers.get(Y):void 0)||[];st.push(...he),this.headers.set(Y,st);break;case"d":const pt=X.value;if(pt){let gt=this.headers.get(Y);if(!gt)return;gt=gt.filter(Tn=>-1===pt.indexOf(Tn)),0===gt.length?(this.headers.delete(Y),this.normalizedNames.delete(Y)):this.headers.set(Y,gt)}else this.headers.delete(Y),this.normalizedNames.delete(Y)}}addHeaderEntry(X,Y){const he=X.toLowerCase();this.maybeSetNormalizedName(X,he),this.headers.has(he)?this.headers.get(he).push(Y):this.headers.set(he,[Y])}setHeaderEntries(X,Y){const he=(Array.isArray(Y)?Y:[Y]).map(pt=>pt.toString()),st=X.toLowerCase();this.headers.set(st,he),this.maybeSetNormalizedName(X,st)}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(Y=>X(this.normalizedNames.get(Y),this.headers.get(Y)))}}class fn{encodeKey(X){return Dt(X)}encodeValue(X){return Dt(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const dn=/%(\d[a-f0-9])/gi,En={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dt(U){return encodeURIComponent(U).replace(dn,(X,Y)=>En[Y]??X)}function Ye(U){return`${U}`}class Tt{map;encoder;updates=null;cloneFrom=null;constructor(X={}){if(this.encoder=X.encoder||new fn,X.fromString){if(X.fromObject)throw new z.wOt(2805,!1);this.map=function zt(U,X){const Y=new Map;return U.length>0&&U.replace(/^\?/,"").split("&").forEach(st=>{const pt=st.indexOf("="),[gt,Tn]=-1==pt?[X.decodeKey(st),""]:[X.decodeKey(st.slice(0,pt)),X.decodeValue(st.slice(pt+1))],gn=Y.get(gt)||[];gn.push(Tn),Y.set(gt,gn)}),Y}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(Y=>{const he=X.fromObject[Y],st=Array.isArray(he)?he.map(Ye):[Ye(he)];this.map.set(Y,st)})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const Y=this.map.get(X);return Y?Y[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,Y){return this.clone({param:X,value:Y,op:"a"})}appendAll(X){const Y=[];return Object.keys(X).forEach(he=>{const st=X[he];Array.isArray(st)?st.forEach(pt=>{Y.push({param:he,value:pt,op:"a"})}):Y.push({param:he,value:st,op:"a"})}),this.clone(Y)}set(X,Y){return this.clone({param:X,value:Y,op:"s"})}delete(X,Y){return this.clone({param:X,value:Y,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const Y=this.encoder.encodeKey(X);return this.map.get(X).map(he=>Y+"="+this.encoder.encodeValue(he)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const Y=new Tt({encoder:this.encoder});return Y.cloneFrom=this.cloneFrom||this,Y.updates=(this.updates||[]).concat(X),Y}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const Y=("a"===X.op?this.map.get(X.param):void 0)||[];Y.push(Ye(X.value)),this.map.set(X.param,Y);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let he=this.map.get(X.param)||[];const st=he.indexOf(Ye(X.value));-1!==st&&he.splice(st,1),he.length>0?this.map.set(X.param,he):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class qt{map=new Map;set(X,Y){return this.map.set(X,Y),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function te(U){return typeof ArrayBuffer<"u"&&U instanceof ArrayBuffer}function ke(U){return typeof Blob<"u"&&U instanceof Blob}function Ht(U){return typeof FormData<"u"&&U instanceof FormData}const xt="Content-Type",$n="X-Request-URL",Lt="text/plain",We="application/json",ft=`${We}, ${Lt}, */*`;class Un{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(X,Y,he,st){let pt;if(this.url=Y,this.method=X.toUpperCase(),function cn(U){switch(U){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||st?(this.body=void 0!==he?he:null,pt=st):pt=he,pt&&(this.reportProgress=!!pt.reportProgress,this.withCredentials=!!pt.withCredentials,pt.responseType&&(this.responseType=pt.responseType),pt.headers&&(this.headers=pt.headers),pt.context&&(this.context=pt.context),pt.params&&(this.params=pt.params),this.transferCache=pt.transferCache),this.headers??=new At,this.context??=new qt,this.params){const gt=this.params.toString();if(0===gt.length)this.urlWithParams=Y;else{const Tn=Y.indexOf("?");this.urlWithParams=Y+(-1===Tn?"?":Tn<Y.length-1?"&":"")+gt}}else this.params=new Tt,this.urlWithParams=Y}serializeBody(){return null===this.body?null:"string"==typeof this.body||te(this.body)||ke(this.body)||Ht(this.body)||function un(U){return typeof URLSearchParams<"u"&&U instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Tt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:ke(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?Lt:this.body instanceof Tt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?We:null}clone(X={}){const Y=X.method||this.method,he=X.url||this.url,st=X.responseType||this.responseType,pt=X.transferCache??this.transferCache,gt=void 0!==X.body?X.body:this.body,Tn=X.withCredentials??this.withCredentials,gn=X.reportProgress??this.reportProgress;let nr=X.headers||this.headers,yr=X.params||this.params;const wr=X.context??this.context;return void 0!==X.setHeaders&&(nr=Object.keys(X.setHeaders).reduce((Kn,Xi)=>Kn.set(Xi,X.setHeaders[Xi]),nr)),X.setParams&&(yr=Object.keys(X.setParams).reduce((Kn,Xi)=>Kn.set(Xi,X.setParams[Xi]),yr)),new Un(Y,he,gt,{params:yr,headers:nr,context:wr,reportProgress:gn,responseType:st,withCredentials:Tn,transferCache:pt})}}var ye=function(U){return U[U.Sent=0]="Sent",U[U.UploadProgress=1]="UploadProgress",U[U.ResponseHeader=2]="ResponseHeader",U[U.DownloadProgress=3]="DownloadProgress",U[U.Response=4]="Response",U[U.User=5]="User",U}(ye||{});class Ie{headers;status;statusText;url;ok;type;constructor(X,Y=200,he="OK"){this.headers=X.headers||new At,this.status=void 0!==X.status?X.status:Y,this.statusText=X.statusText||he,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends Ie{constructor(X={}){super(X)}type=ye.ResponseHeader;clone(X={}){return new Ae({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class Re extends Ie{body;constructor(X={}){super(X),this.body=void 0!==X.body?X.body:null}type=ye.Response;clone(X={}){return new Re({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class et extends Ie{name="HttpErrorResponse";message;error;ok=!1;constructor(X){super(X,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function ht(U,X){return{body:X,headers:U.headers,context:U.context,observe:U.observe,params:U.params,reportProgress:U.reportProgress,responseType:U.responseType,withCredentials:U.withCredentials,transferCache:U.transferCache}}let ut=(()=>{class U{handler;constructor(Y){this.handler=Y}request(Y,he,st={}){let pt;if(Y instanceof Un)pt=Y;else{let gn,nr;gn=st.headers instanceof At?st.headers:new At(st.headers),st.params&&(nr=st.params instanceof Tt?st.params:new Tt({fromObject:st.params})),pt=new Un(Y,he,void 0!==st.body?st.body:null,{headers:gn,context:st.context,params:nr,reportProgress:st.reportProgress,responseType:st.responseType||"json",withCredentials:st.withCredentials,transferCache:st.transferCache})}const gt=(0,ce.of)(pt).pipe((0,Ue.H)(gn=>this.handler.handle(gn)));if(Y instanceof Un||"events"===st.observe)return gt;const Tn=gt.pipe((0,Ne.p)(gn=>gn instanceof Re));switch(st.observe||"body"){case"body":switch(pt.responseType){case"arraybuffer":return Tn.pipe((0,je.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new z.wOt(2806,!1);return gn.body}));case"blob":return Tn.pipe((0,je.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new z.wOt(2807,!1);return gn.body}));case"text":return Tn.pipe((0,je.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new z.wOt(2808,!1);return gn.body}));default:return Tn.pipe((0,je.T)(gn=>gn.body))}case"response":return Tn;default:throw new z.wOt(2809,!1)}}delete(Y,he={}){return this.request("DELETE",Y,he)}get(Y,he={}){return this.request("GET",Y,he)}head(Y,he={}){return this.request("HEAD",Y,he)}jsonp(Y,he){return this.request("JSONP",Y,{params:(new Tt).append(he,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Y,he={}){return this.request("OPTIONS",Y,he)}patch(Y,he,st={}){return this.request("PATCH",Y,ht(st,he))}post(Y,he,st={}){return this.request("POST",Y,ht(st,he))}put(Y,he,st={}){return this.request("PUT",Y,ht(st,he))}static \u0275fac=function(he){return new(he||U)(z.KVO(St))};static \u0275prov=z.jDH({token:U,factory:U.\u0275fac})}return U})();const Ze=new z.nKC("");function It(U,X){return X(U)}function yn(U,X){return(Y,he)=>X.intercept(Y,{handle:st=>U(st,he)})}const Pt=new z.nKC(""),er=new z.nKC(""),Yn=new z.nKC(""),Bn=new z.nKC("",{providedIn:"root",factory:()=>!0});function Pr(){let U=null;return(X,Y)=>{null===U&&(U=((0,z.WQX)(Pt,{optional:!0})??[]).reduceRight(yn,It));const he=(0,z.WQX)(z.Ua0);if((0,z.WQX)(Bn)){const pt=he.add();return U(X,Y).pipe((0,Qe.j)(()=>he.remove(pt)))}return U(X,Y)}}let ir=(()=>{class U extends St{backend;injector;chain=null;pendingTasks=(0,z.WQX)(z.Ua0);contributeToStability=(0,z.WQX)(Bn);constructor(Y,he){super(),this.backend=Y,this.injector=he}handle(Y){if(null===this.chain){const he=Array.from(new Set([...this.injector.get(er),...this.injector.get(Yn,[])]));this.chain=he.reduceRight((st,pt)=>function _n(U,X,Y){return(he,st)=>(0,z.N4e)(Y,()=>X(he,pt=>U(pt,st)))}(st,pt,this.injector),It)}if(this.contributeToStability){const he=this.pendingTasks.add();return this.chain(Y,st=>this.backend.handle(st)).pipe((0,Qe.j)(()=>this.pendingTasks.remove(he)))}return this.chain(Y,he=>this.backend.handle(he))}static \u0275fac=function(he){return new(he||U)(z.KVO(vt),z.KVO(z.uvJ))};static \u0275prov=z.jDH({token:U,factory:U.\u0275fac})}return U})();const rr=/^\)\]\}',?\n/,lr=RegExp(`^${$n}:`,"m");let Mr=(()=>{class U{xhrFactory;constructor(Y){this.xhrFactory=Y}handle(Y){if("JSONP"===Y.method)throw new z.wOt(-2800,!1);const he=this.xhrFactory;return(he.\u0275loadImpl?(0,Ee.H)(he.\u0275loadImpl()):(0,ce.of)(null)).pipe((0,ge.n)(()=>new W.c(pt=>{const gt=he.build();if(gt.open(Y.method,Y.urlWithParams),Y.withCredentials&&(gt.withCredentials=!0),Y.headers.forEach((Mn,Ir)=>gt.setRequestHeader(Mn,Ir.join(","))),Y.headers.has("Accept")||gt.setRequestHeader("Accept",ft),!Y.headers.has(xt)){const Mn=Y.detectContentTypeHeader();null!==Mn&&gt.setRequestHeader(xt,Mn)}if(Y.responseType){const Mn=Y.responseType.toLowerCase();gt.responseType="json"!==Mn?Mn:"text"}const Tn=Y.serializeBody();let gn=null;const nr=()=>{if(null!==gn)return gn;const Mn=gt.statusText||"OK",Ir=new At(gt.getAllResponseHeaders()),bi=function zn(U){return"responseURL"in U&&U.responseURL?U.responseURL:lr.test(U.getAllResponseHeaders())?U.getResponseHeader($n):null}(gt)||Y.url;return gn=new Ae({headers:Ir,status:gt.status,statusText:Mn,url:bi}),gn},yr=()=>{let{headers:Mn,status:Ir,statusText:bi,url:ro}=nr(),Gr=null;204!==Ir&&(Gr=typeof gt.response>"u"?gt.responseText:gt.response),0===Ir&&(Ir=Gr?200:0);let ys=Ir>=200&&Ir<300;if("json"===Y.responseType&&"string"==typeof Gr){const lo=Gr;Gr=Gr.replace(rr,"");try{Gr=""!==Gr?JSON.parse(Gr):null}catch(Gi){Gr=lo,ys&&(ys=!1,Gr={error:Gi,text:Gr})}}ys?(pt.next(new Re({body:Gr,headers:Mn,status:Ir,statusText:bi,url:ro||void 0})),pt.complete()):pt.error(new et({error:Gr,headers:Mn,status:Ir,statusText:bi,url:ro||void 0}))},wr=Mn=>{const{url:Ir}=nr(),bi=new et({error:Mn,status:gt.status||0,statusText:gt.statusText||"Unknown Error",url:Ir||void 0});pt.error(bi)};let Kn=!1;const Xi=Mn=>{Kn||(pt.next(nr()),Kn=!0);let Ir={type:ye.DownloadProgress,loaded:Mn.loaded};Mn.lengthComputable&&(Ir.total=Mn.total),"text"===Y.responseType&&gt.responseText&&(Ir.partialText=gt.responseText),pt.next(Ir)},_r=Mn=>{let Ir={type:ye.UploadProgress,loaded:Mn.loaded};Mn.lengthComputable&&(Ir.total=Mn.total),pt.next(Ir)};return gt.addEventListener("load",yr),gt.addEventListener("error",wr),gt.addEventListener("timeout",wr),gt.addEventListener("abort",wr),Y.reportProgress&&(gt.addEventListener("progress",Xi),null!==Tn&&gt.upload&&gt.upload.addEventListener("progress",_r)),gt.send(Tn),pt.next({type:ye.Sent}),()=>{gt.removeEventListener("error",wr),gt.removeEventListener("abort",wr),gt.removeEventListener("load",yr),gt.removeEventListener("timeout",wr),Y.reportProgress&&(gt.removeEventListener("progress",Xi),null!==Tn&&gt.upload&&gt.upload.removeEventListener("progress",_r)),gt.readyState!==gt.DONE&&gt.abort()}})))}static \u0275fac=function(he){return new(he||U)(z.KVO(He.N0))};static \u0275prov=z.jDH({token:U,factory:U.\u0275fac})}return U})();const Si=new z.nKC(""),ti=new z.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ve=new z.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ve{}let Et=(()=>{class U{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Y,he,st){this.doc=Y,this.platform=he,this.cookieName=st}getToken(){if("server"===this.platform)return null;const Y=this.doc.cookie||"";return Y!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,He._b)(Y,this.cookieName),this.lastCookieString=Y),this.lastToken}static \u0275fac=function(he){return new(he||U)(z.KVO(He.qQ),z.KVO(z.Agw),z.KVO(ti))};static \u0275prov=z.jDH({token:U,factory:U.\u0275fac})}return U})();function re(U,X){const Y=U.url.toLowerCase();if(!(0,z.WQX)(Si)||"GET"===U.method||"HEAD"===U.method||Y.startsWith("http://")||Y.startsWith("https://"))return X(U);const he=(0,z.WQX)(Ve).getToken(),st=(0,z.WQX)(ve);return null!=he&&!U.headers.has(st)&&(U=U.clone({headers:U.headers.set(st,he)})),X(U)}var oe=function(U){return U[U.Interceptors=0]="Interceptors",U[U.LegacyInterceptors=1]="LegacyInterceptors",U[U.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",U[U.NoXsrfProtection=3]="NoXsrfProtection",U[U.JsonpSupport=4]="JsonpSupport",U[U.RequestsMadeViaParent=5]="RequestsMadeViaParent",U[U.Fetch=6]="Fetch",U}(oe||{});function at(...U){const X=[ut,Mr,ir,{provide:St,useExisting:ir},{provide:vt,useFactory:()=>(0,z.WQX)(Ze,{optional:!0})??(0,z.WQX)(Mr)},{provide:er,useValue:re,multi:!0},{provide:Si,useValue:!0},{provide:Ve,useClass:Et}];for(const Y of U)X.push(...Y.\u0275providers);return(0,z.EmA)(X)}const In=new z.nKC("");function vn(){return function we(U,X){return{\u0275kind:U,\u0275providers:X}}(oe.LegacyInterceptors,[{provide:In,useFactory:Pr},{provide:er,useExisting:In,multi:!0}])}const ko=new z.nKC(""),Fi="b",dt="h",Ge="s",Ct="st",nn="u",Ln="rt",Pn=new z.nKC(""),$t=["GET","HEAD"];function kt(U,X){const{isCacheActive:Y,...he}=(0,z.WQX)(Pn),{transferCache:st,method:pt}=U;if(!Y||!1===st||"POST"===pt&&!he.includePostRequests&&!st||"POST"!==pt&&!$t.includes(pt)||!he.includeRequestsWithAuthHeaders&&function pn(U){return U.headers.has("authorization")||U.headers.has("proxy-authorization")}(U)||!1===he.filter?.(U))return X(U);const gt=(0,z.WQX)(z.pJN);if((0,z.WQX)(ko,{optional:!0}))throw new z.wOt(2803,!1);const nr=function mr(U,X){const{params:Y,method:he,responseType:st}=U,pt=Br(Y);let gt=U.serializeBody();gt instanceof URLSearchParams?gt=Br(gt):"string"!=typeof gt&&(gt="");const gn=function Xr(U){let X=0;for(const Y of U)X=Math.imul(31,X)+Y.charCodeAt(0)|0;return X+=2147483648,X.toString()}([he,st,X,gt,pt].join("|"));return(0,z.zw6)(gn)}(U,U.url),yr=gt.get(nr,null);let wr=he.includeHeaders;if("object"==typeof st&&st.includeHeaders&&(wr=st.includeHeaders),yr){const{[Fi]:Kn,[Ln]:Xi,[dt]:_r,[Ge]:Mn,[Ct]:Ir,[nn]:bi}=yr;let ro=Kn;switch(Xi){case"arraybuffer":ro=(new TextEncoder).encode(Kn).buffer;break;case"blob":ro=new Blob([Kn])}let Gr=new At(_r);return(0,ce.of)(new Re({body:ro,headers:Gr,status:Mn,statusText:Ir,url:bi}))}return X(U).pipe((0,fe.M)(Kn=>{}))}function Br(U){return[...U.keys()].sort().map(X=>`${X}=${U.getAll(X)}`).join("&")}function co(U){return[{provide:Pn,useFactory:()=>((0,z.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...U})},{provide:Yn,useValue:kt,multi:!0,deps:[z.pJN,Pn]},{provide:z.iLQ,multi:!0,useFactory:()=>{const X=(0,z.WQX)(z.o8S),Y=(0,z.WQX)(Pn);return()=>{X.whenStable().then(()=>{Y.isCacheActive=!1})}}}]}},3953:(an,Je,V)=>{V.d(Je,{bc$:()=>_p,iLQ:()=>ly,sZ2:()=>Pl,hnV:()=>sT,o8S:()=>ac,BIS:()=>mw,gRc:()=>SS,Ql9:()=>Bk,Ocv:()=>Kk,abz:()=>rc,Z63:()=>Bo,aKT:()=>jh,uvJ:()=>Z,zcH:()=>Lc,bkB:()=>xc,$GK:()=>b,nKC:()=>Nn,zZn:()=>es,_q3:()=>ZT,MKu:()=>JT,xe9:()=>GT,Co$:()=>cD,Vns:()=>Cf,SKi:()=>zi,Xx1:()=>gc,Agw:()=>i_,PLl:()=>ih,u5s:()=>Vg,sFG:()=>hP,_9s:()=>NI,czy:()=>W_,WPN:()=>Sd,kdw:()=>qu,C4Q:()=>Qm,NYb:()=>sN,giA:()=>BD,pJN:()=>al,xvI:()=>Vk,RxE:()=>mS,c1b:()=>iv,gXe:()=>Fc,mal:()=>qh,Af3:()=>ao,L39:()=>Y1,EWP:()=>gg,Ol2:()=>KI,w6W:()=>jP,QZP:()=>rw,Rfq:()=>cr,WQX:()=>hn,hFB:()=>Vs,naY:()=>r1,QuC:()=>qi,EmA:()=>Rs,zw6:()=>_w,HJs:()=>EL,N4e:()=>ga,vPA:()=>Gg,O8t:()=>Ah,H3F:()=>MD,H8p:()=>w,KH2:()=>hg,Ua0:()=>Na,wOt:()=>on,WHO:()=>VD,e01:()=>UD,Lf2:()=>sh,lNU:()=>Or,PpM:()=>Cl,h9k:()=>hf,$MX:()=>Dd,ZF7:()=>dl,Kcf:()=>bm,e5t:()=>T_,UyX:()=>Vl,cWb:()=>Op,osQ:()=>I_,H5H:()=>wT,Zy3:()=>Qo,mq5:()=>OA,JZv:()=>Ui,TL3:()=>b1,LfX:()=>fc,plB:()=>_h,jNT:()=>oT,zjR:()=>jD,ngT:()=>gs,hVU:()=>oN,TL$:()=>pw,Tbb:()=>ai,zUL:()=>wa,rcV:()=>ll,M8M:()=>Q1,XA_:()=>ZS,Vt3:()=>QI,GFd:()=>TD,OA$:()=>tl,Jv_:()=>UC,R7$:()=>Ow,BMQ:()=>dT,AVh:()=>yT,vxM:()=>wA,wni:()=>fC,VBU:()=>dD,FsC:()=>fD,jDH:()=>Sr,G2t:()=>Do,$C:()=>qI,EJ8:()=>pD,rXU:()=>Wp,nrm:()=>TT,bVm:()=>Ev,qex:()=>vv,k0s:()=>_v,j41:()=>yv,RV6:()=>PA,xGo:()=>tp,KVO:()=>qr,kS0:()=>Yd,QTQ:()=>kw,bIt:()=>CT,lsd:()=>gC,joV:()=>Ry,qSk:()=>ud,XpG:()=>iC,nI1:()=>YC,bMT:()=>ZC,i5U:()=>JC,Y8G:()=>gT,FS9:()=>bT,lJ4:()=>jC,eq3:()=>$C,l_i:()=>HC,ziG:()=>zC,s1E:()=>WC,mGM:()=>pC,sdS:()=>mC,Dyx:()=>CA,Z7z:()=>AA,Vm6:()=>DA,Njj:()=>Vr,EBC:()=>If,eBV:()=>Zn,npT:()=>Nm,B4B:()=>Om,n$t:()=>xm,DNE:()=>ZI,C5r:()=>eS,EFF:()=>CC,JRh:()=>MT,SpI:()=>Av,Lme:()=>NT,DH7:()=>kC,mxI:()=>xT,R50:()=>OT});var I=V(467);function z(e,t){return Object.is(e,t)}let ce=null,W=!1,Ee=1;const Ue=Symbol("SIGNAL");function Ne(e){const t=ce;return ce=e,t}const fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function He(e){if(W)throw new Error("");if(null===ce)return;ce.consumerOnSignalRead(e);const t=ce.nextProducerIndex++;cn(ce),t<ce.producerNode.length&&ce.producerNode[t]!==e&&qt(ce)&&Vt(ce.producerNode[t],ce.producerIndexOfThis[t]),ce.producerNode[t]!==e&&(ce.producerNode[t]=e,ce.producerIndexOfThis[t]=qt(ce)?Tt(e,ce,t):0),ce.producerLastReadVersion[t]=e.version}function vt(e){if((!qt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ee)){if(!e.producerMustRecompute(e)&&!Dt(e))return void zt(e);e.producerRecomputeValue(e),zt(e)}}function At(e){if(void 0===e.liveConsumerNode)return;const t=W;W=!0;try{for(const r of e.liveConsumerNode)r.dirty||fn(r)}finally{W=t}}function mn(){return!1!==ce?.consumerAllowSignalWrites}function fn(e){e.dirty=!0,At(e),e.consumerMarkedDirty?.(e)}function zt(e){e.dirty=!1,e.lastCleanEpoch=Ee}function dn(e){return e&&(e.nextProducerIndex=0),Ne(e)}function En(e,t){if(Ne(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(qt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Vt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Dt(e){cn(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(vt(r),o!==r.version))return!0}return!1}function Ye(e){if(cn(e),qt(e))for(let t=0;t<e.producerNode.length;t++)Vt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Tt(e,t,r){if(te(e),0===e.liveConsumerNode.length&&ke(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Tt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Vt(e,t){if(te(e),1===e.liveConsumerNode.length&&ke(e))for(let o=0;o<e.producerNode.length;o++)Vt(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];cn(a),a.producerIndexOfThis[o]=t}}function qt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function cn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function te(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ke(e){return void 0!==e.producerNode}const un=Symbol("UNSET"),xt=Symbol("COMPUTING"),Ut=Symbol("ERRORED"),$n={...fe,value:un,dirty:!0,error:null,equal:z,kind:"computed",producerMustRecompute:e=>e.value===un||e.value===xt,producerRecomputeValue(e){if(e.value===xt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=xt;const r=dn(e);let o,a=!1;try{o=e.computation(),Ne(null),a=t!==un&&t!==Ut&&o!==Ut&&e.equal(t,o)}catch(l){o=Ut,e.error=l}finally{En(e,r)}a?e.value=t:(e.value=o,e.version++)}};let We=function Lt(){throw new Error};function ft(){We()}let ye=null;function et(e,t){mn()||ft(),e.equal(e.value,t)||(e.value=t,function ht(e){e.version++,function St(){Ee++}(),At(e),ye?.()}(e))}const Oe={...fe,equal:z,value:void 0,kind:"signal"};const se=()=>{},Te={...fe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:se};var It=V(4412),yn=V(1413),_n=V(8359);const Yn={};function tr(e,t){e.__jsaction=t}const gr=["mouseenter","mouseleave","pointerenter","pointerleave"],ur=["focus","blur","error","load","toggle"],Er=e=>ur.indexOf(e)>=0;function Mr(e,t){e.removeEventListener?e.removeEventListener(t.eventType,t.handler,"boolean"==typeof t.passive?{capture:t.capture}:t.capture):e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}let Pe=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator;const pn=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);class rn{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,r,o){pn&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function zn(e,t,r,o){let a=!1;return Er(t)&&(a=!0),e.addEventListener(t,r,"boolean"==typeof o?{capture:a,passive:o}:a),{eventType:t,handler:r,capture:a,passive:o}}(this.element,t,r(this.element),o))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)Mr(this.element,this.handlerInfos[t]);this.handlerInfos=[]}}function mr(e){return e.eventType}function Xr(e,t){e.eventType=t}function co(e){return e.event}function Eo(e,t){e.event=t}function Wr(e){return e.targetElement}function Be(e,t){e.targetElement=t}function U(e){return e.eic}function st(e){return e.eia}function pt(e,t,r){e.eia=[t,r]}function gt(e){e.eia=void 0}function gn(e){return e[1]}function yr(e,t){e.eirp=t}function Xi(e){return e.eir}function _r(e,t){e.eir=t}function Mn(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}class ro{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return mr(this.eventInfo)}setEventType(t){Xr(this.eventInfo,t)}getEvent(){return co(this.eventInfo)}setEvent(t){Eo(this.eventInfo,t)}getTargetElement(){return Wr(this.eventInfo)}setTargetElement(t){Be(this.eventInfo,t)}getContainer(){return U(this.eventInfo)}setContainer(t){!function X(e,t){e.eic=t}(this.eventInfo,t)}getTimestamp(){return function Y(e){return e.timeStamp}(this.eventInfo)}setTimestamp(t){!function he(e,t){e.timeStamp=t}(this.eventInfo,t)}getAction(){const t=st(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){t?pt(this.eventInfo,t.name,t.element):gt(this.eventInfo)}getIsReplay(){return function nr(e){return e.eirp}(this.eventInfo)}setIsReplay(t){yr(this.eventInfo,t)}getResolved(){return Xi(this.eventInfo)}setResolved(t){_r(this.eventInfo,t)}clone(){return new ro(Mn(this.eventInfo))}}const Gr={},ys=/\s*;\s*/;class Gi{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:r=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=r}resolveEventType(t){this.clickModSupport&&"click"===mr(t)&&function Ve(e){return Pe&&e.metaKey||!Pe&&e.ctrlKey||function ve(e){return 2===e.which||null==e.which&&4===e.button}(e)||e.shiftKey}(co(t))?Xr(t,"clickmod"):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Xi(t)||(this.populateAction(t,Wr(t)),_r(t,!0))}resolveParentAction(t){const r=st(t),o=r&&gn(r);gt(t);const a=o&&this.getParentNode(o);a&&this.populateAction(t,a)}populateAction(t,r){let o=r;for(;o&&o!==U(t)&&(o.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(o,t),!st(t));)o=this.getParentNode(o);const a=st(t);if(a&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&("mouseenter"===mr(t)||"mouseleave"===mr(t)||"pointerenter"===mr(t)||"pointerleave"===mr(t))))if(function Nr(e,t,r){const o=e.relatedTarget;return("mouseover"===e.type&&"mouseenter"===t||"mouseout"===e.type&&"mouseleave"===t||"pointerover"===e.type&&"pointerenter"===t||"pointerout"===e.type&&"pointerleave"===t)&&(!o||o!==r&&!r.contains(o))}(co(t),mr(t),gn(a))){const l=function Ii(e,t){const r={};for(const o in e){if("srcElement"===o||"target"===o)continue;const l=e[o];"function"!=typeof l&&(r[o]=l)}return r.type="mouseover"===e.type?"mouseenter":"mouseout"===e.type?"mouseleave":"pointerover"===e.type?"pointerenter":"pointerleave",r.target=r.srcElement=t,r.bubbles=!1,r._originalEvent=e,r}(co(t),gn(a));Eo(t,l),Be(t,gn(a))}else gt(t)}getParentNode(t){const r=t.__owner;if(r)return r;const o=t.parentNode;return"#document-fragment"===o?.nodeName?o?.host??null:o}populateActionOnElement(t,r){const o=this.parseActions(t),a=o[mr(r)];void 0!==a&&pt(r,a,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,r,o)}parseActions(t){let r=function Bn(e){return e.__jsaction}(t);if(!r){const o=t.getAttribute("jsaction");if(o){if(r=function xr(e){return Yn[e]}(o),!r){r={};const a=o.split(ys);for(let l=0;l<a.length;l++){const p=a[l];if(!p)continue;const E=p.indexOf(":"),A=-1!==E,L=A?p.substr(0,E).trim():"click",G=A?p.substr(E+1).trim():p;r[L]=G}!function ir(e,t){Yn[e]=t}(o,r)}tr(t,r)}else r=Gr,tr(t,r)}return r}addA11yClickSupport(t,r,o){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=r,this.populateClickOnlyAction=o}}var Io=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(Io||{});class ri{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:r,eventReplayer:o}={}){this.dispatchDelegate=t,this.actionResolver=r,this.eventReplayer=o}dispatch(t){const r=new ro(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);const o=r.getAction();o&&function _s(e,t){return"A"===e.tagName&&("click"===t.getEventType()||"clickmod"===t.getEventType())}(o.element,r)&&function hi(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r.getEvent()),this.eventReplayer&&r.getIsReplay()?this.scheduleEventInfoWrapperReplay(r):this.dispatchDelegate(r)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}}const Hu=Symbol.for("propagationStopped");class cc{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,r=!0){this.dispatchDelegate=t,this.clickModSupport=r,this.actionResolver=new Gi({clickModSupport:r}),this.dispatcher=new ri(o=>{this.dispatchToDelegate(o)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&function Es(e){const t=e.getEvent(),r=e.getTargetElement(),o=t.preventDefault.bind(t);Ki(t,"target",r),Ki(t,"eventPhase",101),Ki(t,"preventDefault",()=>{throw o(),new Error("`preventDefault` called during event replay.")}),Ki(t,"composedPath",()=>{throw new Error("`composedPath` called during event replay.")})}(t),function Yi(e){const t=e.getEvent(),r=e.getEvent().stopPropagation.bind(t),o=()=>{t[Hu]=!0,r()};Ki(t,"stopPropagation",o),Ki(t,"stopImmediatePropagation",o)}(t);t.getAction();){if(La(t),Er(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),t.getEvent()[Hu]))return;this.actionResolver.resolveParentAction(t.eventInfo)}}}function La(e){const t=e.getEvent(),r=e.getAction()?.element;r&&Ki(t,"currentTarget",r,{configurable:!0})}function Ki(e,t,r,{configurable:o=!1}={}){Object.defineProperty(e,t,{value:r,configurable:o})}function Tr(e,t,r,o){for(let a=0;a<t.length;a++)e.removeEventListener(t[a],r,o)}let Ar=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=!1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(r){this.containerManager=r}handleEvent(r,o,a){const l=function Ir(e,t,r,o,a,l,p,E){return{eventType:e,event:t,targetElement:r,eic:o,timeStamp:a,eia:l,eirp:p,eiack:E}}(r,o,o.target,a,Date.now());this.handleEventInfo(l)}handleEventInfo(r){if(!this.dispatcher)return yr(r,!0),void this.queuedEventInfos?.push(r);this.dispatcher(r)}addEvent(r,o,a){if(r in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&gr.indexOf(r)>=0)return;const l=(E,A,L)=>{this.handleEvent(E,A,L)};this.eventHandlers[r]=l;const p=function lr(e){return"mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":"pointerenter"===e?"pointerover":"pointerleave"===e?"pointerout":e}(o||r);if(p!==r){const E=this.browserEventTypeToExtraEventTypes[p]||[];E.push(r),this.browserEventTypeToExtraEventTypes[p]=E}this.containerManager.addEventListener(p,E=>A=>{l(r,A,E)},a)}replayEarlyEvents(r=window._ejsa){r&&(this.replayEarlyEventInfos(r.q),function zu(e){e&&(Tr(e.c,e.et,e.h),Tr(e.c,e.etc,e.h,!0))}(r),delete window._ejsa)}replayEarlyEventInfos(r){for(let o=0;o<r.length;o++){const a=r[o],l=this.getEventTypesForBrowserEventType(a.eventType);for(let p=0;p<l.length;p++){const E=Mn(a);Xr(E,l[p]),this.handleEventInfo(E)}}}getEventTypesForBrowserEventType(r){const o=[];return this.eventHandlers[r]&&o.push(r),this.browserEventTypeToExtraEventTypes[r]&&o.push(...this.browserEventTypeToExtraEventTypes[r]),o}handler(r){return this.eventHandlers[r]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(r,o){this.ecrd(r,o)}ecrd(r,o){if(this.dispatcher=r,this.queuedEventInfos?.length){for(let a=0;a<this.queuedEventInfos.length;a++)this.handleEventInfo(this.queuedEventInfos[a]);this.queuedEventInfos=null}}}return e})();function ii(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var Ia=V(6354);const Or="https://g.co/ng/security#xss";class on extends Error{code;constructor(t,r){super(Qo(t,r)),this.code=t}}function Qo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}const Zi=Symbol("InputSignalNode#UNSET"),du={...Oe,transformFn:void 0,applyValueToInputSignal(e,t){et(e,t)}};function Ta(e,t){const r=Object.create(du);function o(){if(He(r),r.value===Zi)throw new on(-950,!1);return r.value}return r.value=e,r.transformFn=t?.transform,o[Ue]=r,o}function ws(e){return{toString:e}.toString()}const Fo="__parameters__";function Ds(e,t,r){return ws(()=>{const o=function is(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const p=new a(...l);return E.annotation=p,E;function E(A,L,G){const ee=A.hasOwnProperty(Fo)?A[Fo]:Object.defineProperty(A,Fo,{value:[]})[Fo];for(;ee.length<=G;)ee.push(null);return(ee[G]=ee[G]||[]).push(p),A}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ui=globalThis;function hr(e){for(let t in e)if(e[t]===hr)return t;throw Error("Could not find renamed property on target object.")}function os(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ai(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ai).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function wo(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}function wa(e,t=100){if(!e||t<1||e.length<=t)return e;if(1==t)return e.substring(0,1)+"...";const r=Math.round(t/2);return e.substring(0,r)+"..."+e.substring(e.length-r)}const Ba=hr({__forward_ref__:hr});function cr(e){return e.__forward_ref__=cr,e.toString=function(){return ai(this())},e}function An(e){return ho(e)?e():e}function ho(e){return"function"==typeof e&&e.hasOwnProperty(Ba)&&e.__forward_ref__===cr}function Sr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Do(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ao(e){return la(e,ss)||la(e,pu)}function fc(e){return null!==Ao(e)}function la(e,t){return e.hasOwnProperty(t)?e[t]:null}function fu(e){return e&&(e.hasOwnProperty(Wa)||e.hasOwnProperty(Xl))?e[Wa]:null}const ss=hr({\u0275prov:hr}),Wa=hr({\u0275inj:hr}),pu=hr({ngInjectableDef:hr}),Xl=hr({ngInjectorDef:hr});class Nn{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Sr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _u(e){return e&&!!e.\u0275providers}const da=hr({\u0275cmp:hr}),_l=hr({\u0275dir:hr}),Yr=hr({\u0275pipe:hr}),Sn=hr({\u0275mod:hr}),us=hr({\u0275fac:hr}),qs=hr({__NG_ELEMENT_ID__:hr}),zc=hr({__NG_ENV_ID__:hr});function Wn(e){return"string"==typeof e?e:null==e?"":String(e)}function Eu(e,t){throw new on(-201,!1)}var b=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(b||{});let q;function k(){return q}function $(e){const t=q;return q=e,t}function pe(e,t,r){const o=Ao(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&b.Optional?null:void 0!==t?t:void Eu()}const tn={},Dn="__NG_DI_FLAG__",Lr="ngTempTokenPath",fr=/\n/gm,br="__source";let ei;function pi(e){const t=ei;return ei=e,t}function Uo(e,t=b.Default){if(void 0===ei)throw new on(-203,!1);return null===ei?pe(e,void 0,t):ei.get(e,t&b.Optional?null:void 0,t)}function qr(e,t=b.Default){return(k()||Uo)(An(e),t)}function hn(e,t=b.Default){return qr(e,cs(t))}function cs(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sa(e){const t=[];for(let r=0;r<e.length;r++){const o=An(e[r]);if(Array.isArray(o)){if(0===o.length)throw new on(900,!1);let a,l=b.Default;for(let p=0;p<o.length;p++){const E=o[p],A=Ch(E);"number"==typeof A?-1===A?a=E.token:l|=A:a=E}t.push(qr(a,l))}else t.push(qr(o))}return t}function Ji(e,t){return e[Dn]=t,e.prototype[Dn]=t,e}function Ch(e){return e[Dn]}const gc=Ji(Ds("Optional"),8),qu=Ji(Ds("SkipSelf"),4);function ui(e,t){return e.hasOwnProperty(us)?e[us]:null}function Qr(e,t){e.forEach(r=>Array.isArray(r)?Qr(r,t):t(r))}function mc(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ci(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function go(e,t,r){let o=ha(e,t);return o>=0?e[1|o]=r:(o=~o,function Zl(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function wu(e,t){const r=ha(e,t);if(r>=0)return e[1|r]}function ha(e,t){return function Du(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),p=e[l<<r];if(t===p)return l<<r;p>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const bs={},Fn=[],Bo=new Nn(""),qc=new Nn("",-1),Xu=new Nn("");class ls{get(t,r=tn){if(r===tn){const o=new Error(`NullInjectorError: No provider for ${ai(t)}!`);throw o.name="NullInjectorError",o}return r}}function Bi(e,t){const r=e[Sn]||null;if(!r&&!0===t)throw new Error(`Type ${ai(e)} does not have '\u0275mod' property.`);return r}function sr(e){return e[da]||null}function ji(e){return e[_l]||null}function $i(e){return e[Yr]||null}function qi(e){const t=sr(e)||ji(e)||$i(e);return null!==t&&t.standalone}function Rs(e){return{\u0275providers:e}}function Ps(...e){return{\u0275providers:Ya(0,e),\u0275fromNgModule:!0}}function Ya(e,...t){const r=[],o=new Set;let a;const l=p=>{r.push(p)};return Qr(t,p=>{const E=p;So(E,l,[],o)&&(a||=[],a.push(E))}),void 0!==a&&Au(a,l),r}function Au(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];jo(a,l=>{t(l,o)})}}function So(e,t,r,o){if(!(e=An(e)))return!1;let a=null,l=fu(e);const p=!l&&sr(e);if(l||p){if(p&&!p.standalone)return!1;a=e}else{const A=e.ngModule;if(l=fu(A),!l)return!1;a=A}const E=o.has(a);if(p){if(E)return!1;if(o.add(a),p.dependencies){const A="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const L of A)So(L,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!E){let L;o.add(a);try{Qr(l.imports,G=>{So(G,t,r,o)&&(L||=[],L.push(G))})}finally{}void 0!==L&&Au(L,t)}if(!E){const L=ui(a)||(()=>new a);t({provide:a,useFactory:L,deps:Fn},a),t({provide:Xu,useValue:a,multi:!0},a),t({provide:Bo,useValue:()=>qr(a),multi:!0},a)}const A=l.providers;if(null!=A&&!E){const L=e;jo(A,G=>{t(G,L)})}}}return a!==e&&void 0!==e.providers}function jo(e,t){for(let r of e)_u(r)&&(r=r.\u0275providers),Array.isArray(r)?jo(r,t):t(r)}const Qc=hr({provide:String,useValue:hr});function Yu(e){return null!==e&&"object"==typeof e&&Qc in e}function Ms(e){return"function"==typeof e}const w=new Nn(""),M={},C={};let P;function B(){return void 0===P&&(P=new ls),P}class Z{}class le extends Z{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,bo(t,p=>this.processProvider(p)),this.records.set(qc,$r(void 0,this)),a.has("environment")&&this.records.set(Z,$r(void 0,this));const l=this.records.get(w);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Xu,Fn,b.Self))}destroy(){Qn(this),this._destroyed=!0;const t=Ne(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(t)}}onDestroy(t){return Qn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Qn(this);const r=pi(this),o=$(void 0);try{return t()}finally{pi(r),$(o)}}get(t,r=tn,o=b.Default){if(Qn(this),t.hasOwnProperty(zc))return t[zc](this);o=cs(o);const l=pi(this),p=$(void 0);try{if(!(o&b.SkipSelf)){let A=this.records.get(t);if(void 0===A){const L=function Ra(e){return"function"==typeof e||"object"==typeof e&&e instanceof Nn}(t)&&Ao(t);A=L&&this.injectableDefInScope(L)?$r(ct(t),M):null,this.records.set(t,A)}if(null!=A)return this.hydrate(t,A)}return(o&b.Self?B():this.parent).get(t,r=o&b.Optional&&r===tn?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[Lr]=E[Lr]||[]).unshift(ai(t)),l)throw E;return function Iu(e,t,r,o){const a=e[Lr];throw t[br]&&a.unshift(t[br]),e.message=function Ss(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=ai(t);if(Array.isArray(t))a=t.map(ai).join(" -> ");else if("object"==typeof t){let l=[];for(let p in t)if(t.hasOwnProperty(p)){let E=t[p];l.push(p+":"+("string"==typeof E?JSON.stringify(E):ai(E)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(fr,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Lr]=null,e}(E,t,"R3InjectorError",this.source)}throw E}finally{$(p),pi(l)}}resolveInjectorInitializers(){const t=Ne(null),r=pi(this),o=$(void 0);try{const l=this.get(Bo,Fn,b.Self);for(const p of l)p()}finally{pi(r),$(o),Ne(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(ai(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Ms(t=An(t))?t:An(t&&t.provide);const o=function ln(e){return Yu(e)?$r(void 0,e.useValue):$r(Vn(e),M)}(t);if(!Ms(t)&&!0===t.multi){let a=this.records.get(r);a||(a=$r(void 0,M,!0),a.factory=()=>Sa(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=Ne(null);try{return r.value===M&&(r.value=C,r.value=r.factory()),"object"==typeof r.value&&r.value&&function so(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ne(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=An(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ct(e){const t=Ao(e),r=null!==t?t.factory:ui(e);if(null!==r)return r;if(e instanceof Nn)throw new on(204,!1);if(e instanceof Function)return function $e(e){if(e.length>0)throw new on(204,!1);const r=function qn(e){return e&&(e[ss]||e[pu])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new on(204,!1)}function Vn(e,t,r){let o;if(Ms(e)){const a=An(e);return ui(a)||ct(a)}if(Yu(e))o=()=>An(e.useValue);else if(function ba(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Sa(e.deps||[]));else if(function Xc(e){return!(!e||!e.useExisting)}(e))o=()=>qr(An(e.useExisting));else{const a=An(e&&(e.useClass||e.provide));if(!function eo(e){return!!e.deps}(e))return ui(a)||ct(a);o=()=>new a(...Sa(e.deps))}return o}function Qn(e){if(e.destroyed)throw new on(205,!1)}function $r(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function bo(e,t){for(const r of e)Array.isArray(r)?bo(r,t):r&&_u(r)?bo(r.\u0275providers,t):t(r)}function ga(e,t){e instanceof le&&Qn(e);const o=pi(e),a=$(void 0);try{return t()}finally{pi(o),$(a)}}function Za(){return void 0!==k()||null!=function Xs(){return ei}()}function ao(e){if(!Za())throw new on(-203,!1)}const Fr=0,Yt=1,Gn=2,li=3,wi=4,gi=5,uo=6,Os=7,ar=8,Pi=9,$o=10,jn=11,ma=12,Js=13,ea=14,mi=15,ds=16,Ic=17,hs=18,eu=19,Cu=20,tu=21,ec=22,tc=23,fs=24,wn=25,Nd=1,Ho=6,ta=7,Su=9,di=10;function yi(e){return Array.isArray(e)&&"object"==typeof e[Nd]}function _i(e){return Array.isArray(e)&&!0===e[Nd]}function mo(e){return!!(4&e.flags)}function zo(e){return e.componentOffset>-1}function nu(e){return!(1&~e.flags)}function ps(e){return!!e.template}function na(e){return!!(512&e[Gn])}function bu(e){return!(256&~e[Gn])}class Ph{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Sc(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const tl=(()=>{const e=()=>od;return e.ngInherit=!0,e})();function od(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vd),Fd}function Fd(){const e=Ud(this),t=e?.current;if(t){const r=e.previous;if(r===bs)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Vd(e,t,r,o,a){const l=this.declaredInputs[o],p=Ud(e)||function Ru(e,t){return e[nl]=t}(e,{previous:bs,current:null}),E=p.current||(p.current={}),A=p.previous,L=A[l];E[l]=new Ph(L&&L.currentValue,r,A===bs),Sc(e,t,a,r)}const nl="__ngSimpleChanges__";function Ud(e){return e[nl]||null}const Ro=function(e,t,r){},Il="svg";function Hr(e){for(;Array.isArray(e);)e=e[Fr];return e}function Mu(e,t){return Hr(t[e])}function Po(e,t){return Hr(t[e.index])}function ru(e,t){return e.data[t]}function Nu(e,t){return e[t]}function D(e,t){const r=t[e];return yi(r)?r:r[Fr]}function y(e){return!(128&~e[Gn])}function O(e,t){return null==t?null:e[t]}function K(e){e[Ic]=0}function ne(e){1024&e[Gn]||(e[Gn]|=1024,y(e)&&g(e))}function _(e){return!!(9216&e[Gn]||e[fs]?.dirty)}function d(e){e[$o].changeDetectionScheduler?.notify(9),64&e[Gn]&&(e[Gn]|=1024),_(e)&&g(e)}function g(e){e[$o].changeDetectionScheduler?.notify(0);let t=Q(e);for(;null!==t&&!(8192&t[Gn])&&(t[Gn]|=8192,y(t));)t=Q(t)}function T(e,t){if(bu(e))throw new on(911,!1);null===e[tu]&&(e[tu]=[]),e[tu].push(t)}function Q(e){const t=e[li];return _i(t)?t[li]:t}function ae(e){return e[Os]??=[]}function be(e){return e.cleanup??=[]}const ot={lFrame:Uf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let bn=!1;function ks(){return ot.bindingsEnabled}function Mo(){return null!==ot.skipHydrationRootTNode}function Fe(){return ot.lFrame.lView}function Qt(){return ot.lFrame.tView}function Zn(e){return ot.lFrame.contextLView=e,e[ar]}function Vr(e){return ot.lFrame.contextLView=null,e}function Rn(){let e=Pa();for(;null!==e&&64===e.type;)e=e.parent;return e}function Pa(){return ot.lFrame.currentTNode}function yo(e,t){const r=ot.lFrame;r.currentTNode=e,r.isParent=t}function Ni(){return ot.lFrame.isParent}function wl(){ot.lFrame.isParent=!1}function Pc(){return bn}function Mc(e){const t=bn;return bn=e,t}function ra(){const e=ot.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xu(){return ot.lFrame.bindingIndex++}function il(e){const t=ot.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function $v(e,t){const r=ot.lFrame;r.bindingIndex=r.bindingRootIndex=e,_g(t)}function _g(e){ot.lFrame.currentDirectiveIndex=e}function vg(){return ot.lFrame.currentQueryIndex}function jd(e){ot.lFrame.currentQueryIndex=e}function Hv(e){const t=e[Yt];return 2===t.type?t.declTNode:1===t.type?e[gi]:null}function Lf(e,t,r){if(r&b.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&b.Host||(a=Hv(l),null===a||(l=l[ea],10&a.type))););if(null===a)return!1;t=a,e=l}const o=ot.lFrame=Vf();return o.currentTNode=t,o.lView=e,!0}function Ff(e){const t=Vf(),r=e[Yt];ot.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Vf(){const e=ot.lFrame,t=null===e?null:e.child;return null===t?Uf(e):t}function Uf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Bf(){const e=ot.lFrame;return ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ad=Bf;function Nc(){const e=Bf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _o(){return ot.lFrame.selectedIndex}function ku(e){ot.lFrame.selectedIndex=e}function vi(){const e=ot.lFrame;return ru(e.tView,e.selectedIndex)}function ud(){ot.lFrame.currentNamespace=Il}function Ry(){!function Py(){ot.lFrame.currentNamespace=null}()}function jf(){return ot.lFrame.currentNamespace}let $f=!0;function cd(){return $f}function Lu(e){$f=e}function Hf(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:E,ngAfterViewInit:A,ngAfterViewChecked:L,ngOnDestroy:G}=l;p&&(e.contentHooks??=[]).push(-r,p),E&&((e.contentHooks??=[]).push(r,E),(e.contentCheckHooks??=[]).push(r,E)),A&&(e.viewHooks??=[]).push(-r,A),L&&((e.viewHooks??=[]).push(r,L),(e.viewCheckHooks??=[]).push(r,L)),null!=G&&(e.destroyHooks??=[]).push(r,G)}}function $d(e,t,r){Wf(e,t,3,r)}function Hd(e,t,r,o){(3&e[Gn])===r&&Wf(e,t,r,o)}function zf(e,t){let r=e[Gn];(3&r)===t&&(r&=16383,r+=1,e[Gn]=r)}function Wf(e,t,r,o){const l=o??-1,p=t.length-1;let E=0;for(let A=void 0!==o?65535&e[Ic]:0;A<p;A++)if("number"==typeof t[A+1]){if(E=t[A],null!=o&&E>=o)break}else t[A]<0&&(e[Ic]+=65536),(E<l||-1==l)&&(Ny(e,r,t,A),e[Ic]=(4294901760&e[Ic])+A+2),A++}function My(e,t){Ro(4,e,t);const r=Ne(null);try{t.call(e)}finally{Ne(r),Ro(5,e,t)}}function Ny(e,t,r,o){const a=r[o]<0,l=r[o+1],E=e[a?-r[o]:r[o]];a?e[Gn]>>14<e[Ic]>>16&&(3&e[Gn])===t&&(e[Gn]+=16384,My(E,l)):My(E,l)}const zd=-1;class Wd{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function qf(e){return 3===e||4===e||6===e}function Ig(e){return 64===e.charCodeAt(0)}function Al(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||Qf(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function Qf(e,t,r,o,a){let l=0,p=e.length;if(-1===t)p=-1;else for(;l<e.length;){const E=e[l++];if("number"==typeof E){if(E===t){p=-1;break}if(E>t){p=l-1;break}}}for(;l<e.length;){const E=e[l];if("number"==typeof E)break;if(E===r){if(null===o)return void(null!==a&&(e[l+1]=a));if(o===e[l+1])return void(e[l+2]=a)}l++,null!==o&&l++,null!==a&&l++}-1!==p&&(e.splice(p,0,t),l=p+1),e.splice(l++,0,r),null!==o&&e.splice(l++,0,o),null!==a&&e.splice(l++,0,a)}const Nh={};class ld{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=cs(o);const a=this.injector.get(t,Nh,o);return a!==Nh||r===Nh?a:this.parentInjector.get(t,r,o)}}function Oh(e){return e!==zd}function xh(e){return 32767&e}function kh(e,t){let r=function Tg(e){return e>>16}(e),o=t;for(;r>0;)o=o[ea],r--;return o}let Xf=!0;function Gd(e){const t=Xf;return Xf=e,t}const ky=255,Yf=5;let Yv=0;const Fu={};function Kd(e,t){const r=Zf(e,t);if(-1!==r)return r;const o=t[Yt];o.firstCreatePass&&(e.injectorIndex=t.length,Dg(o.data,e),Dg(t,null),Dg(o.blueprint,null));const a=qd(e,t),l=e.injectorIndex;if(Oh(a)){const p=xh(a),E=kh(a,t),A=E[Yt].data;for(let L=0;L<8;L++)t[l+L]=E[p+L]|A[p+L]}return t[l+8]=a,l}function Dg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qd(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=Rg(a),null===o)return zd;if(r++,a=a[ea],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return zd}function Lh(e,t,r){!function Zv(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(qs)&&(o=r[qs]),null==o&&(o=r[qs]=Yv++);const a=o&ky;t.data[e+(a>>Yf)]|=1<<a}(e,t,r)}function Ag(e,t,r){if(r&b.Optional||void 0!==e)return e;Eu()}function Jf(e,t,r,o){if(r&b.Optional&&void 0===o&&(o=null),!(r&(b.Self|b.Host))){const a=e[Pi],l=$(void 0);try{return a?a.get(t,o,r&b.Optional):pe(t,o,r&b.Optional)}finally{$(l)}}return Ag(o,0,r)}function Ly(e,t,r,o=b.Default,a){if(null!==e){if(2048&t[Gn]&&!(o&b.Self)){const p=function bg(e,t,r,o,a){let l=e,p=t;for(;null!==l&&null!==p&&2048&p[Gn]&&!na(p);){const E=ep(l,p,r,o|b.Self,Fu);if(E!==Fu)return E;let A=l.parent;if(!A){const L=p[Cu];if(L){const G=L.get(r,Fu,o);if(G!==Fu)return G}A=Rg(p),p=p[ea]}l=A}return a}(e,t,r,o,Fu);if(p!==Fu)return p}const l=ep(e,t,r,o,Fu);if(l!==Fu)return l}return Jf(t,r,o,a)}function ep(e,t,r,o,a){const l=function Cg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qs)?e[qs]:void 0;return"number"==typeof t?t>=0?t&ky:Jv:t}(r);if("function"==typeof l){if(!Lf(t,e,o))return o&b.Host?Ag(a,0,o):Jf(t,r,o,a);try{let p;if(p=l(o),null!=p||o&b.Optional)return p;Eu()}finally{ad()}}else if("number"==typeof l){let p=null,E=Zf(e,t),A=zd,L=o&b.Host?t[mi][gi]:null;for((-1===E||o&b.SkipSelf)&&(A=-1===E?qd(e,t):t[E+8],A!==zd&&Vy(o,!1)?(p=t[Yt],E=xh(A),t=kh(A,t)):E=-1);-1!==E;){const G=t[Yt];if(Fy(l,E,G.data)){const ee=ol(E,t,r,p,o,L);if(ee!==Fu)return ee}A=t[E+8],A!==zd&&Vy(o,t[Yt].data[E+8]===L)&&Fy(l,E,t)?(p=G,E=xh(A),t=kh(A,t)):E=-1}}return a}function ol(e,t,r,o,a,l){const p=t[Yt],E=p.data[e+8],G=Xd(E,p,r,null==o?zo(E)&&Xf:o!=p&&!!(3&E.type),a&b.Host&&l===E);return null!==G?Fh(t,p,G,E):Fu}function Xd(e,t,r,o,a){const l=e.providerIndexes,p=t.data,E=1048575&l,A=e.directiveStart,G=l>>20,me=a?E+G:e.directiveEnd;for(let De=o?E:E+G;De<me;De++){const ze=p[De];if(De<A&&r===ze||De>=A&&ze.type===r)return De}if(a){const De=p[A];if(De&&ps(De)&&De.type===r)return A}return null}function Fh(e,t,r,o){let a=e[r];const l=t.data;if(function Oy(e){return e instanceof Wd}(a)){const p=a;p.resolving&&function Co(e,t){throw t&&t.join(" > "),new on(-200,e)}(function jr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wn(e)}(l[r]));const E=Gd(p.canSeeViewProviders);p.resolving=!0;const L=p.injectImpl?$(p.injectImpl):null;Lf(e,o,b.Default);try{a=e[r]=p.factory(void 0,l,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Wv(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const p=od(t);(r.preOrderHooks??=[]).push(e,p),(r.preOrderCheckHooks??=[]).push(e,p)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,l[r],t)}finally{null!==L&&$(L),Gd(E),p.resolving=!1,ad()}}return a}function Fy(e,t,r){return!!(r[t+(e>>Yf)]&1<<e)}function Vy(e,t){return!(e&b.Self||e&b.Host&&t)}class no{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Ly(this._tNode,this._lView,t,cs(o),r)}}function Jv(){return new no(Rn(),Fe())}function tp(e){return ws(()=>{const t=e.prototype.constructor,r=t[us]||Sg(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[us]||Sg(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Sg(e){return ho(e)?()=>{const t=Sg(An(e));return t&&t()}:ui(e)}function Rg(e){const t=e[Yt],r=t.type;return 2===r?t.declTNode:1===r?e[gi]:null}function Yd(e){return function Qd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(qf(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}(Rn(),e)}function xg(e,t=null,r=null,o){const a=Uh(e,t,r,o);return a.resolveInjectorInitializers(),a}function Uh(e,t=null,r=null,o,a=new Set){const l=[r||Fn,Ps(e)];return o=o||("object"==typeof e?void 0:ai(e)),new le(l,t||B(),o||null,a)}class es{static THROW_IF_NOT_FOUND=tn;static NULL=new ls;static create(t,r){if(Array.isArray(t))return xg({name:""},r,t,"");{const o=t.name??"";return xg({name:o},t.parent,t.providers,o)}}static \u0275prov=Sr({token:es,providedIn:"any",factory:()=>qr(qc)});static __NG_ELEMENT_ID__=-1}new Nn("").__NG_ELEMENT_ID__=e=>{const t=Rn();if(null===t)throw new on(204,!1);if(2&t.type)return t.value;if(e&b.Optional)return null;throw new on(204,!1)};const op=!1;let rc=(()=>class e{static __NG_ELEMENT_ID__=Lg;static __NG_ENV_ID__=r=>r})();class kg extends rc{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return T(this._lView,t),()=>function F(e,t){if(null===e[tu])return;const r=e[tu].indexOf(t);-1!==r&&e[tu].splice(r,1)}(this._lView,t)}}function Lg(){return new kg(Fe())}class ic{}const Cl=new Nn("",{providedIn:"root",factory:()=>!1}),sp=new Nn(""),ap=new Nn("");let Na=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new It.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vg=(()=>{class e{internalPendingTasks=hn(Na);scheduler=hn(ic);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,I.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e})}return e})();const xc=class Ug extends yn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Za()&&(this.destroyRef=hn(rc,{optional:!0})??void 0,this.pendingTasks=hn(Na,{optional:!0})??void 0)}emit(t){const r=Ne(null);try{super.next(t)}finally{Ne(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),p=o;if(t&&"object"==typeof t){const A=t;a=A.next?.bind(A),l=A.error?.bind(A),p=A.complete?.bind(A)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),p&&(p=this.wrapInTimeout(p)));const E=super.subscribe({next:a,error:l,complete:p});return t instanceof _n.yU&&t.add(E),E}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{t(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function kc(...e){}function up(e){let t,r;function o(){e=kc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function zy(e){return queueMicrotask(()=>e()),()=>{e=kc}}const Bg="isAngularZone",Bh=Bg+"_ID";let tE=0;class zi{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new xc(!1);onMicrotaskEmpty=new xc(!1);onStable=new xc(!1);onError=new xc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=op}=t;if(typeof Zone>"u")throw new on(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!a&&o,p.shouldCoalesceRunChangeDetection=a,p.callbackScheduled=!1,p.scheduleInRootZone=l,function iE(e){const t=()=>{!function rE(e){function t(){up(()=>{e.callbackScheduled=!1,$g(e),e.isCheckStableRunning=!0,jg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),$g(e))}(e)},r=tE++;e._inner=e._inner.fork({name:"angular",properties:{[Bg]:!0,[Bh]:r,[Bh+r]:!0},onInvokeTask:(o,a,l,p,E,A)=>{if(function Ky(e){return qy(e,"__ignore_ng_zone__")}(A))return o.invokeTask(l,p,E,A);try{return Wy(e),o.invokeTask(l,p,E,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||e.shouldCoalesceRunChangeDetection)&&t(),Gy(e)}},onInvoke:(o,a,l,p,E,A,L)=>{try{return Wy(e),o.invoke(l,p,E,A,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Hg(e){return qy(e,"__scheduler_tick__")}(A)&&t(),Gy(e)}},onHasTask:(o,a,l,p)=>{o.hasTask(l,p),a===l&&("microTask"==p.change?(e._hasPendingMicrotasks=p.microTask,$g(e),jg(e)):"macroTask"==p.change&&(e.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,l,p)=>(o.handleError(l,p),e.runOutsideAngular(()=>e.onError.emit(p)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Bg)}static assertInAngularZone(){if(!zi.isInAngularZone())throw new on(909,!1)}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new on(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+a,t,nE,kc,kc);try{return l.runTask(p,r,o)}finally{l.cancelTask(p)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const nE={};function jg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $g(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Wy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gy(e){e._nesting--,jg(e)}class cp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new xc;onMicrotaskEmpty=new xc;onStable=new xc;onError=new xc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function qy(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Lc{_console=console;handleError(t){this._console.error("ERROR",t)}}const lp=new Nn("",{providedIn:"root",factory:()=>{const e=hn(zi),t=hn(Lc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Jd(e,t){return Ta(e,t)}const Vs=(Jd.required=function aE(e){return Ta(Zi,e)},Jd);function No(){return ya(Rn(),Fe())}function ya(e,t){return new jh(Po(e,t))}let jh=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=No})();function uE(e){return e instanceof jh?e.nativeElement:e}const zg=new Set;function gs(e){zg.has(e)||(zg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gg(e,t){gs("NgSignals");const r=function Ie(e){const t=Object.create(Oe);t.value=e;const r=()=>(He(t),t.value);return r[Ue]=t,r}(e),o=r[Ue];return t?.equal&&(o.equal=t.equal),r.set=a=>et(o,a),r.update=a=>function yt(e,t){mn()||ft(),et(e,t(e.value))}(o,a),r.asReadonly=Kg.bind(r),r}function Kg(){const e=this[Ue];if(void 0===e.readonlyFn){const t=()=>this();t[Ue]=e,e.readonlyFn=t}return e.readonlyFn}function Di(e){return function Wg(e){return"function"==typeof e&&void 0!==e[Ue]}(e)&&"function"==typeof e.set}function cw(){return this._results[Symbol.iterator]()}class lE{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new yn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function oo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Qu(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cw}const Oi="ngSkipHydration",Yy="ngskiphydration";function Zy(e){const t=e.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const o=t[r];if("number"==typeof o)return!1;if("string"==typeof o&&o.toLowerCase()===Yy)return!0}return!1}function dE(e){return e.hasAttribute(Oi)}function hd(e){return!(128&~e.flags)}var qg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qg||{});const Qg=new Map;let lw=0;function fd(e){Qg.delete(e[eu])}const th="__ngContext__";function _a(e,t){yi(t)?(e[th]=t[eu],function hw(e){Qg.set(e[eu],e)}(t)):e[th]=t}function pp(e){return bl(e[ma])}function tm(e){return bl(e[wi])}function bl(e){for(;null!==e&&!_i(e);)e=e[wi];return e}let Rl;function pw(e){Rl=e}function sl(){if(void 0!==Rl)return Rl;if(typeof document<"u")return document;throw new on(210,!1)}const Pl=new Nn("",{providedIn:"root",factory:()=>gw}),gw="ng",ih=new Nn(""),i_=new Nn("",{providedIn:"platform",factory:()=>"unknown"}),_p=new Nn(""),mw=new Nn("",{providedIn:"root",factory:()=>sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function _w(e){return e}function vw(){const e=new al;return"browser"===hn(i_)&&(e.store=function o_(e,t){const r=e.getElementById(t+"-state");if(r?.textContent)try{return JSON.parse(r.textContent)}catch(o){console.warn("Exception while restoring TransferState for app "+t,o)}return{}}(sl(),hn(Pl))),e}let al=(()=>{class e{static \u0275prov=Sr({token:e,providedIn:"root",factory:vw});store={};onSerializeCallbacks={};get(r,o){return void 0!==this.store[r]?this.store[r]:o}set(r,o){this.store[r]=o}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(r,o){this.onSerializeCallbacks[r]=o}toJson(){for(const r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(o){console.warn("Exception in onSerialize callback: ",o)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const Ep="h",Ip="b",Tp="f",sm="n",yd="e",am="t",wp="c",um="x",Ml="r",s_="i",cm="n",oc="d",oh="di",iu=new Nn(""),_E=new Nn("",{providedIn:"root",factory:()=>!1}),c_=new Nn(""),EE=!1,IE=new Nn(""),lm=new Nn("",{providedIn:"root",factory:()=>new Map});var dm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(dm||{});const sh=new Nn("");var Kh=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Kh||{});let _d=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e})}return e})();const Dp=[Kh.EarlyRead,Kh.Write,Kh.MixedReadWrite,Kh.Read];let TE=(()=>{class e{ngZone=hn(zi);scheduler=hn(ic);errorHandler=hn(Lc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){hn(sh,{optional:!0})}execute(){this.executing=!0;for(const r of Dp)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>o.hooks[r](o.pipelinedValue),o.snapshot))}catch(a){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(r){this.executing?this.deferredRegistrations.add(r):(this.sequences.add(r),this.scheduler.notify(7))}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(dm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e})}return e})();class l_{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l=null){this.impl=t,this.hooks=r,this.once=o,this.snapshot=l,this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function qh(e,t){!t?.injector&&ao();const r=t?.injector??hn(es);return gs("NgAfterNextRender"),function d_(e,t,r,o){const a=t.get(_d);a.impl??=t.get(TE);const l=t.get(sh,null,{optional:!0}),p=r?.phase??Kh.MixedReadWrite,E=!0!==r?.manualCleanup?t.get(rc):null,A=new l_(a.impl,function DE(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,p),o,E,l?.snapshot(null));return a.impl.register(A),A}(e,r,t,!0)}var Wo=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(Wo||{}),xi=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(xi||{}),SE=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(SE||{});function fm(e,t){const r=function RE(e){let t=4;return 1===e?t=5:2===e&&(t=9),t}(e),o=t[r];if(null!==o){for(const a of o)a();t[r]=null}}function ch(e){return e+1}function Oa(e,t){return e[ch(t.index)]}function Us(e,t){const r=ch(t.index);return e.data[r]}function Sp(e,t){return t===xi.Placeholder?e.placeholderBlockConfig?.[0]??null:t===xi.Loading?e.loadingBlockConfig?.[0]??null:null}function PE(e,t){if(!e||0===e.length)return t;const r=new Set(e);for(const o of t)r.add(o);return e.length===r.size?e:Array.from(r)}const Kt="ngb",kn=(e,t,r)=>{const o=e,a=o.__jsaction_fns??new Map,l=a.get(t)??[];l.push(r),a.set(t,l),o.__jsaction_fns=a},pr=(e,t)=>{let r=e.getAttribute(Kt)??"";const o=e,a=t.get(r)??new Set;a.has(o)||a.add(o),t.set(r,a)},Cr=e=>{e.removeAttribute("jsaction"),e.removeAttribute(Kt),e.__jsaction_fns=void 0},qe=new Nn("",{providedIn:"root",factory:()=>({})});function Ce(e,t){const r=t?.__jsaction_fns?.get(e.type);if(r)for(const o of r)o(e)}const xe=new Nn(""),mt="__nghData__",cl="ngh",ME="nghm";let lh=()=>null;function Zh(e,t,r=!1){let o=e.getAttribute(cl);if(null==o)return null;const[a,l]=o.split("|");if(o=r?l:a,!o)return null;const E=r?a:l?`|${l}`:"";let A={};if(""!==o){const G=t.get(al,null,{optional:!0});null!==G&&(A=G.get(mt,[])[Number(o)])}const L={data:A,firstChild:e.firstChild??null};return r&&(L.firstChild=e,hh(L,0,e.nextSibling)),E?e.setAttribute(cl,E):e.removeAttribute(cl),L}function mm(e,t,r=!1){return lh(e,t,r)}function h_(e){let t=e._lView;return 2===t[Yt].type?null:(na(t)&&(t=t[wn]),t)}function hh(e,t,r){e.segmentHeads??={},e.segmentHeads[t]=r}function tf(e,t){return e.segmentHeads?.[t]??null}function Em(e,t){return e.data[wp]?.[t]??null}function nf(e,t){const r=Em(e,t)??[];let o=0;for(let a of r)o+=a[Ml]*(a[um]??1);return o}function Id(e,t){if(typeof e.disconnectedNodes>"u"){const r=e.data[oc];e.disconnectedNodes=r?new Set(r):null}return!!function Im(e){if(typeof e.disconnectedNodes>"u"){const t=e.data[oc];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}(e)?.has(t)}function __(e,t){const r=e.contentQueries;if(null!==r){const o=Ne(null);try{for(let a=0;a<r.length;a+=2){const p=r[a+1];if(-1!==p){const E=e.data[p];jd(r[a]),E.contentQueries(2,t[p],p)}}}finally{Ne(o)}}}function af(e,t,r){jd(0);const o=Ne(null);try{t(e,r)}finally{Ne(o)}}function Np(e,t,r){if(mo(t)){const o=Ne(null);try{const l=t.directiveEnd;for(let p=t.directiveStart;p<l;p++){const E=e.data[p];E.contentQueries&&E.contentQueries(1,r[p],p)}}finally{Ne(o)}}}var Fc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fc||{});let Ll,cf;function Fl(e){return function uf(){if(void 0===Ll&&(Ll=null,Ui.trustedTypes))try{Ll=Ui.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ll}()?.createHTML(e)||e}function wd(){if(void 0===cf&&(cf=null,Ui.trustedTypes))try{cf=Ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cf}function Cm(e){return wd()?.createHTML(e)||e}function Sm(e){return wd()?.createScriptURL(e)||e}class sc{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Or})`}}class lf extends sc{getTypeName(){return"HTML"}}class LE extends sc{getTypeName(){return"Style"}}class FE extends sc{getTypeName(){return"Script"}}class fh extends sc{getTypeName(){return"URL"}}class VE extends sc{getTypeName(){return"ResourceURL"}}function ll(e){return e instanceof sc?e.changingThisBreaksApplicationSecurity:e}function dl(e,t){const r=function E_(e){return e instanceof sc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Or})`)}return r===t}function bm(e){return new lf(e)}function Op(e){return new LE(e)}function Vl(e){return new FE(e)}function I_(e){return new fh(e)}function T_(e){return new VE(e)}class Rm{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Fl(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class w_{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Fl(t),r}}const UE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(e){return(e=String(e)).match(UE)?e:"unsafe:"+e}function Vc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Ad(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const ph=Vc("area,br,col,hr,img,wbr"),Ul=Vc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kp=Vc("rp,rt"),Lp=Ad(ph,Ad(Ul,Vc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(kp,Vc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(kp,Ul)),df=Vc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pm=Ad(df,Vc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HE=Vc("script,style,template");class zE{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=WE(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=S_(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Bl(t).toLowerCase();if(!Lp.hasOwnProperty(r))return this.sanitizedSomething=!0,!HE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const l=o.item(a),p=l.name,E=p.toLowerCase();if(!Pm.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let A=l.value;df[E]&&(A=Dd(A)),this.buf.push(" ",p,'="',Mm(A),'"')}return this.buf.push(">"),!0}endElement(t){const r=Bl(t).toLowerCase();Lp.hasOwnProperty(r)&&!ph.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Mm(t))}}function S_(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Uc(t);return t}function WE(e){const t=e.firstChild;if(t&&function C_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Uc(t);return t}function Bl(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Uc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vp=/([^\#-~ |!])/g;function Mm(e){return e.replace(/&/g,"&amp;").replace(Fp,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Vp,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ai;function hf(e,t){let r=null;try{Ai=Ai||function xp(e){const t=new w_(e);return function D_(){try{return!!(new window.DOMParser).parseFromString(Fl(""),"text/html")}catch{return!1}}()?new Rm(t):t}(e);let o=t?String(t):"";r=Ai.getInertBodyElement(o);let a=5,l=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=l,l=r.innerHTML,r=Ai.getInertBodyElement(o)}while(o!==l);return Fl((new zE).sanitizeChildren(Cd(r)||r))}finally{if(r){const o=Cd(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Cd(e){return"content"in e&&function ff(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Sd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Sd||{});function Nm(e){const t=mf();return t?Cm(t.sanitize(Sd.HTML,e)||""):dl(e,"HTML")?Cm(ll(e)):hf(sl(),Wn(e))}function Om(e){const t=mf();return t?t.sanitize(Sd.URL,e)||"":dl(e,"URL")?ll(e):Dd(Wn(e))}function b_(e){const t=mf();if(t)return Sm(t.sanitize(Sd.RESOURCE_URL,e)||"");if(dl(e,"ResourceURL"))return Sm(ll(e));throw new on(904,!1)}function xm(e,t,r){return function R_(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?b_:Om}(t,r)(e)}function mf(){const e=Fe();return e&&e[$o].sanitizer}const QE=/^>|^->|<!--|-->|--!>|<!-$/g,XE=/(<|>)/g,$l="\u200b$1\u200b";function If(e){return e.ownerDocument}function ou(e){return e instanceof Function?e():e}var fl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fl||{});function F_(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const Hl="ng-template";function V_(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==F_(t[a+1].toLowerCase(),r,0))return!0}else if(Hp(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Hp(e){return 4===e.type&&e.value!==Hl}function U_(e,t,r){return t===(4!==e.type||r?e.value:Hl)}function B_(e,t,r){let o=4;const a=e.attrs,l=null!==a?function mh(e){for(let t=0;t<e.length;t++)if(qf(e[t]))return t;return e.length}(a):0;let p=!1;for(let E=0;E<t.length;E++){const A=t[E];if("number"!=typeof A){if(!p)if(4&o){if(o=2|1&o,""!==A&&!U_(e,A,r)||""===A&&1===t.length){if(xa(o))return!1;p=!0}}else if(8&o){if(null===a||!V_(e,a,A,r)){if(xa(o))return!1;p=!0}}else{const L=t[++E],G=su(A,a,Hp(e),r);if(-1===G){if(xa(o))return!1;p=!0;continue}if(""!==L){let ee;if(ee=G>l?"":a[G+1].toLowerCase(),2&o&&L!==ee){if(xa(o))return!1;p=!0}}}}else{if(!p&&!xa(o)&&!xa(A))return!1;if(p&&xa(A))continue;p=!1,o=A|1&o}}return xa(o)||p}function xa(e){return!(1&e)}function su(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const p=t[a];if(p===e)return a;if(3===p||6===p)l=!0;else{if(1===p||2===p){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=l?1:2}return-1}return function m(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Hm(e,t,r=!1){for(let o=0;o<t.length;o++)if(B_(e,t[o],r))return!0;return!1}function H(e,t){return e?":not("+t.trim()+")":t}function ie(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let p=e[r];if("string"==typeof p)if(2&o){const E=e[++r];a+="["+p+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+p:4&o&&(a+=" "+p);else""!==a&&!xa(p)&&(t+=H(l,a),a=""),o=p,l=l||!xa(o);r++}return""!==a&&(t+=H(l,a)),t}const Ft={};function Ei(e,t){return e.createText(t)}function Zr(e,t){return e.createComment(function P_(e){return e.replace(QE,t=>t.replace(XE,$l))}(t))}function ts(e,t,r){return e.createElement(t,r)}function vo(e,t,r,o,a){e.insertBefore(t,r,o,a)}function bd(e,t,r){e.appendChild(t,r)}function Bu(e,t,r,o,a){null!==o?vo(e,t,r,o,a):bd(e,t,r)}function zl(e,t,r){e.removeChild(null,t,r)}function zp(e){e.textContent=""}function Nw(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function Qv(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],p=r[o++],E=r[o++];e.setAttribute(t,p,E,l)}else{const l=a,p=r[++o];Ig(l)?e.setProperty(t,l,p):e.setAttribute(t,l,p),o++}}}(e,t,o),null!==a&&function vb(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function _b(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Ow(e=1){xw(Qt(),Fe(),_o()+e,!1)}function xw(e,t,r,o){if(!o)if(3&~t[Gn]){const l=e.preOrderHooks;null!==l&&Hd(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&$d(t,l,r)}ku(r)}function Wp(e,t=b.Default){const r=Fe();return null===r?qr(e,t):Ly(Rn(),r,An(e),t)}function kw(){throw new Error("invalid")}function Lw(e,t,r,o,a,l){const p=Ne(null);try{let E=null;a&fl.SignalBased&&(E=t[o][Ue]),null!==E&&void 0!==E.transformFn&&(l=E.transformFn(l)),a&fl.HasDecoratorInputTransform&&(l=e.inputTransforms[o].call(t,l)),null!==e.setInput?e.setInput(t,E,l,r,o):Sc(t,E,o,l)}finally{Ne(p)}}function $_(e,t,r,o,a,l,p,E,A,L,G){const ee=t.blueprint.slice();return ee[Fr]=a,ee[Gn]=1228|o,(null!==L||e&&2048&e[Gn])&&(ee[Gn]|=2048),K(ee),ee[li]=ee[ea]=e,ee[ar]=r,ee[$o]=p||e&&e[$o],ee[jn]=E||e&&e[jn],ee[Pi]=A||e&&e[Pi]||null,ee[gi]=l,ee[eu]=function dw(){return lw++}(),ee[uo]=G,ee[Cu]=L,ee[mi]=2==t.type?e[mi]:ee,ee}function zm(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function Fw(e,t,r,o,a){const l=_o(),p=2&o;try{ku(-1),p&&t.length>wn&&xw(e,t,wn,!1),Ro(p?2:0,a),r(o,a)}finally{ku(l),Ro(p?3:1,a)}}function nI(e,t,r){ks()&&(_a(Po(r,t),t),Vw(e,t,r))}function Vw(e,t,r){(function Mb(e,t,r){const o=r.directiveStart,a=r.directiveEnd;zo(r)&&function Bb(e,t,r){const o=Po(t,e),a=function Uw(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=iI(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[$o].rendererFactory,p=aI(e,$_(e,a,null,function Ww(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=p}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Kd(r,t);const l=r.initialInputs;for(let p=o;p<a;p++){const E=e.data[p],A=Fh(t,e,p,r);_a(A,t),null!==l&&jb(0,p-o,A,E,0,l),ps(E)&&(D(r.index,t)[ar]=Fh(t,e,p,r))}})(e,t,r),!(64&~r.flags)&&function Nb(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,p=function yg(){return ot.lFrame.currentDirectiveIndex}();try{ku(l);for(let E=o;E<a;E++){const A=e.data[E],L=t[E];_g(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Ob(A,L)}}finally{ku(-1),_g(p)}}(e,t,r)}function rI(e,t,r=Po){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const p=o[l+1],E=-1===p?r(t,e):e[p];e[a++]=E}}}function iI(e,t,r,o,a,l,p,E,A,L,G){const ee=wn+o,me=ee+a,De=function Eb(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Ft);return r}(ee,me),ze="function"==typeof L?L():L;return De[Yt]={type:e,blueprint:De,template:r,queries:null,viewQuery:E,declTNode:t,data:De.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:A,consts:ze,incompleteFirstPass:!1,ssrId:G}}let Bw=()=>null;function wb(e){dE(e)?zp(e):function ia(e){const t=sl(),r=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(l){const p=function xl(e){return e.textContent?.replace(/\s/gm,"")}(l);return"ngetn"===p||"ngtns"===p?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let o;const a=[];for(;o=r.nextNode();)a.push(o);for(const l of a)"ngetn"===l.textContent?l.replaceWith(t.createTextNode("")):l.remove()}(e)}function jw(e,t,r,o,a){for(let l in t){if(!t.hasOwnProperty(l))continue;const p=t[l];if(void 0===p)continue;o??={};let E,A=fl.None;Array.isArray(p)?(E=p[0],A=p[1]):E=p;let L=l;if(null!==a){if(!a.hasOwnProperty(l))continue;L=a[l]}0===e?$w(o,r,L,E,A):$w(o,r,L,E)}return o}function $w(e,t,r,o,a){let l;e.hasOwnProperty(r)?(l=e[r]).push(t,o):l=e[r]=[t,o],void 0!==a&&l.push(a)}function ju(e,t,r,o,a,l,p,E){const A=Po(t,r);let G,L=t.inputs;!E&&null!=L&&(G=L[o])?(uI(e,r,G,o,a),zo(t)&&function Sb(e,t){const r=D(t,e);16&r[Gn]||(r[Gn]|=64)}(r,t.index)):3&t.type&&(o=function Cb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=p?p(a,t.value||"",o):a,l.setProperty(A,o,a))}function oI(e,t,r,o){if(ks()){const a=null===o?null:{"":-1},l=function xb(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];Hm(t,l.selectors,!1)&&(o??=[],ps(l)?o.unshift(l):o.push(l))}return o}(e,r);if(null!==l){const[p,E]=zw(e,r,l);Hw(e,t,r,p,a,E)}a&&function Lb(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new on(-301,!1);o.push(t[a],l)}}}(r,o,a)}r.mergedAttrs=Al(r.mergedAttrs,r.attrs)}function Hw(e,t,r,o,a,l){for(let L=0;L<o.length;L++)Lh(Kd(r,t),e,o[L].type);!function Vb(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let L=0;L<o.length;L++){const G=o[L];G.providersResolver&&G.providersResolver(G)}let p=!1,E=!1,A=zm(e,t,o.length,null);for(let L=0;L<o.length;L++){const G=o[L];r.mergedAttrs=Al(r.mergedAttrs,G.hostAttrs),Ub(e,r,t,A,G),Fb(A,G,a),null!==G.contentQueries&&(r.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(r.flags|=64);const ee=G.type.prototype;!p&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),p=!0),!E&&(ee.ngOnChanges||ee.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),E=!0),A++}!function Ab(e,t,r){const a=t.directiveEnd,l=e.data,p=t.attrs,E=[];let A=null,L=null;for(let G=t.directiveStart;G<a;G++){const ee=l[G],me=r?r.get(ee):null,ze=me?me.outputs:null;A=jw(0,ee.inputs,G,A,me?me.inputs:null),L=jw(1,ee.outputs,G,L,ze);const Nt=null===A||null===p||Hp(t)?null:$b(A,G,p);E.push(Nt)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=A,t.outputs=L}(e,r,l)}function Ob(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zw(e,t,r){const o=[];let a=null;for(const l of r)null!==l.findHostDirectiveDefs&&(a??=new Map,l.findHostDirectiveDefs(l,o,a)),ps(l)&&(o.push(l),kb(e,t,o.length-1));return zo(t)?o.push(...r.slice(1)):o.push(...r),[o,a]}function kb(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function Fb(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;ps(t)&&(r[""]=e)}}function Ub(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=ui(a.type)),p=new Wd(l,ps(a),Wp);e.blueprint[o]=p,r[o]=p,function Rb(e,t,r,o,a){const l=a.hostBindings;if(l){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const E=~t.index;(function Pb(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(p)!=E&&p.push(E),p.push(r,o,l)}}(e,t,o,zm(e,r,a.hostVars,Ft),a)}function Wl(e,t,r,o,a,l){const p=Po(e,t);!function sI(e,t,r,o,a,l,p){if(null==l)e.removeAttribute(t,a,r);else{const E=null==p?Wn(l):p(l,o||"",a);e.setAttribute(t,a,E,r)}}(t[jn],p,l,e.value,r,o,a)}function jb(e,t,r,o,a,l){const p=l[t];if(null!==p)for(let E=0;E<p.length;)Lw(o,r,p[E++],p[E++],p[E++],p[E++])}function $b(e,t,r){let o=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===o&&(o=[]);const p=e[l];for(let E=0;E<p.length;E+=3)if(p[E]===t){o.push(l,p[E+1],p[E+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Gw(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function aI(e,t){return e[ma]?e[Js][wi]=t:e[ma]=t,e[Js]=t,t}function H_(e,t){const r=e[Pi],o=r?r.get(Lc,null):null;o&&o.handleError(t)}function uI(e,t,r,o,a){for(let l=0;l<r.length;){const p=r[l++],E=r[l++],A=r[l++];Lw(e.data[p],t[p],o,E,A,a)}}function Hb(e,t){const r=D(t,e),o=r[Yt];!function zb(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Fr];null!==a&&null===r[uo]&&(r[uo]=mm(a,r[Pi])),z_(o,r,r[ar])}function z_(e,t,r){Ff(t);try{const o=e.viewQuery;null!==o&&af(1,o,r);const a=e.template;null!==a&&Fw(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[hs]?.finishViewCreation(e),e.staticContentQueries&&__(e,t),e.staticViewQueries&&af(2,e.viewQuery,r);const l=e.components;null!==l&&function Wb(e,t){for(let r=0;r<t.length;r++)Hb(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Gn]&=-5,Nc()}}var W_=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(W_||{});let cI;function lI(e,t){return cI(e,t)}function yh(e){return!(32&~e.flags)}function Gp(e,t,r,o,a){if(null!=o){let l,p=!1;_i(o)?l=o:yi(o)&&(p=!0,o=o[Fr]);const E=Hr(o);0===e&&null!==r?null==a?bd(t,r,E):vo(t,r,E,a||null,!0):1===e&&null!==r?vo(t,r,E,a||null,!0):2===e?zl(t,E,p):3===e&&t.destroyNode(E),null!=l&&function Jb(e,t,r,o,a){const l=r[ta];l!==Hr(r)&&Gp(t,e,o,l,a);for(let E=di;E<r.length;E++){const A=r[E];K_(A[Yt],A,e,t,o,l)}}(t,e,l,r,a)}}function Qw(e,t){t[$o].changeDetectionScheduler?.notify(10),K_(e,t,t[jn],2,null,null)}function Xw(e,t){const r=e[Su],o=t[li];(yi(o)||t[mi]!==o[li][mi])&&(e[Gn]|=2),null===r?e[Su]=[t]:r.push(t)}function dI(e,t){const r=e[Su],o=r.indexOf(t);r.splice(o,1)}function Wm(e,t){if(e.length<=di)return;const r=di+t,o=e[r];if(o){const a=o[ds];null!==a&&a!==e&&dI(a,o),t>0&&(e[r-1][wi]=o[wi]);const l=ci(e,di+t);!function qw(e,t){Qw(e,t),t[Fr]=null,t[gi]=null}(o[Yt],o);const p=l[hs];null!==p&&p.detachView(l[Yt]),o[li]=null,o[wi]=null,o[Gn]&=-129}return o}function Gm(e,t){if(bu(t))return;const r=t[jn];r.destroyNode&&K_(e,t,r,3,null,null),function qb(e){let t=e[ma];if(!t)return hI(e[Yt],e);for(;t;){let r=null;if(yi(t))r=t[ma];else{const o=t[di];o&&(r=o)}if(!r){for(;t&&!t[wi]&&t!==e;)yi(t)&&hI(t[Yt],t),t=t[li];null===t&&(t=e),yi(t)&&hI(t[Yt],t),r=t&&t[wi]}t=r}}(t)}function hI(e,t){if(bu(t))return;const r=Ne(null);try{t[Gn]&=-129,t[Gn]|=256,t[fs]&&Ye(t[fs]),function Yb(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof Wd)){const l=r[o+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const E=a[l[p]],A=l[p+1];Ro(4,E,A);try{A.call(E)}finally{Ro(5,E,A)}}else{Ro(4,a,l);try{l.call(a)}finally{Ro(5,a,l)}}}}}(e,t),function Xb(e,t){const r=e.cleanup,o=t[Os];if(null!==r)for(let p=0;p<r.length-1;p+=2)if("string"==typeof r[p]){const E=r[p+3];E>=0?o[E]():o[-E].unsubscribe(),p+=2}else r[p].call(o[r[p+1]]);null!==o&&(t[Os]=null);const a=t[tu];if(null!==a){t[tu]=null;for(let p=0;p<a.length;p++)(0,a[p])()}const l=t[tc];if(null!==l){t[tc]=null;for(const p of l)p.destroy()}}(e,t),1===t[Yt].type&&t[jn].destroy();const o=t[ds];if(null!==o&&_i(t[li])){o!==t[li]&&dI(o,t);const a=t[hs];null!==a&&a.detachView(e)}fd(t)}finally{Ne(r)}}function fI(e,t,r){return function Yw(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Fr];if(zo(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Fc.None||a===Fc.Emulated)return null}return Po(o,r)}(e,t.parent,r)}let pI,e0=function Jw(e,t,r){return 40&e.type?Po(e,r):null};function G_(e,t,r,o){const a=fI(e,o,t),l=t[jn],E=function Zw(e,t,r){return e0(e,t,r)}(o.parent||t[gi],o,t);if(null!=a)if(Array.isArray(r))for(let A=0;A<r.length;A++)Bu(l,a,r[A],E,!1);else Bu(l,a,r,E,!1);void 0!==pI&&pI(l,o,t,r,a)}function Tf(e,t){if(null!==t){const r=t.type;if(3&r)return Po(t,e);if(4&r)return gI(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Tf(e,o);{const a=e[t.index];return _i(a)?gI(-1,a):Hr(a)}}if(128&r)return Tf(e,t.next);if(32&r)return lI(t,e)()||Hr(e[t.index]);{const o=n0(e,t);return null!==o?Array.isArray(o)?o[0]:Tf(Q(e[mi]),o):Tf(e,t.next)}}return null}function n0(e,t){return null!==t?e[mi][gi].projection[t.projection]:null}function gI(e,t){const r=di+e+1;if(r<t.length){const o=t[r],a=o[Yt].firstChild;if(null!==a)return Tf(o,a)}return t[ta]}function mI(e,t,r,o,a,l,p){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],A=r.type;if(p&&0===t&&(E&&_a(Hr(E),o),r.flags|=2),!yh(r))if(8&A)mI(e,t,r.child,o,a,l,!1),Gp(t,e,a,E,l);else if(32&A){const L=lI(r,o);let G;for(;G=L();)Gp(t,e,a,G,l);Gp(t,e,a,E,l)}else 16&A?r0(e,t,o,r,a,l):Gp(t,e,a,E,l);r=p?r.projectionNext:r.next}}function K_(e,t,r,o,a,l){mI(r,o,e.firstChild,t,a,l,!1)}function r0(e,t,r,o,a,l){const p=r[mi],A=p[gi].projection[o.projection];if(Array.isArray(A))for(let L=0;L<A.length;L++)Gp(t,e,a,A[L],l);else{let L=A;const G=p[li];hd(o)&&(L.flags|=128),mI(e,t,L,G,a,l,!0)}}function Kp(e,t,r,o){const a=Ne(null);try{const l=t.tView,A=$_(e,l,r,4096&e[Gn]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);A[ds]=e[t.index];const G=e[hs];return null!==G&&(A[hs]=G.createEmbeddedView(l)),z_(l,A,r),A}finally{Ne(a)}}function o0(e,t){const r=di+t;if(r<e.length)return e[r]}function wf(e,t){return!t||null===t.firstChild||hd(e)}function qp(e,t,r,o=!0){const a=t[Yt];if(function Qb(e,t,r,o){const a=di+o,l=r.length;o>0&&(r[a-1][wi]=t),o<l-di?(t[wi]=r[a],mc(r,di+o,t)):(r.push(t),t[wi]=null),t[li]=r;const p=t[ds];null!==p&&r!==p&&Xw(p,t);const E=t[hs];null!==E&&E.insertView(e),d(t),t[Gn]|=128}(a,t,e,r),o){const p=gI(r,e),E=t[jn],A=E.parentNode(e[ta]);null!==A&&function Kb(e,t,r,o,a,l){o[Fr]=a,o[gi]=t,K_(e,o,r,1,a,l)}(a,e[gi],E,t,A,p)}const l=t[uo];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function yI(e,t){const r=Wm(e,t);return void 0!==r&&Gm(r[Yt],r),r}function Qp(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(Hr(l)),_i(l)&&_I(l,o);const p=r.type;if(8&p)Qp(e,t,r.child,o);else if(32&p){const E=lI(r,t);let A;for(;A=E();)o.push(A)}else if(16&p){const E=n0(t,r);if(Array.isArray(E))o.push(...E);else{const A=Q(t[mi]);Qp(A[Yt],A,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function _I(e,t){for(let r=di;r<e.length;r++){const o=e[r],a=o[Yt].firstChild;null!==a&&Qp(o[Yt],o,a,t)}e[ta]!==e[Fr]&&t.push(e[ta])}let s0=[];const iR={...fe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{g(e.lView)},consumerOnSignalRead(){this.lView[fs]=this}},sR={...fe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Q(e.lView);for(;t&&!a0(t[Yt]);)t=Q(t);t&&ne(t)},consumerOnSignalRead(){this.lView[fs]=this}};function a0(e){return 2!==e.type}function u0(e){if(null===e[tc])return;let t=!0;for(;t;){let r=!1;for(const o of e[tc])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[Gn])}}function q_(e,t=!0,r=0){const a=e[$o].rendererFactory;a.begin?.();try{!function uR(e,t){const r=Pc();try{Mc(!0),vI(e,t);let o=0;for(;_(e);){if(100===o)throw new on(103,!1);o++,vI(e,1)}}finally{Mc(r)}}(e,r)}catch(p){throw t&&H_(e,p),p}finally{a.end?.()}}function l0(e,t,r,o){if(bu(t))return;const a=t[Gn];Ff(t);let E=!0,A=null,L=null;a0(e)?(L=function tR(e){return e[fs]??function nR(e){const t=s0.pop()??Object.create(iR);return t.lView=e,t}(e)}(t),A=dn(L)):null===function je(){return ce}()?(E=!1,L=function oR(e){const t=e[fs]??Object.create(sR);return t.lView=e,t}(t),A=dn(L)):t[fs]&&(Ye(t[fs]),t[fs]=null);try{K(t),function kf(e){return ot.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Fw(e,t,r,2,o);const G=!(3&~a);if(G){const De=e.preOrderCheckHooks;null!==De&&$d(t,De,null)}else{const De=e.preOrderHooks;null!==De&&Hd(t,De,0,null),zf(t,0)}if(function cR(e){for(let t=pp(e);null!==t;t=tm(t)){if(!(2&t[Gn]))continue;const r=t[Su];for(let o=0;o<r.length;o++)ne(r[o])}}(t),u0(t),d0(t,0),null!==e.contentQueries&&__(e,t),G){const De=e.contentCheckHooks;null!==De&&$d(t,De)}else{const De=e.contentHooks;null!==De&&Hd(t,De,1),zf(t,1)}!function dR(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)ku(~a);else{const l=a,p=r[++o],E=r[++o];$v(p,l);const A=t[l];Ro(24,A),E(2,A),Ro(25,A)}}}finally{ku(-1)}}(e,t);const ee=e.components;null!==ee&&f0(t,ee,0);const me=e.viewQuery;if(null!==me&&af(2,me,o),G){const De=e.viewCheckHooks;null!==De&&$d(t,De)}else{const De=e.viewHooks;null!==De&&Hd(t,De,2),zf(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ec]){for(const De of t[ec])De();t[ec]=null}t[Gn]&=-73}catch(G){throw g(t),G}finally{null!==L&&(En(L,A),E&&function rR(e){e.lView[fs]!==e&&(e.lView=null,s0.push(e))}(L)),Nc()}}function d0(e,t){for(let r=pp(e);null!==r;r=tm(r))for(let o=di;o<r.length;o++)h0(r[o],t)}function lR(e,t,r){h0(D(t,e),r)}function h0(e,t){y(e)&&vI(e,t)}function vI(e,t){const o=e[Yt],a=e[Gn],l=e[fs];let p=!!(0===t&&16&a);if(p||=!!(64&a&&0===t),p||=!!(1024&a),p||=!(!l?.dirty||!Dt(l)),p||=!1,l&&(l.dirty=!1),e[Gn]&=-9217,p)l0(o,e,o.template,e[ar]);else if(8192&a){u0(e),d0(e,1);const E=o.components;null!==E&&f0(e,E,1)}}function f0(e,t,r){for(let o=0;o<t.length;o++)lR(e,t[o],r)}function Km(e,t){const r=Pc()?64:1088;for(e[$o].changeDetectionScheduler?.notify(t);e;){e[Gn]|=r;const o=Q(e);if(na(e)&&!o)return e;e=o}return null}class qm{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Yt];return Qp(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[ar]}get dirty(){return!!(9280&this._lView[Gn])||!!this._lView[fs]?.dirty}set context(t){this._lView[ar]=t}get destroyed(){return bu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[li];if(_i(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Wm(t,o),ci(r,o))}this._attachedToViewContainer=!1}Gm(this._lView[Yt],this._lView)}onDestroy(t){T(this._lView,t)}markForCheck(){Km(this._cdRefInjectingView||this._lView,4)}markForRefresh(){ne(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){d(this._lView),this._lView[Gn]|=128}detectChanges(){this._lView[Gn]|=1024,q_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new on(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=na(this._lView),r=this._lView[ds];null!==r&&!t&&dI(r,this._lView),Qw(this._lView[Yt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new on(902,!1);this._appRef=t;const r=na(this._lView),o=this._lView[ds];null!==o&&!r&&Xw(o,this._lView),d(this._lView)}}let Qm=(()=>class e{static __NG_ELEMENT_ID__=pR})();const hR=Qm,fR=class extends hR{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=Kp(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new qm(a)}};function pR(){return Q_(Rn(),Fe())}function Q_(e,t){return 4&e.type?new fR(t,e,ya(e,t)):null}function Df(e,t,r,o,a){let l=e.data[t];if(null===l)l=function wI(e,t,r,o,a){const l=Pa(),p=Ni(),A=e.data[t]=function DR(e,t,r,o,a,l){let p=t?t.injectorIndex:-1,E=0;return Mo()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,r,t,o,a);return function wR(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,A,l,p),A}(e,t,r,o,a),function by(){return ot.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const p=function Zo(){const e=ot.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return yo(l,!0),l}const xR=new RegExp(`^(\\d+)*(${Ip}|${Ep})*(.*)`);function AI(e){return e.index-wn}function ty(e,t,r,o){const a=AI(o);let l=function A0(e,t){const r=e.i18nNodes;if(r)return r.get(t)}(e,a);if(void 0===l){const p=e.data[cm];if(p?.[a])l=function C0(e,t){const[r,...o]=function LR(e){const t=e.match(xR),[r,o,a,l]=t,p=o?parseInt(o,10):a,E=[];for(const[A,L,G]of l.matchAll(/(f|n)(\d*)/g)){const ee=parseInt(G,10)||1;E.push(L,ee)}return[p,...E]}(e);let a;a=r===Ep?t[mi][Fr]:r===Ip?function Um(e){return e.ownerDocument.body}(t[mi][Fr]):Hr(t[Number(r)+wn]);return function UR(e,t){let r=e;for(let o=0;o<t.length;o+=2){const a=t[o],l=t[o+1];for(let p=0;p<l;p++)switch(a){case Tp:r=r.firstChild;break;case sm:r=r.nextSibling}}return r}(a,o)}(p[a],r);else if(t.firstChild===o)l=e.firstChild;else{const E=null===o.prev,A=o.prev??o.parent;if(function FR(e){return!e.prev&&8===e.parent?.type}(o))l=tf(e,AI(o.parent));else{let L=Po(A,r);if(E)l=L.firstChild;else{const G=AI(A),ee=tf(e,G);l=2===A.type&&ee?J_(nf(e,G)+1,ee):L.nextSibling}}}}return l}function J_(e,t){let r=t;for(let o=0;o<e;o++)r=r.nextSibling;return r}let b0=!1;function iP(e,t,r){for(const o of r.node.cases[r.case]){const a=t.get(o.index-wn);a&&zl(e,a,!1)}}function N0(e){const t=e[Ho]??[],o=e[li][jn],a=[];for(const l of t)void 0!==l.data[oh]?a.push(l):oP(l,o);e[Ho]=a}function oP(e,t){let r=0,o=e.firstChild;if(o){const a=e.data[Ml];for(;r<a;){const l=o.nextSibling;zl(t,o,!1),o=l,r++}}}function MI(e){N0(e);const t=e[Fr];yi(t)&&ev(t);for(let r=di;r<e.length;r++)ev(e[r])}function ev(e){!function rP(e){const t=e[uo];if(t){const{i18nNodes:r,dehydratedIcuData:o}=t;if(r&&o){const a=e[jn];for(const l of o.values())iP(a,r,l)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}(e);const t=e[Yt];for(let r=wn;r<t.bindingStartIndex;r++)_i(e[r])?MI(e[r]):yi(e[r])&&ev(e[r])}function O0(e){const t=e._views;for(const r of t){const o=h_(r);null!==o&&null!==o[Fr]&&(yi(o)?ev(o):MI(o))}}let x0=()=>null;function uP(e,t){const r=e[Ho];return t&&null!==r&&0!==r.length?r[0].data[s_]===t?r.shift():(N0(e),null):null}function Yp(e,t){return x0(e,t)}class lP{}class k0{}class dP{resolveComponentFactory(t){throw Error(`No component factory found for ${ai(t)}.`)}}class tv{static NULL=new dP}class NI{}let hP=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function fP(){const e=Fe(),r=D(Rn().index,e);return(yi(r)?r:e)[jn]}()})(),pP=(()=>{class e{static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>null})}return e})();function _h(e){return!!Bi(e)}function rv(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let p=0;p<t.length;p++){const E=t[p];"number"==typeof E?l=E:1==l?a=wo(a,E):2==l&&(o=wo(o,E+": "+t[++p]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class V0 extends tv{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=sr(t);return new oy(r,this.ngModule)}}function U0(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const l=Array.isArray(a),p=l?a[0]:a;r.push(t?{propName:p,templateName:o,isSignal:!!((l?a[1]:fl.None)&fl.SignalBased)}:{propName:p,templateName:o})}return r}class oy extends k0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){const t=this.componentDef,r=t.inputTransforms,o=U0(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return U0(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function it(e){return e.map(ie).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){const l=Ne(null);try{let p=(a=a||this.ngModule)instanceof Z?a:a?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const E=p?new ld(t,p):t,A=E.get(NI,null);if(null===A)throw new on(407,!1);const ee={rendererFactory:A,sanitizer:E.get(pP,null),changeDetectionScheduler:E.get(ic,null)},me=A.createRenderer(null,this.componentDef),De=this.componentDef.selectors[0][0]||"div",ze=o?function Ib(e,t,r,o){const l=o.get(_E,!1)||r===Fc.ShadowDom,p=e.selectRootElement(t,l);return function Tb(e){Bw(e)}(p),p}(me,o,this.componentDef.encapsulation,E):ts(me,De,function yP(e){const t=e.toLowerCase();return"svg"===t?Il:"math"===t?"math":null}(De));let Nt=512;this.componentDef.signals?Nt|=4096:this.componentDef.onPush||(Nt|=16);let Zt=null;null!==ze&&(Zt=mm(ze,E,!0));const Xt=iI(0,null,null,1,0,null,null,null,null,null,null),Mt=$_(null,Xt,null,Nt,null,null,ee,me,E,null,Zt);Mt[wn]=ze,Ff(Mt);let Jn=null;try{const Rr=o?["ng-version","19.1.4"]:function Rt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!xa(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),dr=Df(Xt,wn,2,"#host",Rr),[uc,Pd]=zw(Xt,dr,[this.componentDef]);Hw(Xt,Mt,dr,uc,{},Pd);for(const jv of uc)dr.mergedAttrs=Al(dr.mergedAttrs,jv.hostAttrs);dr.mergedAttrs=Al(dr.mergedAttrs,Rr),rv(dr,dr.mergedAttrs,!0),ze&&(Nw(me,ze,dr),_a(ze,Mt)),void 0!==r&&function vP(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(dr,this.ngContentSelectors,r),Vw(Xt,Mt,dr),Np(Xt,dr,Mt),Hf(Xt,dr),Jn=D(dr.index,Mt),Mt[ar]=Jn[ar],z_(Xt,Mt,null)}catch(Rr){throw null!==Jn&&fd(Jn),fd(Mt),Rr}finally{Nc()}return new _P(this.componentType,Mt)}finally{Ne(l)}}}class _P extends lP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=ru(r[Yt],wn),this.location=ya(this._tNode,r),this.instance=D(this._tNode.index,r)[ar],this.hostView=this.changeDetectorRef=new qm(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const l=this._rootLView;uI(l[Yt],l,a,t,r),this.previousInputValues.set(t,r),Km(D(this._tNode.index,l),1)}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let iv=(()=>class e{static __NG_ELEMENT_ID__=EP})();function EP(){return $0(Rn(),Fe())}const IP=iv,B0=class extends IP{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const t=qd(this._hostTNode,this._hostLView);if(Oh(t)){const r=kh(t,this._hostLView),o=xh(t);return new no(r[Yt].data[o+8],r)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=j0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-di}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const p=Yp(this._lContainer,t.ssrId),E=t.createEmbeddedViewImpl(r||{},l,p);return this.insertImpl(E,a,wf(this._hostTNode,p)),E}createComponent(t,r,o,a,l){const p=t&&!function Ns(e){return"function"==typeof e}(t);let E;if(p)E=r;else{const ze=r||{};E=ze.index,o=ze.injector,a=ze.projectableNodes,l=ze.environmentInjector||ze.ngModuleRef}const A=p?t:new oy(sr(t)),L=o||this.parentInjector;if(!l&&null==A.ngModule){const Nt=(p?L:this.parentInjector).get(Z,null);Nt&&(l=Nt)}const G=sr(A.componentType??{}),ee=Yp(this._lContainer,G?.id??null),De=A.create(L,a,ee?.firstChild??null,l);return this.insertImpl(De.hostView,E,wf(this._hostTNode,ee)),De}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function S(e){return _i(e[li])}(a)){const E=this.indexOf(t);if(-1!==E)this.detach(E);else{const A=a[li],L=new B0(A,A[gi],A[li]);L.detach(L.indexOf(t))}}const l=this._adjustIndex(r),p=this._lContainer;return qp(p,a,l,o),t.attachToViewContainerRef(),mc(kI(p),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=j0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Wm(this._lContainer,r);o&&(ci(kI(this._lContainer),r),Gm(o[Yt],o))}detach(t){const r=this._adjustIndex(t,-1),o=Wm(this._lContainer,r);return o&&null!=ci(kI(this._lContainer),r)?new qm(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function j0(e){return e[8]}function kI(e){return e[8]||(e[8]=[])}function $0(e,t){let r;const o=t[e.index];return _i(o)?r=o:(r=Gw(o,t,null,e),t[e.index]=r,aI(t,r)),H0(r,t,e,o),new B0(r,e,t)}let H0=W0,LI=()=>!1;function W0(e,t,r,o){if(e[ta])return;let a;a=8&r.type?Hr(o):function TP(e,t){const r=e[jn],o=r.createComment(""),a=Po(t,e),l=r.parentNode(a);return vo(r,l,o,r.nextSibling(a),!1),o}(t,r),e[ta]=a}function wP(e,t,r){if(e[ta]&&e[Ho])return!0;const o=r[uo],a=t.index-wn;if(!o||function eh(e){if(hd(e))return!0;let t=e.parent;for(;t;){if(hd(e)||Zy(t))return!0;t=t.parent}return!1}(t)||Id(o,a))return!1;const p=tf(o,a),E=o.data[wp]?.[a],[A,L]=function aP(e,t){const r=[];for(const o of t)for(let a=0;a<(o[um]??1);a++){const l={data:o,firstChild:null};o[Ml]>0&&(l.firstChild=e,e=J_(o[Ml],e)),r.push(l)}return[e,r]}(p,E);return e[ta]=A,e[Ho]=L,!0}function DP(e,t,r,o){LI(e,r,t)||W0(e,t,r,o)}class FI{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new FI(this.queryList)}setDirty(){this.queryList.setDirty()}}class VI{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const p=r.getByIndex(l);a.push(this.queries[p.indexInDeclarationView].clone())}return new VI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==HI(t,r).matches&&this.queries[r].setDirty()}}class G0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function PP(e){return e.split(",").map(t=>t.trim())}(t):t}}class UI{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new UI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class BI{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new BI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,CP(r,l)),this.matchTNodeWithReadOption(t,r,Xd(r,t,l,!1,!1))}else o===Qm?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Xd(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===jh||a===iv||a===Qm&&4&r.type)this.addMatch(r.index,-2);else{const l=Xd(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function CP(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function bP(e,t,r,o){return-1===r?function SP(e,t){return 11&e.type?ya(e,t):4&e.type?Q_(e,t):null}(t,e):-2===r?function RP(e,t,r){return r===jh?ya(t,e):r===Qm?Q_(t,e):r===iv?$0(t,e):void 0}(e,t,o):Fh(e,e[Yt],r,t)}function K0(e,t,r,o){const a=t[hs].queries[o];if(null===a.matches){const l=e.data,p=r.matches,E=[];for(let A=0;null!==p&&A<p.length;A+=2){const L=p[A];E.push(L<0?null:bP(t,l[L],p[A+1],r.metadata.read))}a.matches=E}return a.matches}function jI(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const p=K0(e,t,a,r);for(let E=0;E<l.length;E+=2){const A=l[E];if(A>0)o.push(p[E/2]);else{const L=l[E+1],G=t[-A];for(let ee=di;ee<G.length;ee++){const me=G[ee];me[ds]===me[li]&&jI(me[Yt],me,L,o)}if(null!==G[Su]){const ee=G[Su];for(let me=0;me<ee.length;me++){const De=ee[me];jI(De[Yt],De,L,o)}}}}}return o}function X0(e,t,r,o){const a=Qt();if(a.firstCreatePass){const l=Rn();(function Y0(e,t,r){null===e.queries&&(e.queries=new UI),e.queries.track(new BI(t,r))})(a,new G0(t,r,o),l.index),function MP(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function q0(e,t,r){const o=new lE(!(4&~r));return function tt(e,t,r,o){const a=ae(t);a.push(r),e.firstCreatePass&&be(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[hs]??=new VI).queries.push(new FI(o))-1}(a,Fe(),r)}function HI(e,t){return e.queries.getByIndex(t)}function Z0(e,t){const r=e[Yt],o=HI(r,t);return o.crossesNgTemplate?jI(r,e,t,[]):K0(r,e,o,t)}class Cf{}class cD{}function jP(e,t){return new WI(e,t??null,[])}class WI extends Cf{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new V0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=Bi(t);this._bootstrapComponents=ou(l.bootstrap),this._r3Injector=Uh(t,r,[{provide:Cf,useValue:this},{provide:tv,useValue:this.componentFactoryResolver},...o],ai(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class GI extends cD{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new WI(this.moduleType,t,[])}}class lD extends Cf{injector;componentFactoryResolver=new V0(this);instance=null;constructor(t){super();const r=new le([...t.providers,{provide:Cf,useValue:this},{provide:tv,useValue:this.componentFactoryResolver}],t.parent||B(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function KI(e,t,r=null){return new lD({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let HP=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ya(0,r.type),a=o.length>0?KI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Sr({token:e,providedIn:"environment",factory:()=>new e(qr(Z))})}return e})();function dD(e){return ws(()=>{const t=gD(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(HP).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fc.Emulated,styles:e.styles||Fn,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&gs("NgStandalone"),mD(r);const o=e.dependencies;return r.directiveDefs=sv(o,!1),r.pipeDefs=sv(o,!0),r.id=function KP(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function zP(e){return sr(e)||ji(e)}function WP(e){return null!==e}function qI(e){return ws(()=>({type:e.type,bootstrap:e.bootstrap||Fn,declarations:e.declarations||Fn,imports:e.imports||Fn,exports:e.exports||Fn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hD(e,t){if(null==e)return bs;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,p,E=fl.None;Array.isArray(a)?(E=a[0],l=a[1],p=a[2]??l):(l=a,p=a),t?(r[l]=E!==fl.None?[o,E]:o,t[l]=p):r[l]=o}return r}function fD(e){return ws(()=>{const t=gD(e);return mD(t),t})}function pD(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function gD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||bs,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Fn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hD(e.inputs,t),outputs:hD(e.outputs),debugInfo:null}}function mD(e){e.features?.forEach(t=>t(e))}function sv(e,t){if(!e)return null;const r=t?$i:zP;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(WP)}function QI(e){let t=function yD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(ps(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new on(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const p=e;p.inputs=av(e.inputs),p.inputTransforms=av(e.inputTransforms),p.declaredInputs=av(e.declaredInputs),p.outputs=av(e.outputs);const E=a.hostBindings;E&&ZP(e,E);const A=a.viewQuery,L=a.contentQueries;if(A&&XP(e,A),L&&YP(e,L),qP(e,a),os(e.outputs,a.outputs),ps(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let p=0;p<l.length;p++){const E=l[p];E&&E.ngInherit&&E(e),E===QI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function QP(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Al(a.hostAttrs,r=Al(r,a.hostAttrs))}}(o)}function qP(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r],null!==t.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function av(e){return e===bs?{}:e===Fn?[]:e}function XP(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function YP(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function ZP(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function TD(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}function uv(e){return!!YI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function YI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gl(e,t,r){return e[t]=r}function ay(e,t){return e[t]}function Go(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Sf(e,t,r,o){const a=Go(e,t,r);return Go(e,t+1,o)||a}function Bc(e,t,r,o,a,l){const p=Sf(e,t,r,o);return Sf(e,t+2,a,l)||p}function uy(e,t,r,o,a,l,p,E,A,L){const G=r+wn,ee=t.firstCreatePass?function aM(e,t,r,o,a,l,p,E,A){const L=t.consts,G=Df(t,e,4,p||null,E||null);oI(t,r,G,O(L,A)),Hf(t,G);const ee=G.tView=iI(2,G,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L,null);return null!==t.queries&&(t.queries.template(t,G),ee.queries=t.queries.embeddedTView(G)),G}(G,t,e,o,a,l,p,E,A):t.data[G];yo(ee,!1);const me=wD(t,e,ee,r);cd()&&G_(t,e,me,ee),_a(me,e);const De=Gw(me,e,me,ee);return e[G]=De,aI(e,De),function z0(e,t,r){return LI(e,t,r)}(De,ee,e),nu(ee)&&nI(t,e,ee),null!=A&&rI(e,ee,L),ee}function ZI(e,t,r,o,a,l,p,E){const A=Fe(),L=Qt();return uy(A,L,e,t,r,o,a,O(L.consts,l),p,E),ZI}let wD=DD;function DD(e,t,r,o){return Lu(!0),t[jn].createComment("")}function uM(e,t,r,o){const a=t[uo],l=!a||Mo()||yh(r)||Id(a,o);if(Lu(l),l)return DD(0,t);const p=a.data[am]?.[o]??null;null!==p&&null!==r.tView&&null===r.tView.ssrId&&(r.tView.ssrId=p);const E=ty(a,e,t,r);return hh(a,o,E),J_(nf(a,o),E)}let pM=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(r,o,a,l){if(!this.cachedInjectors.has(r)){const p=a.length>0?KI(a,o,l):null;this.cachedInjectors.set(r,p)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Sr({token:e,providedIn:"environment",factory:()=>new e})}return e})();const gM=new Nn("");function JI(e,t,r){return e.get(pM).getOrCreateInjector(t,e,r,"")}function Eh(e,t,r,o=!1){const a=r[li],l=a[Yt];if(bu(a))return;const p=Oa(a,t),A=p[7];if(!(null!==A&&e<A)&&bD(p[1],e)&&bD(p[0]??-1,e)){const L=Us(l,t),ee=o||null===function pm(e){return e.loadingBlockConfig?.[1]??null}(L)&&null===Sp(L,xi.Loading)&&!Sp(L,xi.Placeholder)?CD:eT;try{ee(e,p,r,t,a)}catch(me){H_(a,me)}}}function CD(e,t,r,o,a){const l=function Cw(e,t,r){const a=Us(t[Yt],r);switch(e){case xi.Complete:return a.primaryTmplIndex;case xi.Loading:return a.loadingTmplIndex;case xi.Error:return a.errorTmplIndex;case xi.Placeholder:return a.placeholderTmplIndex;default:return null}}(e,a,o);if(null!==l){t[1]=e;const p=a[Yt],A=ru(p,l+wn),L=0;let G;if(yI(r,L),e===xi.Complete){const De=Us(p,o),ze=De.providers;ze&&ze.length>0&&(G=function mM(e,t,r){if(e instanceof ld){const a=e.injector,p=JI(e.parentInjector,t,r);return new ld(a,p)}const o=e.get(Z);if(o!==e){const a=JI(o,t,r);return new ld(e,a)}return JI(e,t,r)}(a[Pi],De,ze))}const ee=function yM(e,t){return e[Ho]?.find(r=>r.data.s===t[1])??null}(r,t);r[Ho]=null;const me=Kp(a,A,null,{injector:G,dehydratedView:ee});if(qp(r,me,L,wf(A,ee)),Km(me,2),(e===xi.Complete||e===xi.Error)&&Array.isArray(t[8])){for(const De of t[8])De();t[8]=null}}}function bD(e,t){return e<t}function RD(e,t,r){e.loadingPromise.then(()=>{e.loadingState===Wo.COMPLETE?Eh(xi.Complete,t,r):e.loadingState===Wo.FAILED&&Eh(xi.Error,t,r)})}let eT=null,MD=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const kD="ng";function oN(e,t){!function FD(e,t){if(typeof COMPILED>"u"||!COMPILED){const r=Ui;r[kD]??={},r[kD][e]=t}}(e,t)}const VD=new Nn(""),UD=new Nn("");let iT,sN=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(r,o,a){this._ngZone=r,this.registry=o,iT||(function aN(e){iT=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(qr(zi),qr(BD),qr(UD))};static \u0275prov=Sr({token:e,factory:e.\u0275fac})}return e})(),BD=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return iT?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function oT(e){return!!e&&"function"==typeof e.then}function jD(e){return!!e&&"function"==typeof e.subscribe}const sT=new Nn("");let $D=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=hn(sT,{optional:!0})??[];injector=hn(es);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=ga(this.injector,a);if(oT(l))r.push(l);else if(jD(l)){const p=new Promise((E,A)=>{l.subscribe({complete:E,error:A})});r.push(p)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aT=(()=>{class e{static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new HD})}return e})();class HD{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}const ly=new Nn("");let ac=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=hn(lp);afterRenderManager=hn(_d);zonelessEnabled=hn(Cl);rootEffectScheduler=hn(aT);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new yn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=hn(Na).hasPendingTasks.pipe((0,Ia.T)(r=>!r));constructor(){hn(sh,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=hn(Z);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){const a=r instanceof k0;if(!this._injector.get($D).done)throw!a&&qi(r),new on(405,!1);let p;p=a?r:this._injector.get(tv).resolveComponentFactory(r),this.componentTypes.push(p.componentType);const E=function uN(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Cf),L=p.create(es.NULL,[],o||p.selector,E),G=L.location.nativeElement,ee=L.injector.get(VD,null);return ee?.registerApplication(G),L.onDestroy(()=>{this.detachView(L.hostView),fv(this.components,L),ee?.unregisterApplication(G)}),this._loadComponent(L),L}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(null!==this.tracingSnapshot){const o=this.tracingSnapshot;return this.tracingSnapshot=null,o.run(dm.CHANGE_DETECTION,this._tick),void o.dispose()}if(this._runningTick)throw new on(101,!1);const r=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ne(r),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(NI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)dN(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>_(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;fv(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(ly,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new on(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fv(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function dN(e,t,r,o){(r||_(e))&&q_(e,t,r&&!o?0:1)}function bf(e,t,r){const o=t[Yt],a=t[r.index];if(!function QD(e,t){return t[Pi].get(gM,null,{optional:!0})?.behavior!==SE.Manual}(0,t))return;const l=Oa(t,r),p=Us(o,r);switch(function bE(e){fm(1,e),fm(0,e),fm(2,e)}(l),p.loadingState){case Wo.NOT_STARTED:Eh(xi.Loading,r,a),function uT(e,t,r){const o=t[Pi],a=t[Yt];if(e.loadingState!==Wo.NOT_STARTED)return e.loadingPromise??Promise.resolve();const l=Oa(t,r),p=function Sw(e,t){return ru(e,t.primaryTmplIndex+wn)}(a,e);e.loadingState=Wo.IN_PROGRESS,fm(1,l);let E=e.dependencyResolverFn;const A=o.get(Na),L=A.add();return E?(e.loadingPromise=Promise.allSettled(E()).then(G=>{let ee=!1;const me=[],De=[];for(const ze of G){if("fulfilled"!==ze.status){ee=!0;break}{const Nt=ze.value,Zt=sr(Nt)||ji(Nt);if(Zt)me.push(Zt);else{const Xt=$i(Nt);Xt&&De.push(Xt)}}}if(e.loadingPromise=null,A.remove(L),ee){if(e.loadingState=Wo.FAILED,null===e.errorTmplIndex){const Nt=new on(-750,!1);H_(t,Nt)}}else{e.loadingState=Wo.COMPLETE;const ze=p.tView;if(me.length>0){ze.directiveRegistry=PE(ze.directiveRegistry,me);const Zt=Ya(!1,...me.map(Xt=>Xt.type));e.providers=Zt}De.length>0&&(ze.pipeRegistry=PE(ze.pipeRegistry,De))}}),e.loadingPromise):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=Wo.COMPLETE,A.remove(L)}),e.loadingPromise)}(p,t,r),p.loadingState===Wo.IN_PROGRESS&&RD(p,r,a);break;case Wo.IN_PROGRESS:Eh(xi.Loading,r,a),RD(p,r,a);break;case Wo.COMPLETE:Eh(xi.Complete,r,a);break;case Wo.FAILED:Eh(xi.Error,r,a)}}function cT(){return(cT=(0,I.A)(function*(e,t,r){const o=e.get(xe),a=o.hydrating;if(a.has(t))return;const{parentBlockPromise:l,hydrationQueue:p}=function wm(e,t){const r=t.get(xe),a=t.get(al).get("__nghDeferData__",{});let l=!1,p=e,E=null;const A=[];for(;!l&&p;){l=r.has(p);const L=r.hydrating.get(p);if(null===E&&null!=L){E=L.promise;break}A.unshift(p),p=a[p].p}return{parentBlockPromise:E,hydrationQueue:A}}(t,e);!function hN(e,t){for(let r of t)e.hydrating.set(r,Promise.withResolvers())}(o,p);const E=e.get(Na),A=E.add();null!==l&&(yield l);for(const L of p)yield pN(L,o),yield fN(e),a.get(L).resolve();yield a.get(t)?.promise,E.remove(A),r&&r(p),function sP(e,t,r,o){null!==e&&(r.cleanup(t),MI(e.lContainer),O0(o))}(o.get(t),p,o,e.get(ac))})).apply(this,arguments)}function fN(e){return new Promise(t=>qh(t,{injector:e}))}function pN(e,t){return lT.apply(this,arguments)}function lT(){return(lT=(0,I.A)(function*(e,t){const r=t.get(e);if(null===r)return;const{tNode:o,lView:a}=r,l=Oa(a,o);return new Promise(p=>{(function gN(e,t){Array.isArray(e[8])||(e[8]=[]),e[8].push(t)})(l,p),bf(0,a,o)})})).apply(this,arguments)}function dT(e,t,r,o){const a=Fe();return Go(a,xu(),t)&&(Qt(),Wl(vi(),a,e,t,r,o)),dT}function ng(e,t,r,o){return Go(e,xu(),r)?t+Wn(r)+o:Ft}function rg(e,t,r,o,a,l){const E=Sf(e,function Ma(){return ot.lFrame.bindingIndex}(),r,a);return il(2),E?t+Wn(r)+o+Wn(a)+l:Ft}function pv(e,t){return e<<17|t<<2}function wh(e){return e>>17&32767}function hT(e){return 2|e}function Rf(e){return(131068&e)>>2}function fT(e,t){return-131069&e|t<<2}function pT(e){return 1|e}function sA(e,t,r,o){const a=e[r+1],l=null===t;let p=o?wh(a):Rf(a),E=!1;for(;0!==p&&(!1===E||l);){const L=e[p+1];QN(e[p],t)&&(E=!0,e[p+1]=o?pT(L):hT(L)),p=o?wh(L):Rf(L)}E&&(e[r+1]=o?hT(a):pT(a))}function QN(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ha(e,t)>=0}function gT(e,t,r){const o=Fe();return Go(o,xu(),t)&&ju(Qt(),vi(),o,e,t,o[jn],r,!1),gT}function mT(e,t,r,o,a){const p=a?"class":"style";uI(e,r,t.inputs[p],p,o)}function yT(e,t){return function pl(e,t,r,o){const a=Fe(),l=Qt(),p=il(2);l.firstUpdatePass&&function gA(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[_o()],p=function pA(e,t){return t>=e.expandoStartIndex}(e,r);(function vA(e,t){return!!(e.flags&(t?8:16))})(l,o)&&null===t&&!p&&(t=!1),t=function iO(e,t,r,o){const a=function Mh(e){const t=ot.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=hy(r=_T(null,e,t,r,o),t.attrs,o),l=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==a)if(r=_T(a,e,t,r,o),null===l){let A=function oO(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Rf(o))return e[wh(o)]}(e,t,o);void 0!==A&&Array.isArray(A)&&(A=_T(null,e,t,A[1],o),A=hy(A,t.attrs,o),function sO(e,t,r,o){e[wh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,A))}else l=function aO(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=hy(o,e[l].hostAttrs,r);return hy(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function KN(e,t,r,o,a,l){let p=l?t.classBindings:t.styleBindings,E=wh(p),A=Rf(p);e[o]=r;let G,L=!1;if(Array.isArray(r)?(G=r[1],(null===G||ha(r,G)>0)&&(L=!0)):G=r,a)if(0!==A){const me=wh(e[E+1]);e[o+1]=pv(me,E),0!==me&&(e[me+1]=fT(e[me+1],o)),e[E+1]=function WN(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=pv(E,0),0!==E&&(e[E+1]=fT(e[E+1],o)),E=o;else e[o+1]=pv(A,0),0===E?E=o:e[A+1]=fT(e[A+1],o),A=o;L&&(e[o+1]=hT(e[o+1])),sA(e,G,o,!0),sA(e,G,o,!1),function qN(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&ha(l,t)>=0&&(r[o+1]=pT(r[o+1]))}(t,G,e,o,l),p=pv(E,A),l?t.classBindings=p:t.styleBindings=p}(a,l,t,r,p,o)}}(l,e,p,o),t!==Ft&&Go(a,p,t)&&function yA(e,t,r,o,a,l,p,E){if(!(3&t.type))return;const A=e.data,L=A[E+1],G=function GN(e){return!(1&~e)}(L)?_A(A,t,r,a,Rf(L),p):void 0;gv(G)||(gv(l)||function zN(e){return!(2&~e)}(L)&&(l=_A(A,null,r,a,E,p)),function eR(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:W_.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=W_.Important),e.setStyle(r,o,a,l))}}(o,p,Mu(_o(),r),a,l))}(l,l.data[_o()],a,a[jn],e,a[p+1]=function dO(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ai(ll(e)))),e}(t,r),o,p)}(e,t,null,!0),yT}function _T(e,t,r,o,a){let l=null;const p=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<p&&(l=t[E],o=hy(o,l.hostAttrs,a),l!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function hy(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const p=t[l];"number"==typeof p?a=p:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),go(e,p,!!r||t[++l]))}return void 0===e?null:e}function _A(e,t,r,o,a,l){const p=null===t;let E;for(;a>0;){const A=e[a],L=Array.isArray(A),G=L?A[1]:A,ee=null===G;let me=r[a+1];me===Ft&&(me=ee?Fn:void 0);let De=ee?wu(me,o):G===o?me:void 0;if(L&&!gv(De)&&(De=wu(A,o)),gv(De)&&(E=De,p))return E;const ze=e[a+1];a=p?wh(ze):Rf(ze)}if(null!==t){let A=l?t.residualClasses:t.residualStyles;null!=A&&(E=wu(A,o))}return E}function gv(e){return void 0!==e}class TO{destroy(t){}updateValue(t,r){}swap(t,r){const o=Math.min(t,r),a=Math.max(t,r),l=this.detach(a);if(a-o>1){const p=this.detach(o);this.attach(o,l),this.attach(a,p)}else this.attach(o,l)}move(t,r){this.attach(r,this.detach(t))}}function vT(e,t,r,o,a){return e===r&&Object.is(t,o)?1:Object.is(a(e,t),a(r,o))?-1:0}function ET(e,t,r,o){return!(void 0===t||!t.has(o)||(e.attach(r,t.get(o)),t.delete(o),0))}function EA(e,t,r,o,a){if(ET(e,t,o,r(o,a)))e.updateValue(o,a);else{const l=e.create(o,a);e.attach(o,l)}}function IA(e,t,r,o){const a=new Set;for(let l=t;l<=r;l++)a.add(o(l,e.at(l)));return a}class TA{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const r=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(t,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,r){if(this.kvMap.has(t)){let o=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(o);)o=a.get(o);a.set(o,r)}else this.kvMap.set(t,r)}forEach(t){for(let[r,o]of this.kvMap)if(t(o,r),void 0!==this._vMap){const a=this._vMap;for(;a.has(o);)o=a.get(o),t(o,r)}}}function wA(e,t){gs("NgControlFlow");const r=Fe(),o=xu(),a=r[o]!==Ft?r[o]:-1,l=-1!==a?mv(r,wn+a):void 0;if(Go(r,o,e)){const E=Ne(null);try{if(void 0!==l&&yI(l,0),-1!==e){const A=wn+e,L=mv(r,A),G=IT(r[Yt],A),ee=Yp(L,G.tView.ssrId);qp(L,Kp(r,G,t,{dehydratedView:ee}),0,wf(G,ee))}}finally{Ne(E)}}else if(void 0!==l){const E=o0(l,0);void 0!==E&&(E[ar]=t)}}class DO{lContainer;$implicit;$index;constructor(t,r,o){this.lContainer=t,this.$implicit=r,this.$index=o}get $count(){return this.lContainer.length-di}}function DA(e){return e}class CO{hasEmptyBlock;trackByFn;liveCollection;constructor(t,r,o){this.hasEmptyBlock=t,this.trackByFn=r,this.liveCollection=o}}function AA(e,t,r,o,a,l,p,E,A,L,G,ee,me){gs("NgControlFlow");const De=Fe(),ze=Qt(),Nt=void 0!==A,Zt=Fe(),Xt=E?p.bind(Zt[mi][ar]):p,Mt=new CO(Nt,Xt);Zt[wn+e]=Mt,uy(De,ze,e+1,t,r,o,a,O(ze.consts,l)),Nt&&uy(De,ze,e+2,A,L,G,ee,O(ze.consts,me))}class SO extends TO{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,r,o){super(),this.lContainer=t,this.hostLView=r,this.templateTNode=o}get length(){return this.lContainer.length-di}at(t){return this.getLView(t)[ar].$implicit}attach(t,r){const o=r[uo];this.needsIndexUpdate||=t!==this.length,qp(this.lContainer,r,t,wf(this.templateTNode,o))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function bO(e,t){return Wm(e,t)}(this.lContainer,t)}create(t,r){const o=Yp(this.lContainer,this.templateTNode.tView.ssrId),a=Kp(this.hostLView,this.templateTNode,new DO(this.lContainer,r,t),{dehydratedView:o});return this.operationsCounter?.recordCreate(),a}destroy(t){Gm(t[Yt],t),this.operationsCounter?.recordDestroy()}updateValue(t,r){this.getLView(t)[ar].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ar].$index=t}getLView(t){return function RO(e,t){return o0(e,t)}(this.lContainer,t)}}function CA(e){const t=Ne(null),r=_o();try{const o=Fe(),a=o[Yt],l=o[r],p=r+1,E=mv(o,p);if(void 0===l.liveCollection){const L=IT(a,p);l.liveCollection=new SO(E,o,L)}else l.liveCollection.reset();const A=l.liveCollection;if(function wO(e,t,r){let o,a,l=0,p=e.length-1;if(Array.isArray(t)){let A=t.length-1;for(;l<=p&&l<=A;){const L=e.at(l),G=t[l],ee=vT(l,L,l,G,r);if(0!==ee){ee<0&&e.updateValue(l,G),l++;continue}const me=e.at(p),De=t[A],ze=vT(p,me,A,De,r);if(0!==ze){ze<0&&e.updateValue(p,De),p--,A--;continue}const Nt=r(l,L),Zt=r(p,me),Xt=r(l,G);if(Object.is(Xt,Zt)){const Mt=r(A,De);Object.is(Mt,Nt)?(e.swap(l,p),e.updateValue(p,De),A--,p--):e.move(p,l),e.updateValue(l,G),l++}else if(o??=new TA,a??=IA(e,l,p,r),ET(e,o,l,Xt))e.updateValue(l,G),l++,p++;else if(a.has(Xt))o.set(Nt,e.detach(l)),p--;else{const Mt=e.create(l,t[l]);e.attach(l,Mt),l++,p++}}for(;l<=A;)EA(e,o,r,l,t[l]),l++}else if(null!=t){const A=t[Symbol.iterator]();let L=A.next();for(;!L.done&&l<=p;){const G=e.at(l),ee=L.value,me=vT(l,G,l,ee,r);if(0!==me)me<0&&e.updateValue(l,ee),l++,L=A.next();else{o??=new TA,a??=IA(e,l,p,r);const De=r(l,ee);if(ET(e,o,l,De))e.updateValue(l,ee),l++,p++,L=A.next();else if(a.has(De)){const ze=r(l,G);o.set(ze,e.detach(l)),p--}else e.attach(l,e.create(l,ee)),l++,p++,L=A.next()}}for(;!L.done;)EA(e,o,r,e.length,L.value),L=A.next()}for(;l<=p;)e.destroy(e.detach(p--));o?.forEach(A=>{e.destroy(A)})}(A,e,l.trackByFn),A.updateIndexes(),l.hasEmptyBlock){const L=xu(),G=0===A.length;if(Go(o,L,G)){const ee=r+2,me=mv(o,ee);if(G){const De=IT(a,ee),ze=Yp(me,De.tView.ssrId);qp(me,Kp(o,De,void 0,{dehydratedView:ze}),0,wf(De,ze))}else yI(me,0)}}}finally{Ne(t)}}function mv(e,t){return e[t]}function IT(e,t){return ru(e,t)}function yv(e,t,r,o){const a=Fe(),l=Qt(),p=wn+e,E=a[jn],A=l.firstCreatePass?function PO(e,t,r,o,a,l){const p=t.consts,A=Df(t,e,2,o,O(p,a));return oI(t,r,A,O(p,l)),null!==A.attrs&&rv(A,A.attrs,!1),null!==A.mergedAttrs&&rv(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(p,l,a,t,r,o):l.data[p],L=SA(l,a,A,E,t,e);a[p]=L;const G=nu(A);return yo(A,!0),Nw(E,L,A),!yh(A)&&cd()&&G_(l,a,L,A),0===function Mi(){return ot.lFrame.elementDepthCount}()&&_a(L,a),function to(){ot.lFrame.elementDepthCount++}(),G&&(nI(l,a,A),Np(l,A,a)),null!==o&&rI(a,A),yv}function _v(){let e=Rn();Ni()?wl():(e=e.parent,yo(e,!1));const t=e;(function bc(e){return ot.skipHydrationRootTNode===e})(t)&&function Ou(){ot.skipHydrationRootTNode=null}(),function Hi(){ot.lFrame.elementDepthCount--}();const r=Qt();return r.firstCreatePass&&(Hf(r,e),mo(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Kv(e){return!!(8&e.flags)}(t)&&mT(r,t,Fe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qv(e){return!!(16&e.flags)}(t)&&mT(r,t,Fe(),t.stylesWithoutHost,!1),_v}function TT(e,t,r,o){return yv(e,t,r,o),_v(),TT}let SA=(e,t,r,o,a,l)=>(Lu(!0),ts(o,a,jf()));function MO(e,t,r,o,a,l){const p=t[uo],E=!p||Mo()||yh(r)||Id(p,l);if(Lu(E),E)return ts(o,a,jf());const A=ty(p,e,t,r);return Em(p,l)&&hh(p,l,A.nextSibling),p&&(Zy(r)||dE(A))&&zo(r)&&(function Rc(e){ot.skipHydrationRootTNode=e}(r),zp(A)),A}function vv(e,t,r){const o=Fe(),a=Qt(),l=e+wn,p=a.firstCreatePass?function OO(e,t,r,o,a){const l=t.consts,p=O(l,o),E=Df(t,e,8,"ng-container",p);return null!==p&&rv(E,p,!0),oI(t,r,E,O(l,a)),null!==t.queries&&t.queries.elementStart(t,E),E}(l,a,o,t,r):a.data[l];yo(p,!0);const E=RA(a,o,p,e);return o[l]=E,cd()&&G_(a,o,E,p),_a(E,o),nu(p)&&(nI(a,o,p),Np(a,p,o)),null!=r&&rI(o,p),vv}function Ev(){let e=Rn();const t=Qt();return Ni()?wl():(e=e.parent,yo(e,!1)),t.firstCreatePass&&(Hf(t,e),mo(e)&&t.queries.elementEnd(e)),Ev}let RA=(e,t,r,o)=>(Lu(!0),Zr(t[jn],""));function xO(e,t,r,o){let a;const l=t[uo],p=!l||Mo()||Id(l,o)||yh(r);if(Lu(p),p)return Zr(t[jn],"");const E=ty(l,e,t,r),A=function f_(e,t){const r=e.data;let o=r[yd]?.[t]??null;return null===o&&r[wp]?.[t]&&(o=nf(e,t)),o}(l,o);return hh(l,o,E),a=J_(A,E),a}function PA(){return Fe()}const Pf=void 0;var FO=["en",[["a","p"],["AM","PM"],Pf],[["AM","PM"],Pf,Pf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pf,"{1} 'at' {0}",Pf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LO(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let dg={};function wT(e){const t=function VO(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=xA(t);if(r)return r;const o=t.split("-")[0];if(r=xA(o),r)return r;if("en"===o)return FO;throw new on(701,!1)}function OA(e){return wT(e)[hg.PluralCase]}function xA(e){return e in dg||(dg[e]=Ui.ng&&Ui.ng.common&&Ui.ng.common.locales&&Ui.ng.common.locales[e]),dg[e]}var hg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(hg||{});const Iv="en-US";let kA=Iv,JA=(e,t,r)=>{};function eC(e){JA=e}function CT(e,t,r,o){const a=Fe(),l=Qt(),p=Rn();return ST(l,a,a[jn],p,e,t,o),CT}function ST(e,t,r,o,a,l,p){const E=nu(o),L=e.firstCreatePass&&be(e),G=t[ar],ee=ae(t);let me=!0;if(3&o.type||p){const Nt=Po(o,t),Zt=p?p(Nt):Nt,Xt=ee.length,Mt=p?Rr=>p(Hr(Rr[o.index])):o.index;let Jn=null;if(!p&&E&&(Jn=function Cx(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const p=a[l];if(p===r&&a[l+1]===o){const E=t[Os],A=a[l+2];return E.length>A?E[A]:null}"string"==typeof p&&(l+=2)}return null}(e,t,a,o.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=l,Jn.__ngLastListenerFn__=l,me=!1;else{l=rC(o,t,G,l),JA(Nt,a,l);const Rr=r.listen(Zt,a,l);ee.push(l,Rr),L&&L.push(a,Mt,Xt,Xt+1)}}else l=rC(o,t,G,l);const De=o.outputs;let ze;if(me&&null!==De&&(ze=De[a])){const Nt=ze.length;if(Nt)for(let Zt=0;Zt<Nt;Zt+=2){const dr=t[ze[Zt]][ze[Zt+1]].subscribe(l),uc=ee.length;ee.push(l,dr),L&&L.push(a,o.index,uc,-(uc+1))}}}function nC(e,t,r,o){const a=Ne(null);try{return Ro(6,t,r),!1!==r(o)}catch(l){return H_(e,l),!1}finally{Ro(7,t,r),Ne(a)}}function rC(e,t,r,o){return function a(l){if(l===Function)return o;Km(zo(e)?D(e.index,t):t,5);let E=nC(t,r,o,l),A=a.__ngNextListenerFn__;for(;A;)E=nC(t,r,A,l)&&E,A=A.__ngNextListenerFn__;return E}}function iC(e=1){return function Eg(e){return(ot.lFrame.contextLView=function de(e,t){for(;e>0;)t=t[ea],e--;return t}(e,ot.lFrame.contextLView))[ar]}(e)}function bT(e,t,r){return RT(e,"",t,"",r),bT}function RT(e,t,r,o,a){const l=Fe(),p=ng(l,t,r,o);return p!==Ft&&ju(Qt(),vi(),l,e,p,l[jn],a,!1),RT}function fC(e,t,r,o){X0(e,t,r,o)}function pC(e){const t=Fe(),r=Qt(),o=vg();jd(o+1);const a=HI(r,o);if(e.dirty&&function h(e){return!(4&~e[Gn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=Z0(t,o);e.reset(l,uE),e.notifyOnChanges()}return!0}return!1}function gC(){return function $I(e,t){return e[hs].queries[t].queryList}(Fe(),vg())}function mC(e){return Nu(function xf(){return ot.lFrame.contextLView}(),wn+e)}function CC(e,t=""){const r=Fe(),o=Qt(),a=e+wn,l=o.firstCreatePass?Df(o,a,1,t,null):o.data[a],p=SC(o,r,l,t,e);r[a]=p,cd()&&G_(o,r,p,l),yo(l,!1)}let SC=(e,t,r,o,a)=>(Lu(!0),Ei(t[jn],o));function zx(e,t,r,o,a){const l=t[uo],p=!l||Mo()||yh(r)||Id(l,a);return Lu(p),p?Ei(t[jn],o):ty(l,e,t,r)}function MT(e){return Av("",e,""),MT}function Av(e,t,r){const o=Fe(),a=ng(o,e,t,r);return a!==Ft&&Rd(o,_o(),a),Av}function NT(e,t,r,o,a){const l=Fe(),p=rg(l,e,t,r,o,a);return p!==Ft&&Rd(l,_o(),p),NT}function Rd(e,t,r){const o=Mu(t,e);!function ms(e,t,r){e.setValue(t,r)}(e[jn],o,r)}function OT(e,t,r){Di(t)&&(t=t());const o=Fe();return Go(o,xu(),t)&&ju(Qt(),vi(),o,e,t,o[jn],r,!1),OT}function kC(e,t){const r=Di(e);return r&&e.set(t),r}function xT(e,t){const r=Fe(),o=Qt(),a=Rn();return ST(o,r,r[jn],a,e,t),xT}function kT(e,t,r,o,a){if(e=An(e),Array.isArray(e))for(let l=0;l<e.length;l++)kT(e[l],t,r,o,a);else{const l=Qt(),p=Fe(),E=Rn();let A=Ms(e)?e:An(e.provide);const L=Vn(e),G=1048575&E.providerIndexes,ee=E.directiveStart,me=E.providerIndexes>>20;if(Ms(e)||!e.multi){const De=new Wd(L,a,Wp),ze=FT(A,t,a?G:G+me,ee);-1===ze?(Lh(Kd(E,p),l,A),LT(l,e,t.length),t.push(A),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(De),p.push(De)):(r[ze]=De,p[ze]=De)}else{const De=FT(A,t,G+me,ee),ze=FT(A,t,G,G+me),Zt=ze>=0&&r[ze];if(a&&!Zt||!a&&!(De>=0&&r[De])){Lh(Kd(E,p),l,A);const Xt=function Zx(e,t,r,o,a){const l=new Wd(e,r,Wp);return l.multi=[],l.index=t,l.componentProviders=0,VC(l,a,o&&!r),l}(a?Yx:Xx,r.length,a,o,L);!a&&Zt&&(r[ze].providerFactory=Xt),LT(l,e,t.length,0),t.push(A),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(Xt),p.push(Xt)}else LT(l,e,De>-1?De:ze,VC(r[a?ze:De],L,!a&&o));!a&&o&&Zt&&r[ze].componentProviders++}}}function LT(e,t,r,o){const a=Ms(t),l=function pa(e){return!!e.useClass}(t);if(a||l){const A=(l?An(t.useClass):t).prototype.ngOnDestroy;if(A){const L=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=L.indexOf(r);-1===G?L.push(r,[o,A]):L[G+1].push(o,A)}else L.push(r,A)}}}function VC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function FT(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function Xx(e,t,r,o){return VT(this.multi,[])}function Yx(e,t,r,o){const a=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,E=Fh(r,r[Yt],this.providerFactory.index,o);l=E.slice(0,p),VT(a,l);for(let A=p;A<E.length;A++)l.push(E[A])}else l=[],VT(a,l);return l}function VT(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function UC(e,t=[]){return r=>{r.providersResolver=(o,a)=>function Qx(e,t,r){const o=Qt();if(o.firstCreatePass){const a=ps(e);kT(r,o.data,o.blueprint,a,!0),kT(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function jC(e,t,r){const o=ra()+e,a=Fe();return a[o]===Ft?Gl(a,o,r?t.call(r):t()):ay(a,o)}function $C(e,t,r,o){return GC(Fe(),ra(),e,t,r,o)}function HC(e,t,r,o,a){return KC(Fe(),ra(),e,t,r,o,a)}function zC(e,t,r,o,a,l,p){return function QC(e,t,r,o,a,l,p,E,A){const L=t+r;return Bc(e,L,a,l,p,E)?Gl(e,L+4,A?o.call(A,a,l,p,E):o(a,l,p,E)):_y(e,L+4)}(Fe(),ra(),e,t,r,o,a,l,p)}function WC(e,t,r,o,a,l,p,E){const A=ra()+e,L=Fe(),G=Bc(L,A,r,o,a,l);return Go(L,A+4,p)||G?Gl(L,A+5,E?t.call(E,r,o,a,l,p):t(r,o,a,l,p)):ay(L,A+5)}function _y(e,t){const r=e[t];return r===Ft?void 0:r}function GC(e,t,r,o,a,l){const p=t+r;return Go(e,p,a)?Gl(e,p+1,l?o.call(l,a):o(a)):_y(e,p+1)}function KC(e,t,r,o,a,l,p){const E=t+r;return Sf(e,E,a,l)?Gl(e,E+2,p?o.call(p,a,l):o(a,l)):_y(e,E+2)}function YC(e,t){const r=Qt();let o;const a=e+wn;r.firstCreatePass?(o=function ak(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const l=o.factory||(o.factory=ui(o.type)),E=$(Wp);try{const A=Gd(!1),L=l();return Gd(A),function PT(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,Fe(),a,L),L}finally{$(E)}}function ZC(e,t,r){const o=e+wn,a=Fe(),l=Nu(a,o);return vy(a,o)?GC(a,ra(),t,l.transform,r,l):l.transform(r)}function JC(e,t,r,o){const a=e+wn,l=Fe(),p=Nu(l,a);return vy(l,a)?KC(l,ra(),t,p.transform,r,o,p):p.transform(r,o)}function vy(e,t){return e[Yt].data[t].pure}function eS(e,t){return Q_(e,t)}class mS{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const Vk=new mS("19.1.4");class Uk{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Bk=(()=>{class e{compileModuleSync(r){return new GI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=ou(Bi(r).declarations).reduce((p,E)=>{const A=sr(E);return A&&p.push(new oy(A)),p},[]);return new Uk(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hk=(()=>{class e{zone=hn(zi);changeDetectionScheduler=hn(ic);applicationRef=hn(ac);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new zi({...zT(),scheduleInRootZone:r}),[{provide:zi,useFactory:e},{provide:Bo,multi:!0,useFactory:()=>{const o=hn(Hk,{optional:!0});return()=>o.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{const o=hn(Wk);return()=>{o.initialize()}}},!0===t?{provide:sp,useValue:!0}:[],{provide:ap,useValue:r??op}]}function zT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Wk=(()=>{class e{subscription=new _n.yU;initialized=!1;zone=hn(zi);pendingTasks=hn(Na);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{zi.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iy=(()=>{class e{appRef=hn(ac);taskService=hn(Na);ngZone=hn(zi);zonelessEnabled=hn(Cl);tracing=hn(sh,{optional:!0});disableScheduling=hn(sp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _n.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(hn(ap,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 8:this.appRef.deferredDirtyFlags|=8;break;case 6:case 14:this.appRef.dirtyFlags|=2,o=!0;break;case 13:this.appRef.dirtyFlags|=16,o=!0;break;case 12:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?zy:up;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const GT=new Nn("",{providedIn:"root",factory:()=>hn(GT,b.Optional|b.SkipSelf)||function Gk(){return typeof $localize<"u"&&$localize.locale||Iv}()}),Kk=new Nn("",{providedIn:"root",factory:()=>"USD"}),Rv=new Nn(""),Zk=new Nn("");function Ty(e){return!e.moduleRef}let Dh=null;function r1(){return!1}let SS=(()=>class e{static __NG_ELEMENT_ID__=i1})();function i1(e){return function o1(e,t,r){if(zo(e)&&!r){const o=D(e.index,t);return new qm(o,o)}return 175&e.type?new qm(t[mi],t):null}(Rn(),Fe(),!(16&~e))}class MS{constructor(){}supports(t){return uv(t)}create(t){return new l1(t)}}const c1=(e,t)=>t;class l1{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||c1}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const p=!o||r&&r.currentIndex<OS(o,a,l)?r:o,E=OS(p,a,l),A=p.currentIndex;if(p===o)a--,o=o._nextRemoved;else if(r=r._next,null==p.previousIndex)a++;else{l||(l=[]);const L=E-a,G=A-a;if(L!=G){for(let me=0;me<L;me++){const De=me<l.length?l[me]:l[me]=0,ze=De+me;G<=ze&&ze<L&&(l[me]=De+1)}l[p.previousIndex]=G-L}}E!==A&&t(p,E,A)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!uv(t))throw new on(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,p,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)l=t[E],p=this._trackByFn(E,l),null!==r&&Object.is(r.trackById,p)?(o&&(r=this._verifyReinsertion(r,l,p,E)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,p,E),o=!0),r=r._next}else a=0,function oM(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,E=>{p=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,p)?(o&&(r=this._verifyReinsertion(r,E,p,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,p,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new d1(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new NS),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class d1{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class h1{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class NS{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new h1,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OS(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class xS{constructor(){}supports(t){return t instanceof Map||YI(t)}create(){return new f1}}class f1{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||YI(t)))throw new on(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,p=a._next;return l&&(l._next=p),p&&(p._prev=l),a._next=null,a._prev=null,a}const o=new p1(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class p1{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function kS(){return new ZT([new MS])}let ZT=(()=>{class e{factories;static \u0275prov=Sr({token:e,providedIn:"root",factory:kS});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||kS()),deps:[[e,new qu,new gc]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new on(901,!1)}}return e})();function LS(){return new JT([new xS])}let JT=(()=>{class e{static \u0275prov=Sr({token:e,providedIn:"root",factory:LS});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||LS()),deps:[[e,new qu,new gc]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new on(901,!1)}}return e})();function b1(e){try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function n1(e=[]){if(Dh)return Dh;const t=function DS(e=[],t){return es.create({name:t,providers:[{provide:w,useValue:"platform"},{provide:Rv,useValue:new Set([()=>Dh=null])},...e]})}(e);return Dh=t,function zD(){!function Un(e){We=e}(()=>{throw new on(600,!1)})}(),function AS(e){const t=e.get(ih,null);ga(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[HT({}),{provide:ic,useExisting:Iy},...r||[]];return function IS(e){const t=Ty(e)?e.r3Injector:e.moduleRef.injector,r=t.get(zi);return r.run(()=>{Ty(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Lc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),Ty(e)){const l=()=>t.destroy(),p=e.platformInjector.get(Rv);p.add(l),t.onDestroy(()=>{a.unsubscribe(),p.delete(l)})}else{const l=()=>e.moduleRef.destroy(),p=e.platformInjector.get(Rv);p.add(l),e.moduleRef.onDestroy(()=>{fv(e.allPlatformModules,e.moduleRef),a.unsubscribe(),p.delete(l)})}return function lN(e,t,r){try{const o=r();return oT(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get($D);return l.runInitializers(),l.donePromise.then(()=>{if(function $O(e){"string"==typeof e&&(kA=e.toLowerCase().replace(/_/g,"-"))}(t.get(GT,Iv)||Iv),!t.get(Zk,!0))return Ty(e)?t.get(ac):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ty(e)){const A=t.get(ac);return void 0!==e.rootComponent&&A.bootstrap(e.rootComponent),A}return function Jk(e,t){const r=e.injector.get(ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new on(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new lD({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}}const Fv=new WeakSet,XS="";let Vv=[];function YS(e){return e.get(c_,EE)}function ZS(){const e=[{provide:c_,useFactory:()=>{let t=!0;{const r=hn(Pl);t=!!window._ejsas?.[r]}return t&&gs("NgEventReplay"),t}}];return e.push({provide:Bo,useValue:()=>{const t=hn(es),r=t.get(ac);if(!Fv.has(r)){const o=hn(lm);YS(t)&&eC((a,l,p)=>{kn(a,l,p),pr(a,o)})}},multi:!0},{provide:ly,useFactory:()=>{const t=hn(Pl),r=hn(es),o=hn(ac);return()=>{!YS(r)||Fv.has(o)||(Fv.add(o),o.onDestroy(()=>{Fv.delete(o),ii(t),eC(()=>{})}),o.whenStable().then(()=>{const a=r.get(qe);R1(a,r);const l=r.get(lm);l.get(XS)?.forEach(Cr),l.delete(XS);const p=a.instance;!function Ed(e){return e.get(IE,!1,{optional:!0})}(r)?p.cleanUp():o.onDestroy(()=>p.cleanUp())}))}},multi:!0}),e}const R1=(e,t)=>{const r=t.get(Pl),o=window._ejsas[r],a=e.instance=new Ar(new rn(o.c));for(const E of o.et)a.addEvent(E);for(const E of o.etc)a.addEvent(E);const l=function To(e,t=window){return function ua(e){return e?.q??[]}(t._ejsas?.[e])}(r);a.replayEarlyEventInfos(l),ii(r);const p=new cc(E=>{!function M1(e,t,r){const o=(r&&r.getAttribute(Kt))??"";/d\d+/.test(o)?function N1(e,t,r,o){Vv.push({event:r,currentTarget:o}),function Ih(e,t,r){return cT.apply(this,arguments)}(t,e,O1)}(o,e,t,r):101===t.eventPhase&&Ce(t,r)}(t,E,E.currentTarget)});!function Is(e,t){e.ecrd(r=>{t.dispatch(r)},Io.I_AM_THE_JSACTION_FRAMEWORK)}(a,p)};function O1(e){const t=[...Vv],r=new Set(e);Vv=[];for(let{event:o,currentTarget:a}of t){const l=a.getAttribute(Kt);r.has(l)?Ce(o,a):Vv.push({event:o,currentTarget:a})}}let ob=!1;function Q1(){const e=[{provide:iu,useFactory:()=>{let t=!0;return t=!!hn(al,{optional:!0})?.get(mt,null),t&&gs("NgHydration"),t}},{provide:Bo,useValue:()=>{(function P0(e){b0=e})(!1),hn(iu)&&(function X1(){const e=sl();let t;for(const r of e.body.childNodes)if(r.nodeType===Node.COMMENT_NODE&&r.textContent?.trim()===ME){t=r;break}if(!t)throw new on(-507,!1)}(),function z1(){ob||(ob=!0,function gm(){lh=Zh}(),function NO(){SA=MO}(),function Wx(){SC=zx}(),function kO(){RA=xO}(),function cM(){wD=uM}(),function AP(){H0=DP,LI=wP}(),function cP(){x0=uP}(),function Db(){Bw=wb}())}())},multi:!0}];return e.push({provide:_E,useFactory:()=>hn(iu)},{provide:ly,useFactory:()=>{if(hn(iu)){const t=hn(ac);return()=>{(function K1(e){return e.whenStable()})(t).then(()=>{t.destroyed||O0(t)})}}return()=>{}},multi:!0}),Rs(e)}function Y1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function gg(e,t){gs("NgSignals");const r=function Ht(e){const t=Object.create($n);t.computation=e;const r=()=>{if(vt(t),He(t),t.value===Ut)throw t.error;return t.value};return r[Ue]=t,r}(e);return t?.equal&&(r[Ue].equal=t.equal),r}function Ah(e){const t=Ne(null);try{return e()}finally{Ne(t)}}let db=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=nL})();function nL(){return new db(Fe(),Rn())}let iL=(()=>{class e extends HD{pendingTasks=hn(Na);taskId=null;schedule(r){super.schedule(r),null===this.taskId&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{null!==this.taskId&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e})}return e})();class oL{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,r,o,a,l,p){this.scheduler=t,this.effectFn=r,this.zone=o,this.injector=l,this.watcher=function nt(e,t,r){const o=Object.create(Te);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=t;const a=A=>{o.cleanupFn=A};return o.ref={notify:()=>fn(o),run:()=>{if(null===o.fn)return;if(function Qe(){return W}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!Dt(o))return;o.hasRun=!0;const A=dn(o);try{o.cleanupFn(),o.cleanupFn=se,o.fn(a)}finally{En(o,A)}},cleanup:()=>o.cleanupFn(),destroy:()=>function p(A){(function l(A){return null===A.fn&&null===A.schedule})(A)||(Ye(A),A.cleanupFn(),A.fn=null,A.schedule=null,A.cleanupFn=se)}(o),[Ue]:o},o.ref}(E=>this.runEffect(E),()=>this.schedule(),p),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(r){this.injector.get(Lc,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let nw=!1;class uL{[Ue];constructor(t){this[Ue]=t}destroy(){this[Ue].destroy()}}function rw(e,t){if(nw)return function aL(e,t){gs("NgSignals"),!t?.injector&&ao();const r=t?.injector??hn(es),o=!0!==t?.manualCleanup?r.get(rc):null,a=new oL(r.get(iL),e,typeof Zone>"u"?null:Zone.current,o,r,t?.allowSignalWrites??!1),l=r.get(SS,null,{optional:!0});return l&&8&l._lView[Gn]?(l._lView[ec]??=[]).push(a.watcher.notify):a.watcher.notify(),a}(e,t);gs("NgSignals"),!t?.injector&&ao();const r=t?.injector??hn(es);let a,o=!0!==t?.manualCleanup?r.get(rc):null;const l=r.get(db,null,{optional:!0}),p=r.get(ic);return null===l||t?.forceRoot?a=function hL(e,t,r){const o=Object.create(cL);return o.fn=e,o.scheduler=t,o.notifier=r,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(13),o}(e,r.get(aT),p):(a=function dL(e,t,r){const o=Object.create(lL);return o.view=e,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=t,o.fn=r,e[tc]??=new Set,e[tc].add(o),o.consumerMarkedDirty(o),o}(l.view,p,e),o instanceof kg&&o._lView===l.view&&(o=null)),a.injector=r,null!==o&&(a.onDestroyFn=o.onDestroy(()=>a.destroy())),new uL(a)}const hb={...fe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:kc,run(){if(this.dirty=!1,this.hasRun&&!Dt(this))return;this.hasRun=!0;const e=o=>(this.cleanupFns??=[]).push(o),t=dn(this),r=Mc(!1);try{this.maybeCleanup(),this.fn(e)}finally{Mc(r),En(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},cL={...hb,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Ye(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},lL={...hb,consumerMarkedDirty(){this.view[Gn]|=8192,g(this.view),this.notifier.notify(14)},destroy(){Ye(this),this.onDestroyFn(),this.maybeCleanup(),this.view[tc]?.delete(this)}};function EL(e){const t=sr(e);if(!t)return null;const r=new oy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4125:(an,Je,V)=>{V.d(Je,{kR:()=>dt});var I=V(2967),Ee=(V(3953),V(7440),V(2214),V(467)),Ue=V(7852),Ne=V(1362),je=V(1076),Qe=V(8041);const ge=new Map,fe={activated:!1,tokenObservers:[]},He={initialized:!1,enabled:!1};function St(Be){return ge.get(Be)||Object.assign({},fe)}function At(){return He}class Ye{constructor(U,X,Y,he,st){if(this.operation=U,this.retryPolicy=X,this.getWaitDuration=Y,this.lowerBound=he,this.upperBound=st,this.pending=null,this.nextErrorWaitInterval=he,he>st)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(U){var X=this;return(0,Ee.A)(function*(){X.stop();try{X.pending=new je.cY,X.pending.promise.catch(Y=>{}),yield function Tt(Be){return new Promise(U=>{setTimeout(U,Be)})}(X.getNextRun(U)),X.pending.resolve(),yield X.pending.promise,X.pending=new je.cY,X.pending.promise.catch(Y=>{}),yield X.operation(),X.pending.resolve(),yield X.pending.promise,X.process(!0).catch(()=>{})}catch(Y){X.retryPolicy(Y)?X.process(!1).catch(()=>{}):X.stop()}})()}getNextRun(U){if(U)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const X=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),X}}}const qt=new je.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function te(Be){if(!St(Be).activated)throw qt.create("use-before-activation",{appName:Be.name})}function un(Be,U){return xt.apply(this,arguments)}function xt(){return(xt=(0,Ee.A)(function*({url:Be,body:U},X){const Y={"Content-Type":"application/json"},he=X.getImmediate({optional:!0});if(he){const yr=yield he.getHeartbeatsHeader();yr&&(Y["X-Firebase-Client"]=yr)}const st={method:"POST",body:JSON.stringify(U),headers:Y};let pt,gt;try{pt=yield fetch(Be,st)}catch(yr){throw qt.create("fetch-network-error",{originalErrorMessage:yr?.message})}if(200!==pt.status)throw qt.create("fetch-status-error",{httpStatus:pt.status});try{gt=yield pt.json()}catch(yr){throw qt.create("fetch-parse-error",{originalErrorMessage:yr?.message})}const Tn=gt.ttl.match(/^([\d.]+)(s)$/);if(!Tn||!Tn[2]||isNaN(Number(Tn[1])))throw qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gt.ttl}`});const gn=1e3*Number(Tn[1]),nr=Date.now();return{token:gt.token,expireTimeMillis:nr+gn,issuedAtTimeMillis:nr}})).apply(this,arguments)}function Lt(Be,U){const{projectId:X,appId:Y,apiKey:he}=Be.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${X}/apps/${Y}:exchangeDebugToken?key=${he}`,body:{debug_token:U}}}const Un="firebase-app-check-store";let Ie=null;function ht(){return(ht=(0,Ee.A)(function*(Be,U){const Y=(yield function Ae(){return Ie||(Ie=new Promise((Be,U)=>{try{const X=indexedDB.open("firebase-app-check-database",1);X.onsuccess=Y=>{Be(Y.target.result)},X.onerror=Y=>{var he;U(qt.create("storage-open",{originalErrorMessage:null===(he=Y.target.error)||void 0===he?void 0:he.message}))},X.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Un,{keyPath:"compositeKey"})}}catch(X){U(qt.create("storage-open",{originalErrorMessage:X?.message}))}}),Ie)}()).transaction(Un,"readwrite"),st=Y.objectStore(Un).put({compositeKey:Be,value:U});return new Promise((pt,gt)=>{st.onsuccess=Tn=>{pt()},Y.onerror=Tn=>{var gn;gt(qt.create("storage-set",{originalErrorMessage:null===(gn=Tn.target.error)||void 0===gn?void 0:gn.message}))}})})).apply(this,arguments)}const Ze=new Qe.Vy("@firebase/app-check");function Te(Be,U){return(0,je.zW)()?function et(Be,U){return function Oe(Be,U){return ht.apply(this,arguments)}(function wt(Be){return`${Be.options.appId}-${Be.name}`}(Be),U)}(Be,U).catch(X=>{Ze.warn(`Failed to write token to IndexedDB. Error: ${X}`)}):Promise.resolve()}function yn(){return At().enabled}function _n(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,Ee.A)(function*(){const Be=At();if(Be.enabled&&Be.token)return Be.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yn={error:"UNKNOWN_ERROR"};function Bn(Be){return je.K3.encodeString(JSON.stringify(Be),!1)}function Pr(Be){return tr.apply(this,arguments)}function tr(){return(tr=(0,Ee.A)(function*(Be,U=!1){const X=Be.app;te(X);const Y=St(X);let st,he=Y.token;if(he&&!Er(he)&&(Y.token=void 0,he=void 0),!he){const Tn=yield Y.cachedTokenPromise;Tn&&(Er(Tn)?he=Tn:yield Te(X,void 0))}if(!U&&he&&Er(he))return{token:he.token};let gt,pt=!1;if(yn()){Y.exchangeTokenPromise||(Y.exchangeTokenPromise=un(Lt(X,yield _n()),Be.heartbeatServiceProvider).finally(()=>{Y.exchangeTokenPromise=void 0}),pt=!0);const Tn=yield Y.exchangeTokenPromise;return yield Te(X,Tn),Y.token=Tn,{token:Tn.token}}try{Y.exchangeTokenPromise||(Y.exchangeTokenPromise=Y.provider.getToken().finally(()=>{Y.exchangeTokenPromise=void 0}),pt=!0),he=yield St(X).exchangeTokenPromise}catch(Tn){"appCheck/throttled"===Tn.code?Ze.warn(Tn.message):Ze.error(Tn),st=Tn}return he?st?gt=Er(he)?{token:he.token,internalError:st}:Hn(st):(gt={token:he.token},Y.token=he,yield Te(X,he)):gt=Hn(st),pt&&function ur(Be,U){const X=St(Be).tokenObservers;for(const Y of X)try{"EXTERNAL"===Y.type&&null!=U.error?Y.error(U.error):Y.next(U)}catch{}}(X,gt),gt})).apply(this,arguments)}function ir(){return(ir=(0,Ee.A)(function*(Be){const U=Be.app;te(U);const{provider:X}=St(U);if(yn()){const Y=yield _n(),{token:he}=yield un(Lt(U,Y),Be.heartbeatServiceProvider);return{token:he}}{const{token:Y}=yield X.getToken();return{token:Y}}})).apply(this,arguments)}function Jt(Be,U){const X=St(Be),Y=X.tokenObservers.filter(he=>he.next!==U);0===Y.length&&X.tokenRefresher&&X.tokenRefresher.isRunning()&&X.tokenRefresher.stop(),X.tokenObservers=Y}function gr(Be){const{app:U}=Be,X=St(U);let Y=X.tokenRefresher;Y||(Y=function Cn(Be){const{app:U}=Be;return new Ye((0,Ee.A)(function*(){let Y;if(Y=St(U).token?yield Pr(Be,!0):yield Pr(Be),Y.error)throw Y.error;if(Y.internalError)throw Y.internalError}),()=>!0,()=>{const X=St(U);if(X.token){let Y=X.token.issuedAtTimeMillis+.5*(X.token.expireTimeMillis-X.token.issuedAtTimeMillis)+3e5;return Y=Math.min(Y,X.token.expireTimeMillis-3e5),Math.max(0,Y-Date.now())}return 0},3e4,96e4)}(Be),X.tokenRefresher=Y),!Y.isRunning()&&X.isTokenAutoRefreshEnabled&&Y.start()}function Er(Be){return Be.expireTimeMillis-Date.now()>0}function Hn(Be){return{token:Bn(Yn),error:Be}}class Ci{constructor(U,X){this.app=U,this.heartbeatServiceProvider=X}_delete(){const{tokenObservers:U}=St(this.app);for(const X of U)Jt(this.app,X.next);return Promise.resolve()}}const qo="app-check-internal";!function Jr(){(0,Ue.om)(new Ne.uA("app-check",Be=>function Ke(Be,U){return new Ci(Be,U)}(Be.getProvider("app").getImmediate(),Be.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Be,U,X)=>{Be.getProvider(qo).initialize()})),(0,Ue.om)(new Ne.uA(qo,Be=>function Dr(Be){return{getToken:U=>Pr(Be,U),getLimitedUseToken:()=>function xr(Be){return ir.apply(this,arguments)}(Be),addTokenListener:U=>function Wi(Be,U,X,Y){const{app:he}=Be,st=St(he);if(st.tokenObservers=[...st.tokenObservers,{next:X,error:Y,type:U}],st.token&&Er(st.token)){const gt=st.token;Promise.resolve().then(()=>{X({token:gt.token}),gr(Be)}).catch(()=>{})}st.cachedTokenPromise.then(()=>gr(Be))}(Be,"INTERNAL",U),removeTokenListener:U=>Jt(Be.app,U)}}(Be.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ue.KO)("@firebase/app-check","0.8.11")}();class dt{constructor(){return(0,I.CA)("app-check")}}typeof window<"u"&&window},7440:(an,Je,V)=>{V.d(Je,{MW:()=>St,Wp:()=>fn,XU:()=>W,gL:()=>Ee});var I=V(2214),z=V(3953),ce=V(2967);class W{constructor(Tt){return Tt}}class Ee{constructor(){return(0,I.Dk)()}}const je=new z.nKC("angularfire2._apps"),Qe={provide:W,useFactory:function Ne(Ye){return Ye&&1===Ye.length?Ye[0]:new W((0,I.Sx)())},deps:[[new z.Xx1,je]]},ge={provide:Ee,deps:[[new z.Xx1,je]]};function fe(Ye){return(Tt,Vt)=>{const qt=Vt.get(z.Agw);(0,I.KO)("angularfire",ce.xv.full,"core"),(0,I.KO)("angularfire",ce.xv.full,"app"),(0,I.KO)("angular",z.xvI.full,qt.toString());const cn=Tt.runOutsideAngular(()=>Ye(Vt));return new W(cn)}}function St(Ye,...Tt){return(0,z.EmA)([Qe,ge,{provide:je,useFactory:fe(Ye),multi:!0,deps:[z.SKi,z.zZn,ce.u0,...Tt]}])}const fn=(0,ce.S3)(I.Wp,!0)},6335:(an,Je,V)=>{V.d(Je,{Nj:()=>He,DF:()=>St,eJ:()=>un,xI:()=>Lt,_q:()=>Dt,x9:()=>Pr,df:()=>ir,CI:()=>Jt,r7:()=>Ci,kQ:()=>Vt});var I=V(2967),z=V(3953),ce=V(7440),W=V(4125),Ee=V(2214),Ue=V(1604),Ne=V(1985);function Qe(lr){return new Ne.c(function(zn){return{unsubscribe:(0,Ue.iZ)(lr,zn.next.bind(zn),zn.error.bind(zn),zn.complete.bind(zn))}})}class He{constructor(zn){return zn}}class St{constructor(){return(0,I.CA)("auth")}}const At=new z.nKC("angularfire2.auth-instances");function fn(lr){return(zn,Mr)=>{const Si=zn.runOutsideAngular(()=>lr(Mr));return new He(Si)}}const zt={provide:St,deps:[[new z.Xx1,At]]},dn={provide:He,useFactory:function mn(lr,zn){const Mr=(0,I.lR)("auth",lr,zn);return Mr&&new He(Mr)},deps:[[new z.Xx1,At],ce.XU]};function Dt(lr,...zn){return(0,Ee.KO)("angularfire",I.xv.full,"auth"),(0,z.EmA)([dn,zt,{provide:At,useFactory:fn(lr),multi:!0,deps:[z.SKi,z.zZn,I.u0,ce.gL,[new z.Xx1,W.kR],...zn]}])}const Vt=(0,I.S3)(Qe,!0),un=(0,I.S3)(Ue.eJ,!0,2),Lt=(0,I.S3)(Ue.xI,!0),Pr=(0,I.S3)(Ue.x9,!0,2),ir=(0,I.S3)(Ue.df,!0,2),Jt=(0,I.S3)(Ue.CI,!0,2),Ci=(0,I.S3)(Ue.r7,!0,2)},9967:(an,Je,V)=>{V.d(Je,{_7:()=>Ut,gS:()=>bt,rJ:()=>er,xs:()=>Wt,kd:()=>tr,H9:()=>Jt,x7:()=>rr,aU:()=>ti,hV:()=>et,mZ:()=>Ge});var I=V(2967),z=V(3953),ce=V(7440),W=V(4125),Ee=V(6335),Ue=V(2214),Ne=V(3273),je=V(1985),Qe=V(6354),ge=function(){return ge=Object.assign||function(kt){for(var pn,rn=1,Br=arguments.length;rn<Br;rn++)for(var mr in pn=arguments[rn])Object.prototype.hasOwnProperty.call(pn,mr)&&(kt[mr]=pn[mr]);return kt},ge.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var He={includeMetadataChanges:!1};function Ht($t,kt){return void 0===kt&&(kt={}),function cn($t){return function St($t,kt){return void 0===kt&&(kt=He),new je.c(function(pn){return{unsubscribe:(0,Ne.aQ)($t,kt,{next:pn.next.bind(pn),error:pn.error.bind(pn),complete:pn.complete.bind(pn)})}})}($t,{includeMetadataChanges:!0}).pipe((0,Qe.T)(function(kt){return kt.docs}))}($t).pipe((0,Qe.T)(function(pn){return pn.map(function(rn){return function mn($t,kt){var pn;void 0===kt&&(kt={});var rn=$t.data(kt);return $t.exists()&&"object"==typeof rn&&null!==rn&&kt.idField?ge(ge({},rn),((pn={})[kt.idField]=$t.id,pn)):rn}(rn,kt)})}))}class Ut{constructor(kt){return kt}}const $n="firestore",ft=new z.nKC("angularfire2.firestore-instances");function ye($t){return(kt,pn)=>{const rn=kt.runOutsideAngular(()=>$t(pn));return new Ut(rn)}}const Ie={provide:class Lt{constructor(){return(0,I.CA)($n)}},deps:[[new z.Xx1,ft]]},Ae={provide:Ut,useFactory:function Un($t,kt){const pn=(0,I.lR)($n,$t,kt);return pn&&new Ut(pn)},deps:[[new z.Xx1,ft],ce.XU]};function et($t,...kt){return(0,Ue.KO)("angularfire",I.xv.full,"fst"),(0,z.EmA)([Ae,Ie,{provide:ft,useFactory:ye($t),multi:!0,deps:[z.SKi,z.zZn,I.u0,ce.gL,[new z.Xx1,Ee.DF],[new z.Xx1,W.kR],...kt]}])}const Wt=(0,I.S3)(Ht,!0),bt=(0,I.S3)(Ne.gS,!0,2),er=(0,I.S3)(Ne.rJ,!0,2),tr=(0,I.S3)(Ne.kd,!0,2),Jt=(0,I.S3)(Ne.H9,!0,2),rr=(0,I.S3)(Ne.x7,!0),ti=(0,I.S3)(Ne.aU,!0),Ge=(0,I.S3)(Ne.mZ,!0,2)},2967:(an,Je,V)=>{V.d(Je,{xv:()=>Tt,u0:()=>xt,CA:()=>cn,lR:()=>qt,S3:()=>Un});var I=V(3953),z=V(2214),ce=V(1985);function He(ye){void 0===ye&&((0,I.Af3)(He),ye=(0,I.WQX)(I.zZn));const Ie=ye.get(I.u5s);return Ae=>new ce.c(Re=>{const et=Ie.add();let yt=!1;function _e(){yt||(et(),yt=!0)}const Oe=Ae.subscribe({next:ht=>{Re.next(ht),_e()},complete:()=>{Re.complete(),_e()},error:ht=>{Re.error(ht),_e()}});return Oe.add(()=>{Re.unsubscribe(),_e()}),Oe})}var vt=V(6780),mn=V(9687);const zt=new class fn extends mn.q{}(class At extends vt.R{constructor(Ie,Ae){super(Ie,Ae),this.scheduler=Ie,this.work=Ae}schedule(Ie,Ae=0){return Ae>0?super.schedule(Ie,Ae):(this.delay=Ae,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,Ae){return Ae>0||this.closed?super.execute(Ie,Ae):this._execute(Ie,Ae)}requestAsyncId(Ie,Ae,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(Ie,Ae,Re):(Ie.flush(this),0)}});var En=V(3236),Dt=V(6745),Ye=V(941);const Tt=new I.RxE("ANGULARFIRE2_VERSION");function qt(ye,Ie,Ae){if(Ie){if(1===Ie.length)return Ie[0];const yt=Ie.filter(_e=>_e.app===Ae);if(1===yt.length)return yt[0]}return Ae.container.getProvider(ye).getImmediate({optional:!0})}const cn=(ye,Ie)=>{const Ae=Ie?[Ie]:(0,z.Dk)(),Re=[];return Ae.forEach(et=>{et.container.getProvider(ye).instances.forEach(_e=>{Re.includes(_e)||Re.push(_e)})}),Re};var te=function(ye){return ye[ye.SILENT=0]="SILENT",ye[ye.WARN=1]="WARN",ye[ye.VERBOSE=2]="VERBOSE",ye}(te||{}),ke=(0,I.naY)()&&typeof Zone<"u"?te.WARN:te.SILENT;class un{zone;delegate;constructor(Ie,Ae=zt){this.zone=Ie,this.delegate=Ae}now(){return this.delegate.now()}schedule(Ie,Ae,Re){const et=this.zone;return this.delegate.schedule(function(_e){et?et.runGuarded(()=>{Ie.apply(this,[_e])}):Ie.apply(this,[_e])},Ae,Re)}}let xt=(()=>{class ye{outsideAngular;insideAngular;constructor(){const Ae=(0,I.WQX)(I.SKi);this.outsideAngular=Ae.runOutsideAngular(()=>new un(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=Ae.run(()=>new un(typeof Zone>"u"?void 0:Zone.current,En.E))}static \u0275fac=function(Re){return new(Re||ye)};static \u0275prov=I.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();var Ut=!1;function We(ye){const Ie=(0,I.WQX)(I.SKi,{optional:!0});return Ie?Ie.run(()=>ye()):ye()}const ft=(ye,Ie,Ae)=>(...Re)=>(Ie&&setTimeout(Ie,0),(0,I.N4e)(Ae,()=>We(()=>ye.apply(void 0,Re)))),Un=(ye,Ie,Ae)=>(Ae||=Ie?te.WARN:te.VERBOSE,function(){let Re;const et=arguments;let yt,_e,Oe;try{yt=(0,I.WQX)(xt),_e=(0,I.WQX)(I.u5s),Oe=(0,I.WQX)(I.uvJ)}catch{return function $n(ye,Ie){!Ut&&(ke>te.SILENT||(0,I.naY)())&&(Ut=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ke>=Ie&&console.warn(`Firebase API called outside injection context: ${ye.name}`)}(ye,Ae),ye.apply(this,et)}for(let ut=0;ut<arguments.length;ut++)"function"==typeof et[ut]&&(Ie&&(Re||=We(()=>_e.add())),et[ut]=ft(et[ut],Re,Oe));const ht=function Lt(ye){const Ie=(0,I.WQX)(I.SKi,{optional:!0});return Ie?Ie.runOutsideAngular(()=>ye()):ye()}(()=>ye.apply(this,et));return Ie?ht instanceof ce.c?ht.pipe((0,Dt._)(yt.outsideAngular),(0,Ye.Q)(yt.insideAngular),He(Oe)):ht instanceof Promise?We(()=>new Promise((ut,Wt)=>{_e.run(()=>ht).then(wt=>(0,I.N4e)(Oe,()=>We(()=>ut(wt))),wt=>(0,I.N4e)(Oe,()=>We(()=>Wt(wt))))})):"function"==typeof ht&&Re?function(){return setTimeout(Re,0),ht.apply(this,arguments)}:We(()=>ht):ht instanceof ce.c?ht.pipe((0,Dt._)(yt.outsideAngular),(0,Ye.Q)(yt.insideAngular)):We(()=>ht)})},4073:()=>{Error;const Re=function(_e,...Oe){if(Re.translate){const ut=Re.translate(_e,Oe);_e=ut[0],Oe=ut[1]}let ht=yt(_e[0],_e.raw[0]);for(let ut=1;ut<_e.length;ut++)ht+=Oe[ut-1]+yt(_e[ut],_e.raw[ut]);return ht},et=":";function yt(_e,Oe){return Oe.charAt(0)===et?_e.substring(function un(_e,Oe){for(let ht=1,ut=1;ht<_e.length;ht++,ut++)if("\\"===Oe[ut])ut++;else if(":"===_e[ht])return ht;throw new Error(`Unterminated $localize metadata block in "${Oe}".`)}(_e,Oe)+1):_e}globalThis.$localize=Re},345:(an,Je,V)=>{V.d(Je,{$x:()=>Ve,B7:()=>$n,B8:()=>ht,gT:()=>ti,hE:()=>Bn,up:()=>zr});var I=V(177),z=V(3953),ce=V(1626);class W extends I.VF{supportsDOMEvents=!0}class Ee extends W{static makeCurrent(){(0,I.ZD)(new Ee)}onAndCancel(Se,oe,we,at){return Se.addEventListener(oe,we,at),()=>{Se.removeEventListener(oe,we,at)}}dispatchEvent(Se,oe){Se.dispatchEvent(oe)}remove(Se){Se.remove()}createElement(Se,oe){return(oe=oe||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,oe){return"window"===oe?window:"document"===oe?Se:"body"===oe?Se.body:null}getBaseHref(Se){const oe=function Ne(){return Ue=Ue||document.querySelector("base"),Ue?Ue.getAttribute("href"):null}();return null==oe?null:function je(re){return new URL(re,document.baseURI).pathname}(oe)}resetBaseElement(){Ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,I._b)(document.cookie,Se)}}let Ue=null,ge=(()=>{class re{build(){return new XMLHttpRequest}static \u0275fac=function(we){return new(we||re)};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();const fe=new z.nKC("");let He=(()=>{class re{_zone;_plugins;_eventNameToPlugin=new Map;constructor(oe,we){this._zone=we,oe.forEach(at=>{at.manager=this}),this._plugins=oe.slice().reverse()}addEventListener(oe,we,at,jt){return this._findPluginFor(we).addEventListener(oe,we,at,jt)}getZone(){return this._zone}_findPluginFor(oe){let we=this._eventNameToPlugin.get(oe);if(we)return we;if(we=this._plugins.find(jt=>jt.supports(oe)),!we)throw new z.wOt(5101,!1);return this._eventNameToPlugin.set(oe,we),we}static \u0275fac=function(we){return new(we||re)(z.KVO(fe),z.KVO(z.SKi))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();class St{_doc;constructor(Se){this._doc=Se}manager}const vt="ng-app-id";function At(re){for(const Se of re)Se.remove()}function mn(re,Se){const oe=Se.createElement("style");return oe.textContent=re,oe}function zt(re,Se){const oe=Se.createElement("link");return oe.setAttribute("rel","stylesheet"),oe.setAttribute("href",re),oe}let dn=(()=>{class re{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(oe,we,at,jt={}){this.doc=oe,this.appId=we,this.nonce=at,this.isServer=(0,I.Vy)(jt),function fn(re,Se,oe,we){const at=re.head?.querySelectorAll(`style[${vt}="${Se}"],link[${vt}="${Se}"]`);if(at)for(const jt of at)jt.removeAttribute(vt),jt instanceof HTMLLinkElement?we.set(jt.href.slice(jt.href.lastIndexOf("/")+1),{usage:0,elements:[jt]}):jt.textContent&&oe.set(jt.textContent,{usage:0,elements:[jt]})}(oe,we,this.inline,this.external),this.hosts.add(oe.head)}addStyles(oe,we){for(const at of oe)this.addUsage(at,this.inline,mn);we?.forEach(at=>this.addUsage(at,this.external,zt))}removeStyles(oe,we){for(const at of oe)this.removeUsage(at,this.inline);we?.forEach(at=>this.removeUsage(at,this.external))}addUsage(oe,we,at){const jt=we.get(oe);jt?jt.usage++:we.set(oe,{usage:1,elements:[...this.hosts].map(In=>this.addElement(In,at(oe,this.doc)))})}removeUsage(oe,we){const at=we.get(oe);at&&(at.usage--,at.usage<=0&&(At(at.elements),we.delete(oe)))}ngOnDestroy(){for(const[,{elements:oe}]of[...this.inline,...this.external])At(oe);this.hosts.clear()}addHost(oe){this.hosts.add(oe);for(const[we,{elements:at}]of this.inline)at.push(this.addElement(oe,mn(we,this.doc)));for(const[we,{elements:at}]of this.external)at.push(this.addElement(oe,zt(we,this.doc)))}removeHost(oe){this.hosts.delete(oe)}addElement(oe,we){return this.nonce&&we.setAttribute("nonce",this.nonce),this.isServer&&we.setAttribute(vt,this.appId),oe.appendChild(we)}static \u0275fac=function(we){return new(we||re)(z.KVO(I.qQ),z.KVO(z.sZ2),z.KVO(z.BIS,8),z.KVO(z.Agw))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();const En={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dt=/%COMP%/g,ke=new z.nKC("",{providedIn:"root",factory:()=>!0});function xt(re,Se){return Se.map(oe=>oe.replace(Dt,re))}let $n=(()=>{class re{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(oe,we,at,jt,In,vn,or,kr=null,Nr=null){this.eventManager=oe,this.sharedStylesHost=we,this.appId=at,this.removeStylesOnCompDestroy=jt,this.doc=In,this.platformId=vn,this.ngZone=or,this.nonce=kr,this.tracingService=Nr,this.platformIsServer=(0,I.Vy)(vn),this.defaultRenderer=new Lt(oe,In,or,this.platformIsServer,this.tracingService)}createRenderer(oe,we){if(!oe||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===z.gXe.ShadowDom&&(we={...we,encapsulation:z.gXe.Emulated});const at=this.getOrCreateRenderer(oe,we);return at instanceof Ae?at.applyToHost(oe):at instanceof Ie&&at.applyStyles(),at}getOrCreateRenderer(oe,we){const at=this.rendererByCompId;let jt=at.get(we.id);if(!jt){const In=this.doc,vn=this.ngZone,or=this.eventManager,kr=this.sharedStylesHost,Nr=this.removeStylesOnCompDestroy,Ii=this.platformIsServer,ki=this.tracingService;switch(we.encapsulation){case z.gXe.Emulated:jt=new Ae(or,kr,we,this.appId,Nr,In,vn,Ii,ki);break;case z.gXe.ShadowDom:return new ye(or,kr,oe,we,In,vn,this.nonce,Ii,ki);default:jt=new Ie(or,kr,we,Nr,In,vn,Ii,ki)}at.set(we.id,jt)}return jt}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(oe){this.rendererByCompId.delete(oe)}static \u0275fac=function(we){return new(we||re)(z.KVO(He),z.KVO(dn),z.KVO(z.sZ2),z.KVO(ke),z.KVO(I.qQ),z.KVO(z.Agw),z.KVO(z.SKi),z.KVO(z.BIS),z.KVO(z.Lf2,8))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();class Lt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(Se,oe,we,at,jt){this.eventManager=Se,this.doc=oe,this.ngZone=we,this.platformIsServer=at,this.tracingService=jt}destroy(){}destroyNode=null;createElement(Se,oe){return oe?this.doc.createElementNS(En[oe]||oe,Se):this.doc.createElement(Se)}createComment(Se){return this.doc.createComment(Se)}createText(Se){return this.doc.createTextNode(Se)}appendChild(Se,oe){(Un(Se)?Se.content:Se).appendChild(oe)}insertBefore(Se,oe,we){Se&&(Un(Se)?Se.content:Se).insertBefore(oe,we)}removeChild(Se,oe){oe.remove()}selectRootElement(Se,oe){let we="string"==typeof Se?this.doc.querySelector(Se):Se;if(!we)throw new z.wOt(-5104,!1);return oe||(we.textContent=""),we}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,oe,we,at){if(at){oe=at+":"+oe;const jt=En[at];jt?Se.setAttributeNS(jt,oe,we):Se.setAttribute(oe,we)}else Se.setAttribute(oe,we)}removeAttribute(Se,oe,we){if(we){const at=En[we];at?Se.removeAttributeNS(at,oe):Se.removeAttribute(`${we}:${oe}`)}else Se.removeAttribute(oe)}addClass(Se,oe){Se.classList.add(oe)}removeClass(Se,oe){Se.classList.remove(oe)}setStyle(Se,oe,we,at){at&(z.czy.DashCase|z.czy.Important)?Se.style.setProperty(oe,we,at&z.czy.Important?"important":""):Se.style[oe]=we}removeStyle(Se,oe,we){we&z.czy.DashCase?Se.style.removeProperty(oe):Se.style[oe]=""}setProperty(Se,oe,we){null!=Se&&(Se[oe]=we)}setValue(Se,oe){Se.nodeValue=oe}listen(Se,oe,we,at){if("string"==typeof Se&&!(Se=(0,I.QT)().getGlobalEventTarget(this.doc,Se)))throw new Error(`Unsupported event target ${Se} for event ${oe}`);let jt=this.decoratePreventDefault(we);return null!==this.tracingService&&this.tracingService.wrapEventListener&&(jt=this.tracingService.wrapEventListener(Se,oe,jt)),this.eventManager.addEventListener(Se,oe,jt,at)}decoratePreventDefault(Se){return oe=>{if("__ngUnwrap__"===oe)return Se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Se(oe)):Se(oe))&&oe.preventDefault()}}}function Un(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class ye extends Lt{sharedStylesHost;hostEl;shadowRoot;constructor(Se,oe,we,at,jt,In,vn,or,kr){super(Se,jt,In,or,kr),this.sharedStylesHost=oe,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Nr=at.styles;Nr=xt(at.id,Nr);for(const ki of Nr){const Li=document.createElement("style");vn&&Li.setAttribute("nonce",vn),Li.textContent=ki,this.shadowRoot.appendChild(Li)}const Ii=at.getExternalStyles?.();if(Ii)for(const ki of Ii){const Li=zt(ki,jt);vn&&Li.setAttribute("nonce",vn),this.shadowRoot.appendChild(Li)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}appendChild(Se,oe){return super.appendChild(this.nodeOrShadowRoot(Se),oe)}insertBefore(Se,oe,we){return super.insertBefore(this.nodeOrShadowRoot(Se),oe,we)}removeChild(Se,oe){return super.removeChild(null,oe)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ie extends Lt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(Se,oe,we,at,jt,In,vn,or,kr){super(Se,jt,In,vn,or),this.sharedStylesHost=oe,this.removeStylesOnCompDestroy=at;let Nr=we.styles;this.styles=kr?xt(kr,Nr):Nr,this.styleUrls=we.getExternalStyles?.(kr)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ae extends Ie{contentAttr;hostAttr;constructor(Se,oe,we,at,jt,In,vn,or,kr){const Nr=at+"-"+we.id;super(Se,oe,we,jt,In,vn,or,kr,Nr),this.contentAttr=function Ht(re){return"_ngcontent-%COMP%".replace(Dt,re)}(Nr),this.hostAttr=function un(re){return"_nghost-%COMP%".replace(Dt,re)}(Nr)}applyToHost(Se){this.applyStyles(),this.setAttribute(Se,this.hostAttr,"")}createElement(Se,oe){const we=super.createElement(Se,oe);return super.setAttribute(we,this.contentAttr,""),we}}let Re=(()=>{class re extends St{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,we,at,jt){return oe.addEventListener(we,at,jt),()=>this.removeEventListener(oe,we,at,jt)}removeEventListener(oe,we,at,jt){return oe.removeEventListener(we,at,jt)}static \u0275fac=function(we){return new(we||re)(z.KVO(I.qQ))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();const et=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Oe=(()=>{class re extends St{constructor(oe){super(oe)}supports(oe){return null!=re.parseEventName(oe)}addEventListener(oe,we,at,jt){const In=re.parseEventName(we),vn=re.eventCallback(In.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.QT)().onAndCancel(oe,In.domEventName,vn,jt))}static parseEventName(oe){const we=oe.toLowerCase().split("."),at=we.shift();if(0===we.length||"keydown"!==at&&"keyup"!==at)return null;const jt=re._normalizeKey(we.pop());let In="",vn=we.indexOf("code");if(vn>-1&&(we.splice(vn,1),In="code."),et.forEach(kr=>{const Nr=we.indexOf(kr);Nr>-1&&(we.splice(Nr,1),In+=kr+".")}),In+=jt,0!=we.length||0===jt.length)return null;const or={};return or.domEventName=at,or.fullKey=In,or}static matchEventFullKeyCode(oe,we){let at=yt[oe.key]||oe.key,jt="";return we.indexOf("code.")>-1&&(at=oe.code,jt="code."),!(null==at||!at)&&(at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),et.forEach(In=>{In!==at&&(0,_e[In])(oe)&&(jt+=In+".")}),jt+=at,jt===we)}static eventCallback(oe,we,at){return jt=>{re.matchEventFullKeyCode(jt,oe)&&at.runGuarded(()=>we(jt))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}static \u0275fac=function(we){return new(we||re)(z.KVO(I.qQ))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac})}return re})();function ht(re,Se){return(0,z.TL3)({rootComponent:re,...Wt(Se)})}function Wt(re){return{appProviders:[..._n,...re?.providers??[]],platformProviders:Te}}const Te=[{provide:z.Agw,useValue:I.AJ},{provide:z.PLl,useValue:function Ze(){Ee.makeCurrent()},multi:!0},{provide:I.qQ,useFactory:function se(){return(0,z.TL$)(document),document},deps:[]}],_n=[{provide:z.H8p,useValue:"root"},{provide:z.zcH,useFactory:function nt(){return new z.zcH},deps:[]},{provide:fe,useClass:Re,multi:!0,deps:[I.qQ,z.SKi,z.Agw]},{provide:fe,useClass:Oe,multi:!0,deps:[I.qQ]},$n,dn,He,{provide:z._9s,useExisting:$n},{provide:I.N0,useClass:ge,deps:[]},[]];let Bn=(()=>{class re{_doc;constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}static \u0275fac=function(we){return new(we||re)(z.KVO(I.qQ))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})(),zr=(()=>{class re{static \u0275fac=function(we){return new(we||re)};static \u0275prov=z.jDH({token:re,factory:function(we){let at=null;return at=we?new(we||re):z.KVO(rr),at},providedIn:"root"})}return re})(),rr=(()=>{class re extends zr{_doc;constructor(oe){super(),this._doc=oe}sanitize(oe,we){if(null==we)return null;switch(oe){case z.WPN.NONE:return we;case z.WPN.HTML:return(0,z.ZF7)(we,"HTML")?(0,z.rcV)(we):(0,z.h9k)(this._doc,String(we)).toString();case z.WPN.STYLE:return(0,z.ZF7)(we,"Style")?(0,z.rcV)(we):we;case z.WPN.SCRIPT:if((0,z.ZF7)(we,"Script"))return(0,z.rcV)(we);throw new z.wOt(5200,!1);case z.WPN.URL:return(0,z.ZF7)(we,"URL")?(0,z.rcV)(we):(0,z.$MX)(String(we));case z.WPN.RESOURCE_URL:if((0,z.ZF7)(we,"ResourceURL"))return(0,z.rcV)(we);throw new z.wOt(5201,!1);default:throw new z.wOt(5202,!1)}}bypassSecurityTrustHtml(oe){return(0,z.Kcf)(oe)}bypassSecurityTrustStyle(oe){return(0,z.cWb)(oe)}bypassSecurityTrustScript(oe){return(0,z.UyX)(oe)}bypassSecurityTrustUrl(oe){return(0,z.osQ)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,z.e5t)(oe)}static \u0275fac=function(we){return new(we||re)(z.KVO(I.qQ))};static \u0275prov=z.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})();var lr=function(re){return re[re.NoHttpTransferCache=0]="NoHttpTransferCache",re[re.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",re[re.I18nSupport=2]="I18nSupport",re[re.EventReplay=3]="EventReplay",re[re.IncrementalHydration=4]="IncrementalHydration",re}(lr||{});function ti(){return function zn(re,Se=[],oe={}){return{\u0275kind:re,\u0275providers:Se}}(lr.EventReplay,(0,z.XA_)())}function Ve(...re){const Se=[],oe=new Set,we=oe.has(lr.HttpTransferCacheOptions);for(const{\u0275providers:at,\u0275kind:jt}of re)oe.add(jt),at.length&&Se.push(at);return(0,z.EmA)([[],(0,z.M8M)(),oe.has(lr.NoHttpTransferCache)||we?[]:(0,ce.$m)({}),Se])}},9025:(an,Je,V)=>{V.d(Je,{nX:()=>Ts,Ix:()=>Ji,Wk:()=>Ss,iI:()=>qi,n3:()=>on,lh:()=>Qr});var I=V(3953),z=V(4402),ce=V(8455),W=V(7673),Ee=V(4412),Ue=V(1985),Ne=V(3073),je=V(3669),Qe=V(6450),ge=V(9326),fe=V(8496),He=V(4360),St=V(5225);function vt(...w){const M=(0,ge.lI)(w),C=(0,ge.ms)(w),{args:P,keys:B}=(0,Ne.D)(w);if(0===P.length)return(0,ce.H)([],M);const Z=new Ue.c(function At(w,M,C=je.D){return P=>{mn(M,()=>{const{length:B}=w,Z=new Array(B);let le=B,ct=B;for(let $e=0;$e<B;$e++)mn(M,()=>{const ln=(0,ce.H)(w[$e],M);let Vn=!1;ln.subscribe((0,He._)(P,Qn=>{Z[$e]=Qn,Vn||(Vn=!0,ct--),ct||P.next(C(Z.slice()))},()=>{--le||P.complete()}))},P)},P)}}(P,M,B?le=>(0,fe.e)(B,le):je.D));return C?Z.pipe((0,Qe.I)(C)):Z}function mn(w,M,C){w?(0,St.N)(C,w,M):M()}var fn=V(9350),zt=V(8793),dn=V(9030),En=V(1203),Dt=V(8810),Ye=V(983),Tt=V(17),Vt=V(1413),qt=V(8359),cn=V(177),te=V(6354),ke=V(5558),Ht=V(6697),un=V(9974),Ut=V(5964),$n=V(1397),Lt=V(1594),We=V(274),ft=V(8141),Un=V(8750);function ye(w){return(0,un.N)((M,C)=>{let Z,P=null,B=!1;P=M.subscribe((0,He._)(C,void 0,void 0,le=>{Z=(0,Un.Tg)(w(le,ye(w)(M))),P?(P.unsubscribe(),P=null,Z.subscribe(C)):B=!0})),B&&(P.unsubscribe(),P=null,Z.subscribe(C))})}var Ie=V(6649),Re=V(9901);function et(w){return w<=0?()=>Ye.w:(0,un.N)((M,C)=>{let P=[];M.subscribe((0,He._)(C,B=>{P.push(B),w<P.length&&P.shift()},()=>{for(const B of P)C.next(B);C.complete()},void 0,()=>{P=null}))})}var yt=V(3774),Oe=V(980),ht=V(9898),ut=V(5343),wt=V(6365),Ze=V(345);const nt="primary",se=Symbol("RouteTitle");class Te{params;constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const C=this.params[M];return Array.isArray(C)?C[0]:C}return null}getAll(M){if(this.has(M)){const C=this.params[M];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function bt(w){return new Te(w)}function It(w,M,C){const P=C.path.split("/");if(P.length>w.length||"full"===C.pathMatch&&(M.hasChildren()||P.length<w.length))return null;const B={};for(let Z=0;Z<P.length;Z++){const le=P[Z],ct=w[Z];if(":"===le[0])B[le.substring(1)]=ct;else if(le!==ct.path)return null}return{consumed:w.slice(0,P.length),posParams:B}}function _n(w,M){const C=w?Pt(w):void 0,P=M?Pt(M):void 0;if(!C||!P||C.length!=P.length)return!1;let B;for(let Z=0;Z<C.length;Z++)if(B=C[Z],!er(w[B],M[B]))return!1;return!0}function Pt(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}function er(w,M){if(Array.isArray(w)&&Array.isArray(M)){if(w.length!==M.length)return!1;const C=[...w].sort(),P=[...M].sort();return C.every((B,Z)=>P[Z]===B)}return w===M}function Yn(w){return w.length>0?w[w.length-1]:null}function Bn(w){return(0,z.A)(w)?w:(0,I.jNT)(w)?(0,ce.H)(Promise.resolve(w)):(0,W.of)(w)}const Pr={exact:function Wi(w,M,C){if(!Dr(w.segments,M.segments)||!ur(w.segments,M.segments,C)||w.numberOfChildren!==M.numberOfChildren)return!1;for(const P in M.children)if(!w.children[P]||!Wi(w.children[P],M.children[P],C))return!1;return!0},subset:gr},tr={exact:function ir(w,M){return _n(w,M)},subset:function Jt(w,M){return Object.keys(M).length<=Object.keys(w).length&&Object.keys(M).every(C=>er(w[C],M[C]))},ignored:()=>!0};function xr(w,M,C){return Pr[C.paths](w.root,M.root,C.matrixParams)&&tr[C.queryParams](w.queryParams,M.queryParams)&&!("exact"===C.fragment&&w.fragment!==M.fragment)}function gr(w,M,C){return Cn(w,M,M.segments,C)}function Cn(w,M,C,P){if(w.segments.length>C.length){const B=w.segments.slice(0,C.length);return!(!Dr(B,C)||M.hasChildren()||!ur(B,C,P))}if(w.segments.length===C.length){if(!Dr(w.segments,C)||!ur(w.segments,C,P))return!1;for(const B in M.children)if(!w.children[B]||!gr(w.children[B],M.children[B],P))return!1;return!0}{const B=C.slice(0,w.segments.length),Z=C.slice(w.segments.length);return!!(Dr(w.segments,B)&&ur(w.segments,B,P)&&w.children[nt])&&Cn(w.children[nt],M,Z,P)}}function ur(w,M,C){return M.every((P,B)=>tr[C](w[B].parameters,P.parameters))}class Er{root;queryParams;fragment;_queryParamMap;constructor(M=new Hn([],{}),C={},P=null){this.root=M,this.queryParams=C,this.fragment=P}get queryParamMap(){return this._queryParamMap??=bt(this.queryParams),this._queryParamMap}toString(){return zn.serialize(this)}}class Hn{segments;children;parent=null;constructor(M,C){this.segments=M,this.children=C,Object.values(C).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mr(this)}}class Ci{path;parameters;_parameterMap;constructor(M,C){this.path=M,this.parameters=C}get parameterMap(){return this._parameterMap??=bt(this.parameters),this._parameterMap}toString(){return re(this)}}function Dr(w,M){return w.length===M.length&&w.every((C,P)=>C.path===M[P].path)}let rr=(()=>{class w{static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:()=>new lr,providedIn:"root"})}return w})();class lr{parse(M){const C=new Ii(M);return new Er(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(M){const C=`/${Si(M.root,!0)}`,P=function oe(w){const M=Object.entries(w).map(([C,P])=>Array.isArray(P)?P.map(B=>`${ti(C)}=${ti(B)}`).join("&"):`${ti(C)}=${ti(P)}`).filter(C=>C);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${C}${P}${"string"==typeof M.fragment?`#${function Pe(w){return encodeURI(w)}(M.fragment)}`:""}`}}const zn=new lr;function Mr(w){return w.segments.map(M=>re(M)).join("/")}function Si(w,M){if(!w.hasChildren())return Mr(w);if(M){const C=w.children[nt]?Si(w.children[nt],!1):"",P=[];return Object.entries(w.children).forEach(([B,Z])=>{B!==nt&&P.push(`${B}:${Si(Z,!1)}`)}),P.length>0?`${C}(${P.join("//")})`:C}{const C=function zr(w,M){let C=[];return Object.entries(w.children).forEach(([P,B])=>{P===nt&&(C=C.concat(M(B,P)))}),Object.entries(w.children).forEach(([P,B])=>{P!==nt&&(C=C.concat(M(B,P)))}),C}(w,(P,B)=>B===nt?[Si(w.children[nt],!1)]:[`${B}:${Si(P,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[nt]?`${Mr(w)}/${C[0]}`:`${Mr(w)}/(${C.join("//")})`}}function hi(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(w){return hi(w).replace(/%3B/gi,";")}function ve(w){return hi(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ve(w){return decodeURIComponent(w)}function Et(w){return Ve(w.replace(/\+/g,"%20"))}function re(w){return`${ve(w.path)}${function Se(w){return Object.entries(w).map(([M,C])=>`;${ve(M)}=${ve(C)}`).join("")}(w.parameters)}`}const we=/^[^\/()?;#]+/;function at(w){const M=w.match(we);return M?M[0]:""}const jt=/^[^\/()?;=#]+/,vn=/^[^=?&#]+/,kr=/^[^&#]+/;class Ii{url;remaining;constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(M.length>0||Object.keys(C).length>0)&&(P[nt]=new Hn(M,C)),P}parseSegment(){const M=at(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new I.wOt(4009,!1);return this.capture(M),new Ci(Ve(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const C=function In(w){const M=w.match(jt);return M?M[0]:""}(this.remaining);if(!C)return;this.capture(C);let P="";if(this.consumeOptional("=")){const B=at(this.remaining);B&&(P=B,this.capture(P))}M[Ve(C)]=Ve(P)}parseQueryParam(M){const C=function or(w){const M=w.match(vn);return M?M[0]:""}(this.remaining);if(!C)return;this.capture(C);let P="";if(this.consumeOptional("=")){const le=function Nr(w){const M=w.match(kr);return M?M[0]:""}(this.remaining);le&&(P=le,this.capture(P))}const B=Et(C),Z=Et(P);if(M.hasOwnProperty(B)){let le=M[B];Array.isArray(le)||(le=[le],M[B]=le),le.push(Z)}else M[B]=Z}parseParens(M){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=at(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new I.wOt(4010,!1);let Z;P.indexOf(":")>-1?(Z=P.slice(0,P.indexOf(":")),this.capture(Z),this.capture(":")):M&&(Z=nt);const le=this.parseChildren();C[Z]=1===Object.keys(le).length?le[nt]:new Hn([],le),this.consumeOptional("//")}return C}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new I.wOt(4011,!1)}}function ki(w){return w.segments.length>0?new Hn([],{[nt]:w}):w}function Li(w){const M={};for(const[P,B]of Object.entries(w.children)){const Z=Li(B);if(P===nt&&0===Z.segments.length&&Z.hasChildren())for(const[le,ct]of Object.entries(Z.children))M[le]=ct;else(Z.segments.length>0||Z.hasChildren())&&(M[P]=Z)}return function qo(w){if(1===w.numberOfChildren&&w.children[nt]){const M=w.children[nt];return new Hn(w.segments.concat(M.segments),M.children)}return w}(new Hn(w.segments,M))}function Jr(w){return w instanceof Er}function Fi(w){let M;const B=ki(function C(Z){const le={};for(const $e of Z.children){const ln=C($e);le[$e.outlet]=ln}const ct=new Hn(Z.url,le);return Z===w&&(M=ct),ct}(w.root));return M??B}function dt(w,M,C,P){let B=w;for(;B.parent;)B=B.parent;if(0===M.length)return nn(B,B,B,C,P);const Z=function $t(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Pn(!0,0,w);let M=0,C=!1;const P=w.reduce((B,Z,le)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const ct={};return Object.entries(Z.outlets).forEach(([$e,ln])=>{ct[$e]="string"==typeof ln?ln.split("/"):ln}),[...B,{outlets:ct}]}if(Z.segmentPath)return[...B,Z.segmentPath]}return"string"!=typeof Z?[...B,Z]:0===le?(Z.split("/").forEach((ct,$e)=>{0==$e&&"."===ct||(0==$e&&""===ct?C=!0:".."===ct?M++:""!=ct&&B.push(ct))}),B):[...B,Z]},[]);return new Pn(C,M,P)}(M);if(Z.toRoot())return nn(B,B,new Hn([],{}),C,P);const le=function pn(w,M,C){if(w.isAbsolute)return new kt(M,!0,0);if(!C)return new kt(M,!1,NaN);if(null===C.parent)return new kt(C,!0,0);const P=Ge(w.commands[0])?0:1;return function rn(w,M,C){let P=w,B=M,Z=C;for(;Z>B;){if(Z-=B,P=P.parent,!P)throw new I.wOt(4005,!1);B=P.segments.length}return new kt(P,!1,B-Z)}(C,C.segments.length-1+P,w.numberOfDoubleDots)}(Z,B,w),ct=le.processChildren?Xr(le.segmentGroup,le.index,Z.commands):mr(le.segmentGroup,le.index,Z.commands);return nn(B,le.segmentGroup,ct,C,P)}function Ge(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Ct(w){return"object"==typeof w&&null!=w&&w.outlets}function nn(w,M,C,P,B){let le,Z={};P&&Object.entries(P).forEach(([$e,ln])=>{Z[$e]=Array.isArray(ln)?ln.map(Vn=>`${Vn}`):`${ln}`}),le=w===M?C:Ln(w,M,C);const ct=ki(Li(le));return new Er(ct,Z,B)}function Ln(w,M,C){const P={};return Object.entries(w.children).forEach(([B,Z])=>{P[B]=Z===M?C:Ln(Z,M,C)}),new Hn(w.segments,P)}class Pn{isAbsolute;numberOfDoubleDots;commands;constructor(M,C,P){if(this.isAbsolute=M,this.numberOfDoubleDots=C,this.commands=P,M&&P.length>0&&Ge(P[0]))throw new I.wOt(4003,!1);const B=P.find(Ct);if(B&&B!==Yn(P))throw new I.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kt{segmentGroup;processChildren;index;constructor(M,C,P){this.segmentGroup=M,this.processChildren=C,this.index=P}}function mr(w,M,C){if(w??=new Hn([],{}),0===w.segments.length&&w.hasChildren())return Xr(w,M,C);const P=function co(w,M,C){let P=0,B=M;const Z={match:!1,pathIndex:0,commandIndex:0};for(;B<w.segments.length;){if(P>=C.length)return Z;const le=w.segments[B],ct=C[P];if(Ct(ct))break;const $e=`${ct}`,ln=P<C.length-1?C[P+1]:null;if(B>0&&void 0===$e)break;if($e&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!U($e,ln,le))return Z;P+=2}else{if(!U($e,{},le))return Z;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(w,M,C),B=C.slice(P.commandIndex);if(P.match&&P.pathIndex<w.segments.length){const Z=new Hn(w.segments.slice(0,P.pathIndex),{});return Z.children[nt]=new Hn(w.segments.slice(P.pathIndex),w.children),Xr(Z,0,B)}return P.match&&0===B.length?new Hn(w.segments,{}):P.match&&!w.hasChildren()?Eo(w,M,C):P.match?Xr(w,0,B):Eo(w,M,C)}function Xr(w,M,C){if(0===C.length)return new Hn(w.segments,{});{const P=function Br(w){return Ct(w[0])?w[0].outlets:{[nt]:w}}(C),B={};if(Object.keys(P).some(Z=>Z!==nt)&&w.children[nt]&&1===w.numberOfChildren&&0===w.children[nt].segments.length){const Z=Xr(w.children[nt],M,C);return new Hn(w.segments,Z.children)}return Object.entries(P).forEach(([Z,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(B[Z]=mr(w.children[Z],M,le))}),Object.entries(w.children).forEach(([Z,le])=>{void 0===P[Z]&&(B[Z]=le)}),new Hn(w.segments,B)}}function Eo(w,M,C){const P=w.segments.slice(0,M);let B=0;for(;B<C.length;){const Z=C[B];if(Ct(Z)){const $e=Wr(Z.outlets);return new Hn(P,$e)}if(0===B&&Ge(C[0])){P.push(new Ci(w.segments[M].path,Be(C[0]))),B++;continue}const le=Ct(Z)?Z.outlets[nt]:`${Z}`,ct=B<C.length-1?C[B+1]:null;le&&ct&&Ge(ct)?(P.push(new Ci(le,Be(ct))),B+=2):(P.push(new Ci(le,{})),B++)}return new Hn(P,{})}function Wr(w){const M={};return Object.entries(w).forEach(([C,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(M[C]=Eo(new Hn([],{}),0,P))}),M}function Be(w){const M={};return Object.entries(w).forEach(([C,P])=>M[C]=`${P}`),M}function U(w,M,C){return w==C.path&&_n(M,C.parameters)}const X="imperative";var Y=function(w){return w[w.NavigationStart=0]="NavigationStart",w[w.NavigationEnd=1]="NavigationEnd",w[w.NavigationCancel=2]="NavigationCancel",w[w.NavigationError=3]="NavigationError",w[w.RoutesRecognized=4]="RoutesRecognized",w[w.ResolveStart=5]="ResolveStart",w[w.ResolveEnd=6]="ResolveEnd",w[w.GuardsCheckStart=7]="GuardsCheckStart",w[w.GuardsCheckEnd=8]="GuardsCheckEnd",w[w.RouteConfigLoadStart=9]="RouteConfigLoadStart",w[w.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",w[w.ChildActivationStart=11]="ChildActivationStart",w[w.ChildActivationEnd=12]="ChildActivationEnd",w[w.ActivationStart=13]="ActivationStart",w[w.ActivationEnd=14]="ActivationEnd",w[w.Scroll=15]="Scroll",w[w.NavigationSkipped=16]="NavigationSkipped",w}(Y||{});class he{id;url;constructor(M,C){this.id=M,this.url=C}}class st extends he{type=Y.NavigationStart;navigationTrigger;restoredState;constructor(M,C,P="imperative",B=null){super(M,C),this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pt extends he{urlAfterRedirects;type=Y.NavigationEnd;constructor(M,C,P){super(M,C),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var gt=function(w){return w[w.Redirect=0]="Redirect",w[w.SupersededByNewNavigation=1]="SupersededByNewNavigation",w[w.NoDataFromResolver=2]="NoDataFromResolver",w[w.GuardRejected=3]="GuardRejected",w}(gt||{}),Tn=function(w){return w[w.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",w[w.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",w}(Tn||{});class gn extends he{reason;code;type=Y.NavigationCancel;constructor(M,C,P,B){super(M,C),this.reason=P,this.code=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends he{reason;code;type=Y.NavigationSkipped;constructor(M,C,P,B){super(M,C),this.reason=P,this.code=B}}class yr extends he{error;target;type=Y.NavigationError;constructor(M,C,P,B){super(M,C),this.error=P,this.target=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wr extends he{urlAfterRedirects;state;type=Y.RoutesRecognized;constructor(M,C,P,B){super(M,C),this.urlAfterRedirects=P,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends he{urlAfterRedirects;state;type=Y.GuardsCheckStart;constructor(M,C,P,B){super(M,C),this.urlAfterRedirects=P,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends he{urlAfterRedirects;state;shouldActivate;type=Y.GuardsCheckEnd;constructor(M,C,P,B,Z){super(M,C),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _r extends he{urlAfterRedirects;state;type=Y.ResolveStart;constructor(M,C,P,B){super(M,C),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends he{urlAfterRedirects;state;type=Y.ResolveEnd;constructor(M,C,P,B){super(M,C),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir{route;type=Y.RouteConfigLoadStart;constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bi{route;type=Y.RouteConfigLoadEnd;constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ro{snapshot;type=Y.ChildActivationStart;constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{snapshot;type=Y.ChildActivationEnd;constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{snapshot;type=Y.ActivationStart;constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{snapshot;type=Y.ActivationEnd;constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{routerEvent;position;anchor;type=Y.Scroll;constructor(M,C,P){this.routerEvent=M,this.position=C,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Io{}class ri{url;navigationBehaviorOptions;constructor(M,C){this.url=M,this.navigationBehaviorOptions=C}}function Yi(w){return w.outlet||nt}function Es(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let M=w.parent;M;M=M.parent){const C=M.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class La{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Es(this.route?.snapshot)??this.rootInjector}constructor(M){this.rootInjector=M,this.children=new Ki(this.rootInjector)}}let Ki=(()=>{class w{rootInjector;contexts=new Map;constructor(C){this.rootInjector=C}onChildOutletCreated(C,P){const B=this.getOrCreateContext(C);B.outlet=P,this.contexts.set(C,B)}onChildOutletDestroyed(C){const P=this.getContext(C);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let P=this.getContext(C);return P||(P=new La(this.rootInjector),this.contexts.set(C,P)),P}getContext(C){return this.contexts.get(C)||null}static \u0275fac=function(P){return new(P||w)(I.KVO(I.uvJ))};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Is{_root;constructor(M){this._root=M}get root(){return this._root.value}parent(M){const C=this.pathFromRoot(M);return C.length>1?C[C.length-2]:null}children(M){const C=Ea(M,this._root);return C?C.children.map(P=>P.value):[]}firstChild(M){const C=Ea(M,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(M){const C=Fa(M,this._root);return C.length<2?[]:C[C.length-2].children.map(B=>B.value).filter(B=>B!==M)}pathFromRoot(M){return Fa(M,this._root).map(C=>C.value)}}function Ea(w,M){if(w===M.value)return M;for(const C of M.children){const P=Ea(w,C);if(P)return P}return null}function Fa(w,M){if(w===M.value)return[M];for(const C of M.children){const P=Fa(w,C);if(P.length)return P.unshift(M),P}return[]}class io{value;children;constructor(M,C){this.value=M,this.children=C}toString(){return`TreeNode(${this.value})`}}function ua(w){const M={};return w&&w.children.forEach(C=>M[C.value.outlet]=C),M}class cu extends Is{snapshot;constructor(M,C){super(M),this.snapshot=C,lu(this,M)}toString(){return this.snapshot.toString()}}function zu(w){const M=function Tr(w){const Z=new Vi([],{},{},"",{},nt,w,null,{});return new To("",new io(Z,[]))}(w),C=new Ee.t([new Ci("",{})]),P=new Ee.t({}),B=new Ee.t({}),Z=new Ee.t({}),le=new Ee.t(""),ct=new Ts(C,P,Z,le,B,nt,w,M.root);return ct.snapshot=M.root,new cu(new io(ct,[]),M)}class Ts{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(M,C,P,B,Z,le,ct,$e){this.urlSubject=M,this.paramsSubject=C,this.queryParamsSubject=P,this.fragmentSubject=B,this.dataSubject=Z,this.outlet=le,this.component=ct,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,te.T)(ln=>ln[se]))??(0,W.of)(void 0),this.url=M,this.params=C,this.queryParams=P,this.fragment=B,this.data=Z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,te.T)(M=>bt(M))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,te.T)(M=>bt(M))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(w,M,C="emptyOnly"){let P;const{routeConfig:B}=w;return P=null===M||"always"!==C&&""!==B?.path&&(M.component||M.routeConfig?.loadComponent)?{params:{...w.params},data:{...w.data},resolve:{...w.data,...w._resolvedData??{}}}:{params:{...M.params,...w.params},data:{...M.data,...w.data},resolve:{...w.data,...M.data,...B?.data,...w._resolvedData}},B&&vr(B)&&(P.resolve[se]=B.title),P}class Vi{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[se]}constructor(M,C,P,B,Z,le,ct,$e,ln){this.url=M,this.params=C,this.queryParams=P,this.fragment=B,this.data=Z,this.outlet=le,this.component=ct,this.routeConfig=$e,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class To extends Is{url;constructor(M,C){super(C),this.url=M,lu(this,C)}toString(){return Va(this._root)}}function lu(w,M){M.value._routerState=w,M.children.forEach(C=>lu(w,C))}function Va(w){const M=w.children.length>0?` { ${w.children.map(Va).join(", ")} } `:"";return`${w.value}${M}`}function ii(w){if(w.snapshot){const M=w.snapshot,C=w._futureSnapshot;w.snapshot=C,_n(M.queryParams,C.queryParams)||w.queryParamsSubject.next(C.queryParams),M.fragment!==C.fragment&&w.fragmentSubject.next(C.fragment),_n(M.params,C.params)||w.paramsSubject.next(C.params),function yn(w,M){if(w.length!==M.length)return!1;for(let C=0;C<w.length;++C)if(!_n(w[C],M[C]))return!1;return!0}(M.url,C.url)||w.urlSubject.next(C.url),_n(M.data,C.data)||w.dataSubject.next(C.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Ia(w,M){const C=_n(w.params,M.params)&&function Ke(w,M){return Dr(w,M)&&w.every((C,P)=>_n(C.parameters,M[P].parameters))}(w.url,M.url);return C&&!(!w.parent!=!M.parent)&&(!w.parent||Ia(w.parent,M.parent))}function vr(w){return"string"==typeof w.title||null===w.title}const Or=new I.nKC("");let on=(()=>{class w{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=nt;activateEvents=new I.bkB;deactivateEvents=new I.bkB;attachEvents=new I.bkB;detachEvents=new I.bkB;routerOutletData=(0,I.hFB)(void 0);parentContexts=(0,I.WQX)(Ki);location=(0,I.WQX)(I.c1b);changeDetector=(0,I.WQX)(I.gRc);inputBinder=(0,I.WQX)(Zi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(C){if(C.name){const{firstChange:P,previousValue:B}=C.name;if(P)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.wOt(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,P){this.activated=C,this._activatedRoute=P,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,P){if(this.isActivated)throw new I.wOt(4013,!1);this._activatedRoute=C;const B=this.location,le=C.snapshot.component,ct=this.parentContexts.getOrCreateContext(this.name).children,$e=new Qo(C,ct,B.injector,this.routerOutletData);this.activated=B.createComponent(le,{index:B.length,injector:$e,environmentInjector:P}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(P){return new(P||w)};static \u0275dir=I.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[I.OA$]})}return w})();class Qo{route;childContexts;parent;outletData;__ngOutletInjector(M){return new Qo(this.route,this.childContexts,M,this.outletData)}constructor(M,C,P,B){this.route=M,this.childContexts=C,this.parent=P,this.outletData=B}get(M,C){return M===Ts?this.route:M===Ki?this.childContexts:M===Or?this.outletData:this.parent.get(M,C)}}const Zi=new I.nKC("");let du=(()=>{class w{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){this.outletDataSubscriptions.get(C)?.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:P}=C,B=vt([P.queryParams,P.params,P.data]).pipe((0,ke.n)(([Z,le,ct],$e)=>(ct={...Z,...le,...ct},0===$e?(0,W.of)(ct):Promise.resolve(ct)))).subscribe(Z=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(C);const le=(0,I.HJs)(P.component);if(le)for(const{templateName:ct}of le.inputs)C.activatedComponentRef.setInput(ct,Z[ct]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,B)}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac})}return w})();function zs(w,M,C){if(C&&w.shouldReuseRoute(M.value,C.value.snapshot)){const P=C.value;P._futureSnapshot=M.value;const B=function Ta(w,M,C){return M.children.map(P=>{for(const B of C.children)if(w.shouldReuseRoute(P.value,B.value.snapshot))return zs(w,P,B);return zs(w,P)})}(w,M,C);return new io(P,B)}{if(w.shouldAttach(M.value)){const Z=w.retrieve(M.value);if(null!==Z){const le=Z.route;return le.value._futureSnapshot=M.value,le.children=M.children.map(ct=>zs(w,ct)),le}}const P=function ws(w){return new Ts(new Ee.t(w.url),new Ee.t(w.params),new Ee.t(w.queryParams),new Ee.t(w.fragment),new Ee.t(w.data),w.outlet,w.component,w)}(M.value),B=M.children.map(Z=>zs(w,Z));return new io(P,B)}}class Ws{redirectTo;navigationBehaviorOptions;constructor(M,C){this.redirectTo=M,this.navigationBehaviorOptions=C}}const Fo="ngNavigationCancelingError";function rs(w,M){const{redirectTo:C,navigationBehaviorOptions:P}=Jr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,B=Ua(!1,gt.Redirect);return B.url=C,B.navigationBehaviorOptions=P,B}function Ua(w,M){const C=new Error(`NavigationCancelingError: ${w||""}`);return C[Fo]=!0,C.cancellationCode=M,C}function Ds(w){return!!w&&w[Fo]}class ml{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(M,C,P,B,Z){this.routeReuseStrategy=M,this.futureState=C,this.currState=P,this.forwardEvent=B,this.inputBindingEnabled=Z}activate(M){const C=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,P,M),ii(this.futureState.root),this.activateChildRoutes(C,P,M)}deactivateChildRoutes(M,C,P){const B=ua(C);M.children.forEach(Z=>{const le=Z.value.outlet;this.deactivateRoutes(Z,B[le],P),delete B[le]}),Object.values(B).forEach(Z=>{this.deactivateRouteAndItsChildren(Z,P)})}deactivateRoutes(M,C,P){const B=M.value,Z=C?C.value:null;if(B===Z)if(B.component){const le=P.getContext(B.outlet);le&&this.deactivateChildRoutes(M,C,le.children)}else this.deactivateChildRoutes(M,C,P);else Z&&this.deactivateRouteAndItsChildren(C,P)}deactivateRouteAndItsChildren(M,C){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,C):this.deactivateRouteAndOutlet(M,C)}detachAndStoreRouteSubtree(M,C){const P=C.getContext(M.value.outlet),B=P&&M.value.component?P.children:C,Z=ua(M);for(const le of Object.values(Z))this.deactivateRouteAndItsChildren(le,B);if(P&&P.outlet){const le=P.outlet.detach(),ct=P.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:le,route:M,contexts:ct})}}deactivateRouteAndOutlet(M,C){const P=C.getContext(M.value.outlet),B=P&&M.value.component?P.children:C,Z=ua(M);for(const le of Object.values(Z))this.deactivateRouteAndItsChildren(le,B);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(M,C,P){const B=ua(C);M.children.forEach(Z=>{this.activateRoutes(Z,B[Z.value.outlet],P),this.forwardEvent(new lo(Z.value.snapshot))}),M.children.length&&this.forwardEvent(new Gr(M.value.snapshot))}activateRoutes(M,C,P){const B=M.value,Z=C?C.value:null;if(ii(B),B===Z)if(B.component){const le=P.getOrCreateContext(B.outlet);this.activateChildRoutes(M,C,le.children)}else this.activateChildRoutes(M,C,P);else if(B.component){const le=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ct=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),le.children.onOutletReAttached(ct.contexts),le.attachRef=ct.componentRef,le.route=ct.route.value,le.outlet&&le.outlet.attach(ct.componentRef,ct.route.value),ii(ct.route.value),this.activateChildRoutes(M,null,le.children)}else le.attachRef=null,le.route=B,le.outlet&&le.outlet.activateWith(B,le.injector),this.activateChildRoutes(M,null,le.children)}else this.activateChildRoutes(M,null,P)}}class jc{path;route;constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class hr{component;route;constructor(M,C){this.component=M,this.route=C}}function os(w,M,C){const P=w._root;return wa(P,M?M._root:null,C,[P.value])}function wo(w,M){const C=Symbol(),P=M.get(w,C);return P===C?"function"!=typeof w||(0,I.LfX)(w)?M.get(w):w:P}function wa(w,M,C,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const Z=ua(M);return w.children.forEach(le=>{(function Ba(w,M,C,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const Z=w.value,le=M?M.value:null,ct=C?C.getContext(w.value.outlet):null;if(le&&Z.routeConfig===le.routeConfig){const $e=function cr(w,M,C){if("function"==typeof C)return C(w,M);switch(C){case"pathParamsChange":return!Dr(w.url,M.url);case"pathParamsOrQueryParamsChange":return!Dr(w.url,M.url)||!_n(w.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ia(w,M)||!_n(w.queryParams,M.queryParams);default:return!Ia(w,M)}}(le,Z,Z.routeConfig.runGuardsAndResolvers);$e?B.canActivateChecks.push(new jc(P)):(Z.data=le.data,Z._resolvedData=le._resolvedData),wa(w,M,Z.component?ct?ct.children:null:C,P,B),$e&&ct&&ct.outlet&&ct.outlet.isActivated&&B.canDeactivateChecks.push(new hr(ct.outlet.component,le))}else le&&An(M,ct,B),B.canActivateChecks.push(new jc(P)),wa(w,null,Z.component?ct?ct.children:null:C,P,B)})(le,Z[le.value.outlet],C,P.concat([le.value]),B),delete Z[le.value.outlet]}),Object.entries(Z).forEach(([le,ct])=>An(ct,C.getContext(le),B)),B}function An(w,M,C){const P=ua(w),B=w.value;Object.entries(P).forEach(([Z,le])=>{An(le,B.component?M?M.children.getContext(Z):null:M,C)}),C.canDeactivateChecks.push(new hr(B.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,B))}function ho(w){return"function"==typeof w}function Wu(w){return w instanceof fn.G||"EmptyError"===w?.name}const Da=Symbol("INITIAL_VALUE");function As(){return(0,ke.n)(w=>vt(w.map(M=>M.pipe((0,Ht.s)(1),function xt(...w){const M=(0,ge.lI)(w);return(0,un.N)((C,P)=>{(M?(0,zt.x)(w,C,M):(0,zt.x)(w,C)).subscribe(P)})}(Da)))).pipe((0,te.T)(M=>{for(const C of M)if(!0!==C){if(C===Da)return Da;if(!1===C||ja(C))return C}return!0}),(0,Ut.p)(M=>M!==Da),(0,Ht.s)(1)))}function ja(w){return Jr(w)||w instanceof Ws}function za(w){return(0,En.F)((0,ft.M)(M=>{if("boolean"!=typeof M)throw rs(0,M)}),(0,te.T)(M=>!0===M))}class Vo{segmentGroup;constructor(M){this.segmentGroup=M||null}}class Do extends Error{urlTree;constructor(M){super(),this.urlTree=M}}function Ao(w){return(0,Dt.$)(new Vo(w))}class fu{urlSerializer;urlTree;constructor(M,C){this.urlSerializer=M,this.urlTree=C}lineralizeSegments(M,C){let P=[],B=C.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,W.of)(P);if(B.numberOfChildren>1||!B.children[nt])return(0,Dt.$)(new I.wOt(4e3,!1));B=B.children[nt]}}applyRedirectCommands(M,C,P,B,Z){if("string"!=typeof C){const ct=C,{queryParams:$e,fragment:ln,routeConfig:Vn,url:Qn,outlet:$r,params:eo,data:so,title:Ra}=B,bo=(0,I.N4e)(Z,()=>ct({params:eo,data:so,queryParams:$e,fragment:ln,routeConfig:Vn,url:Qn,outlet:$r,title:Ra}));if(bo instanceof Er)throw new Do(bo);C=bo}const le=this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),M,P);if("/"===C[0])throw new Do(le);return le}applyRedirectCreateUrlTree(M,C,P,B){const Z=this.createSegmentGroup(M,C.root,P,B);return new Er(Z,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(M,C){const P={};return Object.entries(M).forEach(([B,Z])=>{if("string"==typeof Z&&":"===Z[0]){const ct=Z.substring(1);P[B]=C[ct]}else P[B]=Z}),P}createSegmentGroup(M,C,P,B){const Z=this.createSegments(M,C.segments,P,B);let le={};return Object.entries(C.children).forEach(([ct,$e])=>{le[ct]=this.createSegmentGroup(M,$e,P,B)}),new Hn(Z,le)}createSegments(M,C,P,B){return C.map(Z=>":"===Z.path[0]?this.findPosParam(M,Z,B):this.findOrReturn(Z,P))}findPosParam(M,C,P){const B=P[C.path.substring(1)];if(!B)throw new I.wOt(4001,!1);return B}findOrReturn(M,C){let P=0;for(const B of C){if(B.path===M.path)return C.splice(P),B;P++}return M}}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wa(w,M,C,P,B){const Z=pu(w,M,C);return Z.matched?(P=function _s(w,M){return w.providers&&!w._injector&&(w._injector=(0,I.Ol2)(w.providers,M,`Route: ${w.path}`)),w._injector??M}(M,P),function Sr(w,M,C,P){const B=M.canMatch;if(!B||0===B.length)return(0,W.of)(!0);const Z=B.map(le=>{const ct=wo(le,w);return Bn(function Ql(w){return w&&ho(w.canMatch)}(ct)?ct.canMatch(M,C):(0,I.N4e)(w,()=>ct(M,C)))});return(0,W.of)(Z).pipe(As(),za())}(P,M,C).pipe((0,te.T)(le=>!0===le?Z:{...ss}))):(0,W.of)(Z)}function pu(w,M,C){if("**"===M.path)return function Xl(w){return{matched:!0,parameters:w.length>0?Yn(w).parameters:{},consumedSegments:w,remainingSegments:[],positionalParamSegments:{}}}(C);if(""===M.path)return"full"===M.pathMatch&&(w.hasChildren()||C.length>0)?{...ss}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const B=(M.matcher||It)(C,w,M);if(!B)return{...ss};const Z={};Object.entries(B.posParams??{}).forEach(([ct,$e])=>{Z[ct]=$e.path});const le=B.consumed.length>0?{...Z,...B.consumed[B.consumed.length-1].parameters}:Z;return{matched:!0,consumedSegments:B.consumed,remainingSegments:C.slice(B.consumed.length),parameters:le,positionalParamSegments:B.posParams??{}}}function Nn(w,M,C,P){return C.length>0&&function $c(w,M,C){return C.some(P=>as(w,M,P)&&Yi(P)!==nt)}(w,C,P)?{segmentGroup:new Hn(M,gu(P,new Hn(C,w.children))),slicedSegments:[]}:0===C.length&&function Cs(w,M,C){return C.some(P=>as(w,M,P))}(w,C,P)?{segmentGroup:new Hn(w.segments,yl(w,C,P,w.children)),slicedSegments:C}:{segmentGroup:new Hn(w.segments,w.children),slicedSegments:C}}function yl(w,M,C,P){const B={};for(const Z of C)if(as(w,M,Z)&&!P[Yi(Z)]){const le=new Hn([],{});B[Yi(Z)]=le}return{...P,...B}}function gu(w,M){const C={};C[nt]=M;for(const P of w)if(""===P.path&&Yi(P)!==nt){const B=new Hn([],{});C[Yi(P)]=B}return C}function as(w,M,C){return(!(w.hasChildren()||M.length>0)||"full"!==C.pathMatch)&&""===C.path}class mu{}class pc{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(M,C,P,B,Z,le,ct){this.injector=M,this.configLoader=C,this.rootComponentType=P,this.config=B,this.urlTree=Z,this.paramsInheritanceStrategy=le,this.urlSerializer=ct,this.applyRedirects=new fu(this.urlSerializer,this.urlTree)}noMatchError(M){return new I.wOt(4002,`'${M.segmentGroup}'`)}recognize(){const M=Nn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,te.T)(({children:C,rootSnapshot:P})=>{const B=new io(P,C),Z=new To("",B),le=function ko(w,M,C=null,P=null){return dt(Fi(w),M,C,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,Z.url=this.urlSerializer.serialize(le),{state:Z,tree:le}}))}match(M){const C=new Vi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,M,nt,C).pipe((0,te.T)(P=>({children:P,rootSnapshot:C})),ye(P=>{if(P instanceof Do)return this.urlTree=P.urlTree,this.match(P.urlTree.root);throw P instanceof Vo?this.noMatchError(P):P}))}processSegmentGroup(M,C,P,B,Z){return 0===P.segments.length&&P.hasChildren()?this.processChildren(M,C,P,Z):this.processSegment(M,C,P,P.segments,B,!0,Z).pipe((0,te.T)(le=>le instanceof io?[le]:[]))}processChildren(M,C,P,B){const Z=[];for(const le of Object.keys(P.children))"primary"===le?Z.unshift(le):Z.push(le);return(0,ce.H)(Z).pipe((0,We.H)(le=>{const ct=P.children[le],$e=function ka(w,M){const C=w.filter(P=>Yi(P)===M);return C.push(...w.filter(P=>Yi(P)!==M)),C}(C,le);return this.processSegmentGroup(M,$e,ct,le,B)}),function Ae(w,M){return(0,un.N)((0,Ie.S)(w,M,arguments.length>=2,!0))}((le,ct)=>(le.push(...ct),le)),(0,Re.U)(null),function _e(w,M){const C=arguments.length>=2;return P=>P.pipe(w?(0,Ut.p)((B,Z)=>w(B,Z,P)):je.D,et(1),C?(0,Re.U)(M):(0,yt.v)(()=>new fn.G))}(),(0,$n.Z)(le=>{if(null===le)return Ao(P);const ct=da(le);return function Yl(w){w.sort((M,C)=>M.value.outlet===nt?-1:C.value.outlet===nt?1:M.value.outlet.localeCompare(C.value.outlet))}(ct),(0,W.of)(ct)}))}processSegment(M,C,P,B,Z,le,ct){return(0,ce.H)(C).pipe((0,We.H)($e=>this.processSegmentAgainstRoute($e._injector??M,C,$e,P,B,Z,le,ct).pipe(ye(ln=>{if(ln instanceof Vo)return(0,W.of)(null);throw ln}))),(0,Lt.$)($e=>!!$e),ye($e=>{if(Wu($e))return function Ga(w,M,C){return 0===M.length&&!w.children[C]}(P,B,Z)?(0,W.of)(new mu):Ao(P);throw $e}))}processSegmentAgainstRoute(M,C,P,B,Z,le,ct,$e){return Yi(P)===le||le!==nt&&as(B,Z,P)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(M,B,P,Z,le,$e):this.allowRedirects&&ct?this.expandSegmentAgainstRouteUsingRedirect(M,B,C,P,Z,le,$e):Ao(B):Ao(B)}expandSegmentAgainstRouteUsingRedirect(M,C,P,B,Z,le,ct){const{matched:$e,parameters:ln,consumedSegments:Vn,positionalParamSegments:Qn,remainingSegments:$r}=pu(C,B,Z);if(!$e)return Ao(C);"string"==typeof B.redirectTo&&"/"===B.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const eo=new Vi(Z,ln,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yr(B),Yi(B),B.component??B._loadedComponent??null,B,Sn(B)),so=Ar(eo,ct,this.paramsInheritanceStrategy);eo.params=Object.freeze(so.params),eo.data=Object.freeze(so.data);const Ra=this.applyRedirects.applyRedirectCommands(Vn,B.redirectTo,Qn,eo,M);return this.applyRedirects.lineralizeSegments(B,Ra).pipe((0,$n.Z)(bo=>this.processSegment(M,P,C,bo.concat($r),le,!1,ct)))}matchSegmentAgainstRoute(M,C,P,B,Z,le){const ct=Wa(C,P,B,M);return"**"===P.path&&(C.children={}),ct.pipe((0,ke.n)($e=>$e.matched?this.getChildConfig(M=P._injector??M,P,B).pipe((0,ke.n)(({routes:ln})=>{const Vn=P._loadedInjector??M,{parameters:Qn,consumedSegments:$r,remainingSegments:eo}=$e,so=new Vi($r,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yr(P),Yi(P),P.component??P._loadedComponent??null,P,Sn(P)),Ra=Ar(so,le,this.paramsInheritanceStrategy);so.params=Object.freeze(Ra.params),so.data=Object.freeze(Ra.data);const{segmentGroup:bo,slicedSegments:ga}=Nn(C,$r,eo,ln);if(0===ga.length&&bo.hasChildren())return this.processChildren(Vn,ln,bo,so).pipe((0,te.T)(ao=>new io(so,ao)));if(0===ln.length&&0===ga.length)return(0,W.of)(new io(so,[]));const Za=Yi(P)===Z;return this.processSegment(Vn,ln,bo,ga,Za?nt:Z,!0,so).pipe((0,te.T)(ao=>new io(so,ao instanceof io?[ao]:[])))})):Ao(C)))}getChildConfig(M,C,P){return C.children?(0,W.of)({routes:C.children,injector:M}):C.loadChildren?void 0!==C._loadedRoutes?(0,W.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function hu(w,M,C,P){const B=M.canLoad;if(void 0===B||0===B.length)return(0,W.of)(!0);const Z=B.map(le=>{const ct=wo(le,w);return Bn(function hc(w){return w&&ho(w.canLoad)}(ct)?ct.canLoad(M,C):(0,I.N4e)(w,()=>ct(M,C)))});return(0,W.of)(Z).pipe(As(),za())}(M,C,P).pipe((0,$n.Z)(B=>B?this.configLoader.loadChildren(M,C).pipe((0,ft.M)(Z=>{C._loadedRoutes=Z.routes,C._loadedInjector=Z.injector})):function qn(){return(0,Dt.$)(Ua(!1,gt.GuardRejected))}())):(0,W.of)({routes:[],injector:M})}}function _u(w){const M=w.value.routeConfig;return M&&""===M.path}function da(w){const M=[],C=new Set;for(const P of w){if(!_u(P)){M.push(P);continue}const B=M.find(Z=>P.value.routeConfig===Z.value.routeConfig);void 0!==B?(B.children.push(...P.children),C.add(B)):M.push(P)}for(const P of C){const B=da(P.children);M.push(new io(P.value,B))}return M.filter(P=>!C.has(P))}function Yr(w){return w.data||{}}function Sn(w){return w.resolve||{}}function zc(w){const M=w.children.map(C=>zc(C)).flat();return[w,...M]}function Ca(w){return(0,ke.n)(M=>{const C=w(M);return C?(0,ce.H)(C).pipe((0,te.T)(()=>M)):(0,W.of)(M)})}let Co=(()=>{class w{buildTitle(C){let P,B=C.root;for(;void 0!==B;)P=this.getResolvedTitleForRoute(B)??P,B=B.children.find(Z=>Z.outlet===nt);return P}getResolvedTitleForRoute(C){return C.data[se]}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:()=>(0,I.WQX)(vu),providedIn:"root"})}return w})(),vu=(()=>{class w extends Co{title;constructor(C){super(),this.title=C}updateTitle(C){const P=this.buildTitle(C);void 0!==P&&this.title.setTitle(P)}static \u0275fac=function(P){return new(P||w)(I.KVO(Ze.hE))};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Qs=new I.nKC("",{providedIn:"root",factory:()=>({})});let Eu=(()=>{class w{static \u0275fac=function(P){return new(P||w)};static \u0275cmp=I.VBU({type:w,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(P,B){1&P&&I.nrm(0,"router-outlet")},dependencies:[on],encapsulation:2})}return w})();function b(w){const M=w.children&&w.children.map(b),C=M?{...w,children:M}:{...w};return!C.component&&!C.loadComponent&&(M||C.loadChildren)&&C.outlet&&C.outlet!==nt&&(C.component=Eu),C}const q=new I.nKC("");let k=(()=>{class w{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,I.WQX)(I.Ql9);loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,W.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const P=Bn(C.loadComponent()).pipe((0,te.T)(_t),(0,ft.M)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=Z}),(0,Oe.j)(()=>{this.componentLoaders.delete(C)})),B=new Tt.G(P,()=>new Vt.B).pipe((0,ht.B)());return this.componentLoaders.set(C,B),B}loadChildren(C,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,W.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const Z=function $(w,M,C,P){return Bn(w.loadChildren()).pipe((0,te.T)(_t),(0,$n.Z)(B=>B instanceof I.Co$||Array.isArray(B)?(0,W.of)(B):(0,ce.H)(M.compileModuleAsync(B))),(0,te.T)(B=>{P&&P(w);let Z,le,ct=!1;return Array.isArray(B)?(le=B,!0):(Z=B.create(C).injector,le=Z.get(q,[],{optional:!0,self:!0}).flat()),{routes:le.map(b),injector:Z}}))}(P,this.compiler,C,this.onLoadEndListener).pipe((0,Oe.j)(()=>{this.childrenLoaders.delete(P)})),le=new Tt.G(Z,()=>new Vt.B).pipe((0,ht.B)());return this.childrenLoaders.set(P,le),le}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function _t(w){return function pe(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ot=(()=>{class w{static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:()=>(0,I.WQX)(tn),providedIn:"root"})}return w})(),tn=(()=>{class w{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,P){return C}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Dn=new I.nKC(""),Lr=new I.nKC("");function Kr(w,M,C){const P=w.get(Lr),B=w.get(cn.qQ);return w.get(I.SKi).runOutsideAngular(()=>{if(!B.startViewTransition||P.skipNextTransition)return P.skipNextTransition=!1,new Promise(ln=>setTimeout(ln));let Z;const le=new Promise(ln=>{Z=ln}),ct=B.startViewTransition(()=>(Z(),function fr(w){return new Promise(M=>{(0,I.mal)({read:()=>setTimeout(M)},{injector:w})})}(w))),{onViewTransitionCreated:$e}=P;return $e&&(0,I.N4e)(w,()=>$e({transition:ct,from:M,to:C})),le})}const ni=new I.nKC("");let br=(()=>{class w{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Vt.B;transitionAbortSubject=new Vt.B;configLoader=(0,I.WQX)(k);environmentInjector=(0,I.WQX)(I.uvJ);destroyRef=(0,I.WQX)(I.abz);urlSerializer=(0,I.WQX)(rr);rootContexts=(0,I.WQX)(Ki);location=(0,I.WQX)(cn.aZ);inputBindingEnabled=null!==(0,I.WQX)(Zi,{optional:!0});titleStrategy=(0,I.WQX)(Co);options=(0,I.WQX)(Qs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,I.WQX)(Ot);createViewTransition=(0,I.WQX)(Dn,{optional:!0});navigationErrorHandler=(0,I.WQX)(ni,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,W.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=B=>this.events.next(new bi(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Ir(B)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(C){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:P})}setupNavigations(C,P,B){return this.transitions=new Ee.t({id:0,currentUrlTree:P,currentRawUrl:P,extractedUrl:this.urlHandlingStrategy.extract(P),urlAfterRedirects:this.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:X,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ut.p)(Z=>0!==Z.id),(0,te.T)(Z=>({...Z,extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,ke.n)(Z=>{let le=!1,ct=!1;return(0,W.of)(Z).pipe((0,ke.n)($e=>{if(this.navigationId>Z.id)return this.cancelNavigationTransition(Z,"",gt.SupersededByNewNavigation),Ye.w;this.currentTransition=Z,this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,targetBrowserUrl:"string"==typeof $e.extras.browserUrl?this.urlSerializer.parse($e.extras.browserUrl):$e.extras.browserUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ln=!C.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ln&&"reload"!==($e.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const Qn="";return this.events.next(new nr($e.id,this.urlSerializer.serialize($e.rawUrl),Qn,Tn.IgnoredSameUrlNavigation)),$e.resolve(!1),Ye.w}if(this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,W.of)($e).pipe((0,ke.n)(Qn=>{const $r=this.transitions?.getValue();return this.events.next(new st(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),Qn.source,Qn.restoredState)),$r!==this.transitions?.getValue()?Ye.w:Promise.resolve(Qn)}),function us(w,M,C,P,B,Z){return(0,$n.Z)(le=>function Hc(w,M,C,P,B,Z,le="emptyOnly"){return new pc(w,M,C,P,B,le,Z).recognize()}(w,M,C,P,le.extractedUrl,B,Z).pipe((0,te.T)(({state:ct,tree:$e})=>({...le,targetSnapshot:ct,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ft.M)(Qn=>{Z.targetSnapshot=Qn.targetSnapshot,Z.urlAfterRedirects=Qn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects};const $r=new wr(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next($r)}));if(ln&&this.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:Qn,extractedUrl:$r,source:eo,restoredState:so,extras:Ra}=$e,bo=new st(Qn,this.urlSerializer.serialize($r),eo,so);this.events.next(bo);const ga=zu(this.rootComponentType).snapshot;return this.currentTransition=Z={...$e,targetSnapshot:ga,urlAfterRedirects:$r,extras:{...Ra,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$r,(0,W.of)(Z)}{const Qn="";return this.events.next(new nr($e.id,this.urlSerializer.serialize($e.extractedUrl),Qn,Tn.IgnoredByUrlHandlingStrategy)),$e.resolve(!1),Ye.w}}),(0,ft.M)($e=>{const ln=new Kn($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(ln)}),(0,te.T)($e=>(this.currentTransition=Z={...$e,guards:os($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},Z)),function Aa(w,M){return(0,$n.Z)(C=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:Z,canDeactivateChecks:le}}=C;return 0===le.length&&0===Z.length?(0,W.of)({...C,guardsResult:!0}):function $a(w,M,C,P){return(0,ce.H)(w).pipe((0,$n.Z)(B=>function po(w,M,C,P,B){const Z=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,W.of)(!0);const le=Z.map(ct=>{const $e=Es(M)??B,ln=wo(ct,$e);return Bn(function Gs(w){return w&&ho(w.canDeactivate)}(ln)?ln.canDeactivate(w,M,C,P):(0,I.N4e)($e,()=>ln(w,M,C,P))).pipe((0,Lt.$)())});return(0,W.of)(le).pipe(As())}(B.component,B.route,C,M,P)),(0,Lt.$)(B=>!0!==B,!0))}(le,P,B,w).pipe((0,$n.Z)(ct=>ct&&function Xo(w){return"boolean"==typeof w}(ct)?function Ha(w,M,C,P){return(0,ce.H)(M).pipe((0,We.H)(B=>(0,zt.x)(function xn(w,M){return null!==w&&M&&M(new ro(w)),(0,W.of)(!0)}(B.route.parent,P),function Ti(w,M){return null!==w&&M&&M(new ys(w)),(0,W.of)(!0)}(B.route,P),function Gu(w,M,C){const P=M[M.length-1],Z=M.slice(0,M.length-1).reverse().map(le=>function ai(w){const M=w.routeConfig?w.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:w,guards:M}:null}(le)).filter(le=>null!==le).map(le=>(0,dn.v)(()=>{const ct=le.guards.map($e=>{const ln=Es(le.node)??C,Vn=wo($e,ln);return Bn(function fo(w){return w&&ho(w.canActivateChild)}(Vn)?Vn.canActivateChild(P,w):(0,I.N4e)(ln,()=>Vn(P,w))).pipe((0,Lt.$)())});return(0,W.of)(ct).pipe(As())}));return(0,W.of)(Z).pipe(As())}(w,B.path,C),function Ks(w,M,C){const P=M.routeConfig?M.routeConfig.canActivate:null;if(!P||0===P.length)return(0,W.of)(!0);const B=P.map(Z=>(0,dn.v)(()=>{const le=Es(M)??C,ct=wo(Z,le);return Bn(function ca(w){return w&&ho(w.canActivate)}(ct)?ct.canActivate(M,w):(0,I.N4e)(le,()=>ct(M,w))).pipe((0,Lt.$)())}));return(0,W.of)(B).pipe(As())}(w,B.route,C))),(0,Lt.$)(B=>!0!==B,!0))}(P,Z,w,M):(0,W.of)(ct)),(0,te.T)(ct=>({...C,guardsResult:ct})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,ft.M)($e=>{if(Z.guardsResult=$e.guardsResult,$e.guardsResult&&"boolean"!=typeof $e.guardsResult)throw rs(0,$e.guardsResult);const ln=new Xi($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(ln)}),(0,Ut.p)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",gt.GuardRejected),!1)),Ca($e=>{if($e.guards.canActivateChecks.length)return(0,W.of)($e).pipe((0,ft.M)(ln=>{const Vn=new _r(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Vn)}),(0,ke.n)(ln=>{let Vn=!1;return(0,W.of)(ln).pipe(function qs(w,M){return(0,$n.Z)(C=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=C;if(!B.length)return(0,W.of)(C);const Z=new Set(B.map($e=>$e.route)),le=new Set;for(const $e of Z)if(!le.has($e))for(const ln of zc($e))le.add(ln);let ct=0;return(0,ce.H)(le).pipe((0,We.H)($e=>Z.has($e)?function Wn(w,M,C,P){const B=w.routeConfig,Z=w._resolve;return void 0!==B?.title&&!vr(B)&&(Z[se]=B.title),function jr(w,M,C,P){const B=Pt(w);if(0===B.length)return(0,W.of)({});const Z={};return(0,ce.H)(B).pipe((0,$n.Z)(le=>function Ka(w,M,C,P){const B=Es(M)??P,Z=wo(w,B);return Bn(Z.resolve?Z.resolve(M,C):(0,I.N4e)(B,()=>Z(M,C)))}(w[le],M,C,P).pipe((0,Lt.$)(),(0,ft.M)(ct=>{if(ct instanceof Ws)throw rs(new lr,ct);Z[le]=ct}))),et(1),(0,te.T)(()=>Z),ye(le=>Wu(le)?Ye.w:(0,Dt.$)(le)))}(Z,w,M,P).pipe((0,te.T)(le=>(w._resolvedData=le,w.data=Ar(w,w.parent,C).resolve,null)))}($e,P,w,M):($e.data=Ar($e,$e.parent,w).resolve,(0,W.of)(void 0))),(0,ft.M)(()=>ct++),et(1),(0,$n.Z)($e=>ct===le.size?(0,W.of)(C):Ye.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ft.M)({next:()=>Vn=!0,complete:()=>{Vn||this.cancelNavigationTransition(ln,"",gt.NoDataFromResolver)}}))}),(0,ft.M)(ln=>{const Vn=new Mn(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(Vn)}))}),Ca($e=>{const ln=Vn=>{const Qn=[];Vn.routeConfig?.loadComponent&&!Vn.routeConfig._loadedComponent&&Qn.push(this.configLoader.loadComponent(Vn.routeConfig).pipe((0,ft.M)($r=>{Vn.component=$r}),(0,te.T)(()=>{})));for(const $r of Vn.children)Qn.push(...ln($r));return Qn};return vt(ln($e.targetSnapshot.root)).pipe((0,Re.U)(null),(0,Ht.s)(1))}),Ca(()=>this.afterPreactivation()),(0,ke.n)(()=>{const{currentSnapshot:$e,targetSnapshot:ln}=Z,Vn=this.createViewTransition?.(this.environmentInjector,$e.root,ln.root);return Vn?(0,ce.H)(Vn).pipe((0,te.T)(()=>Z)):(0,W.of)(Z)}),(0,te.T)($e=>{const ln=function lc(w,M,C){const P=zs(w,M._root,C?C._root:void 0);return new cu(P,M)}(C.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=Z={...$e,targetRouterState:ln},this.currentNavigation.targetRouterState=ln,Z}),(0,ft.M)(()=>{this.events.next(new Io)}),((w,M,C,P)=>(0,te.T)(B=>(new ml(M,B.targetRouterState,B.currentRouterState,C,P).activate(w),B)))(this.rootContexts,C.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,Ht.s)(1),(0,ft.M)({next:$e=>{le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pt($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),this.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{le=!0}}),function Wt(w){return(0,un.N)((M,C)=>{(0,Un.Tg)(w).subscribe((0,He._)(C,()=>C.complete(),ut.l)),!C.closed&&M.subscribe(C)})}(this.transitionAbortSubject.pipe((0,ft.M)($e=>{throw $e}))),(0,Oe.j)(()=>{!le&&!ct&&this.cancelNavigationTransition(Z,"",gt.SupersededByNewNavigation),this.currentTransition?.id===Z.id&&(this.currentNavigation=null,this.currentTransition=null)}),ye($e=>{if(this.destroyed)return Z.resolve(!1),Ye.w;if(ct=!0,Ds($e))this.events.next(new gn(Z.id,this.urlSerializer.serialize(Z.extractedUrl),$e.message,$e.cancellationCode)),function is(w){return Ds(w)&&Jr(w.url)}($e)?this.events.next(new ri($e.url,$e.navigationBehaviorOptions)):Z.resolve(!1);else{const ln=new yr(Z.id,this.urlSerializer.serialize(Z.extractedUrl),$e,Z.targetSnapshot??void 0);try{const Vn=(0,I.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ln));if(!(Vn instanceof Ws))throw this.events.next(ln),$e;{const{message:Qn,cancellationCode:$r}=rs(0,Vn);this.events.next(new gn(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Qn,$r)),this.events.next(new ri(Vn.redirectTo,Vn.navigationBehaviorOptions))}}catch(Vn){this.options.resolveNavigationPromiseOnError?Z.resolve(!1):Z.reject(Vn)}}return Ye.w}))}))}cancelNavigationTransition(C,P,B){const Z=new gn(C.id,this.urlSerializer.serialize(C.extractedUrl),P,B);this.events.next(Z),C.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const C=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),P=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return C.toString()!==P?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function ei(w){return w!==X}let Xs=(()=>{class w{static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:()=>(0,I.WQX)(Uo),providedIn:"root"})}return w})();class pi{shouldDetach(M){return!1}store(M,C){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,C){return M.routeConfig===C.routeConfig}}let Uo=(()=>{class w extends pi{static \u0275fac=(()=>{let C;return function(B){return(C||(C=I.xGo(w)))(B||w)}})();static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),qr=(()=>{class w{static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:()=>(0,I.WQX)(Ys),providedIn:"root"})}return w})(),Ys=(()=>{class w extends qr{location=(0,I.WQX)(cn.aZ);urlSerializer=(0,I.WQX)(rr);options=(0,I.WQX)(Qs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=(0,I.WQX)(Ot);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Er;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=zu(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(C){return this.location.subscribe(P=>{"popstate"===P.type&&C(P.url,P.state)})}handleRouterEvent(C,P){if(C instanceof st)this.stateMemento=this.createStateMemento();else if(C instanceof nr)this.rawUrlTree=P.initialUrl;else if(C instanceof wr){if("eager"===this.urlUpdateStrategy&&!P.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl);this.setBrowserUrl(P.targetBrowserUrl??B,P)}}else C instanceof Io?(this.currentUrlTree=P.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&!P.extras.skipLocationChange&&this.setBrowserUrl(P.targetBrowserUrl??this.rawUrlTree,P)):C instanceof gn&&(C.code===gt.GuardRejected||C.code===gt.NoDataFromResolver)?this.restoreHistory(P):C instanceof yr?this.restoreHistory(P,!0):C instanceof pt&&(this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId)}setBrowserUrl(C,P){const B=C instanceof Er?this.urlSerializer.serialize(C):C;if(this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl){const le={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(B,"",le)}else{const Z={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(B,"",Z)}}restoreHistory(C,P=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-this.browserPageId;0!==Z?this.location.historyGo(Z):this.currentUrlTree===C.finalUrl&&0===Z&&(this.resetState(C),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,P){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:P}:{navigationId:C}}static \u0275fac=(()=>{let C;return function(B){return(C||(C=I.xGo(w)))(B||w)}})();static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function hn(w,M){w.events.pipe((0,Ut.p)(C=>C instanceof pt||C instanceof gn||C instanceof yr||C instanceof nr),(0,te.T)(C=>C instanceof pt||C instanceof nr?0:C instanceof gn&&(C.code===gt.Redirect||C.code===gt.SupersededByNewNavigation)?2:1),(0,Ut.p)(C=>2!==C),(0,Ht.s)(1)).subscribe(()=>{M()})}const cs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,I.WQX)(I.H3F);stateManager=(0,I.WQX)(qr);options=(0,I.WQX)(Qs,{optional:!0})||{};pendingTasks=(0,I.WQX)(I.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,I.WQX)(br);urlSerializer=(0,I.WQX)(rr);location=(0,I.WQX)(cn.aZ);urlHandlingStrategy=(0,I.WQX)(Ot);_events=new Vt.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,I.WQX)(Xs);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,I.WQX)(q,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,I.WQX)(Zi,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:C=>{this.console.warn(C)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qt.yU;subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(P=>{try{const B=this.navigationTransitions.currentTransition,Z=this.navigationTransitions.currentNavigation;if(null!==B&&null!==Z)if(this.stateManager.handleRouterEvent(P,Z),P instanceof gn&&P.code!==gt.Redirect&&P.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(P instanceof pt)this.navigated=!0;else if(P instanceof ri){const le=P.navigationBehaviorOptions,ct=this.urlHandlingStrategy.merge(P.url,B.currentRawUrl),$e={browserUrl:B.extras.browserUrl,info:B.extras.info,skipLocationChange:B.extras.skipLocationChange,replaceUrl:B.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ei(B.source),...le};this.scheduleNavigation(ct,X,null,$e,{resolve:B.resolve,reject:B.reject,promise:B.promise})}(function Iu(w){return!(w instanceof Io||w instanceof ri)})(P)&&this._events.next(P)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),X,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((C,P)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(C,"popstate",P)},0)})}navigateToSyncWithBrowser(C,P,B){const Z={replaceUrl:!0},le=B?.navigationId?B:null;if(B){const $e={...B};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(Z.state=$e)}const ct=this.parseUrl(C);this.scheduleNavigation(ct,P,le,Z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(b),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,P={}){const{relativeTo:B,queryParams:Z,fragment:le,queryParamsHandling:ct,preserveFragment:$e}=P,ln=$e?this.currentUrlTree.fragment:le;let Qn,Vn=null;switch(ct??this.options.defaultQueryParamsHandling){case"merge":Vn={...this.currentUrlTree.queryParams,...Z};break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=Z||null}null!==Vn&&(Vn=this.removeEmptyProps(Vn));try{Qn=Fi(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||"/"!==C[0][0])&&(C=[]),Qn=this.currentUrlTree.root}return dt(Qn,C,Vn,ln??null)}navigateByUrl(C,P={skipLocationChange:!1}){const B=Jr(C)?C:this.parseUrl(C),Z=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(Z,X,null,P)}navigate(C,P={skipLocationChange:!1}){return function Ch(w){for(let M=0;M<w.length;M++)if(null==w[M])throw new I.wOt(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,P),P)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){try{return this.urlSerializer.parse(C)}catch{return this.urlSerializer.parse("/")}}isActive(C,P){let B;if(B=!0===P?{...cs}:!1===P?{...Sa}:P,Jr(C))return xr(this.currentUrlTree,C,B);const Z=this.parseUrl(C);return xr(this.currentUrlTree,Z,B)}removeEmptyProps(C){return Object.entries(C).reduce((P,[B,Z])=>(null!=Z&&(P[B]=Z),P),{})}scheduleNavigation(C,P,B,Z,le){if(this.disposed)return Promise.resolve(!1);let ct,$e,ln;le?(ct=le.resolve,$e=le.reject,ln=le.promise):ln=new Promise((Qn,$r)=>{ct=Qn,$e=$r});const Vn=this.pendingTasks.add();return hn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:Z,resolve:ct,reject:$e,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(Qn=>Promise.reject(Qn))}static \u0275fac=function(P){return new(P||w)};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ss=(()=>{class w{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Vt.B;constructor(C,P,B,Z,le,ct){this.router=C,this.route=P,this.tabIndexAttribute=B,this.renderer=Z,this.el=le,this.locationStrategy=ct;const $e=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=C.events.subscribe(ln=>{ln instanceof pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(C){null==C?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Jr(C)||Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0"))}onClick(C,P,B,Z,le){const ct=this.urlTree;return!!(null===ct||this.isAnchorElement&&(0!==C||P||B||Z||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ct,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const C=this.urlTree;this.href=null!==C&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(C)):null;const P=null===this.href?null:(0,I.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",P)}applyAttributeValue(C,P){const B=this.renderer,Z=this.el.nativeElement;null!==P?B.setAttribute(Z,C,P):B.removeAttribute(Z,C)}get urlTree(){return null===this.routerLinkInput?null:Jr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(P){return new(P||w)(I.rXU(Ji),I.rXU(Ts),I.kS0("tabindex"),I.rXU(I.sFG),I.rXU(I.aKT),I.rXU(cn.hb))};static \u0275dir=I.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,B){1&P&&I.bIt("click",function(le){return B.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&P&&I.BMQ("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",I.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",I.L39],replaceUrl:[2,"replaceUrl","replaceUrl",I.L39],routerLink:"routerLink"},features:[I.GFd,I.OA$]})}return w})();class Ku{}let ui=(()=>{class w{router;injector;preloadingStrategy;loader;subscription;constructor(C,P,B,Z,le){this.router=C,this.injector=B,this.preloadingStrategy=Z,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ut.p)(C=>C instanceof pt),(0,We.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,P){const B=[];for(const Z of P){Z.providers&&!Z._injector&&(Z._injector=(0,I.Ol2)(Z.providers,C,`Route: ${Z.path}`));const le=Z._injector??C,ct=Z._loadedInjector??le;(Z.loadChildren&&!Z._loadedRoutes&&void 0===Z.canLoad||Z.loadComponent&&!Z._loadedComponent)&&B.push(this.preloadConfig(le,Z)),(Z.children||Z._loadedRoutes)&&B.push(this.processRoutes(ct,Z.children??Z._loadedRoutes))}return(0,ce.H)(B).pipe((0,wt.U)())}preloadConfig(C,P){return this.preloadingStrategy.preload(P,()=>{let B;B=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(C,P):(0,W.of)(null);const Z=B.pipe((0,$n.Z)(le=>null===le?(0,W.of)(void 0):(P._loadedRoutes=le.routes,P._loadedInjector=le.injector,this.processRoutes(le.injector??C,le.routes))));if(P.loadComponent&&!P._loadedComponent){const le=this.loader.loadComponent(P);return(0,ce.H)([Z,le]).pipe((0,wt.U)())}return Z})}static \u0275fac=function(P){return new(P||w)(I.KVO(Ji),I.KVO(I.Ql9),I.KVO(I.uvJ),I.KVO(Ku),I.KVO(k))};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Qu=new I.nKC("");let oo=(()=>{class w{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(C,P,B,Z,le={}){this.urlSerializer=C,this.transitions=P,this.viewportScroller=B,this.zone=Z,this.options=le,le.scrollPositionRestoration||="disabled",le.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof st?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof pt?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof nr&&C.code===Tn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Gi&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gi(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(P){I.QTQ()};static \u0275prov=I.jDH({token:w,factory:w.\u0275fac})}return w})();function Qr(w,...M){return(0,I.EmA)([{provide:q,multi:!0,useValue:w},[],{provide:Ts,useFactory:mc,deps:[Ji]},{provide:I.iLQ,multi:!0,useFactory:Gc},M.map(C=>C.\u0275providers)])}function mc(w){return w.routerState.root}function ci(w,M){return{\u0275kind:w,\u0275providers:M}}function Gc(){const w=(0,I.WQX)(I.zZn);return M=>{const C=w.get(I.o8S);if(M!==C.components[0])return;const P=w.get(Ji),B=w.get(go);1===w.get(wu)&&P.initialNavigation(),w.get(bs,null,I.$GK.Optional)?.setUpPreloading(),w.get(Qu,null,I.$GK.Optional)?.init(),P.resetRootComponentType(C.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const go=new I.nKC("",{factory:()=>new Vt.B}),wu=new I.nKC("",{providedIn:"root",factory:()=>1}),bs=new I.nKC("");function Fn(w){return ci(0,[{provide:bs,useExisting:ui},{provide:Ku,useExisting:w}])}function Bi(w){return ci(9,[{provide:Dn,useValue:Kr},{provide:Lr,useValue:{skipNextTransition:!!w?.skipInitialTransition,...w}}])}const $i=[cn.aZ,{provide:rr,useClass:lr},Ji,Ki,{provide:Ts,useFactory:mc,deps:[Ji]},k,[]];let qi=(()=>{class w{constructor(){}static forRoot(C,P){return{ngModule:w,providers:[$i,[],{provide:q,multi:!0,useValue:C},[],P?.errorHandler?{provide:ni,useValue:P.errorHandler}:[],{provide:Qs,useValue:P||{}},P?.useHash?{provide:cn.hb,useClass:cn.fw}:{provide:cn.hb,useClass:cn.Sm},{provide:Qu,useFactory:()=>{const w=(0,I.WQX)(cn.Xr),M=(0,I.WQX)(I.SKi),C=(0,I.WQX)(Qs),P=(0,I.WQX)(br),B=(0,I.WQX)(rr);return C.scrollOffset&&w.setOffset(C.scrollOffset),new oo(B,P,w,M,C)}},P?.preloadingStrategy?Fn(P.preloadingStrategy).\u0275providers:[],P?.initialNavigation?Au(P):[],P?.bindToComponentInputs?ci(8,[du,{provide:Zi,useExisting:du}]).\u0275providers:[],P?.enableViewTransitions?Bi().\u0275providers:[],[{provide:So,useFactory:Gc},{provide:I.iLQ,multi:!0,useExisting:So}]]}}static forChild(C){return{ngModule:w,providers:[{provide:q,multi:!0,useValue:C}]}}static \u0275fac=function(P){return new(P||w)};static \u0275mod=I.$C({type:w});static \u0275inj=I.G2t({})}return w})();function Au(w){return["disabled"===w.initialNavigation?ci(3,[{provide:I.hnV,multi:!0,useFactory:()=>{const M=(0,I.WQX)(Ji);return()=>{M.setUpLocationChangeListener()}}},{provide:wu,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?ci(2,[{provide:wu,useValue:0},{provide:I.hnV,multi:!0,deps:[I.zZn],useFactory:M=>{const C=M.get(cn.hj,Promise.resolve());return()=>C.then(()=>new Promise(P=>{const B=M.get(Ji),Z=M.get(go);hn(B,()=>{P(!0)}),M.get(br).afterPreactivation=()=>(P(!0),Z.closed?(0,W.of)(void 0):Z),B.initialNavigation()}))}}]).\u0275providers:[]]}const So=new I.nKC("")},7852:(an,Je,V)=>{V.d(Je,{MF:()=>lr,j6:()=>Cn,xZ:()=>Hn,om:()=>gr,Sx:()=>Si,Dk:()=>hi,Wp:()=>zn,KO:()=>ve});var I=V(467),z=V(1362),ce=V(8041),W=V(1076);let Ue,Ne;const ge=new WeakMap,fe=new WeakMap,He=new WeakMap,St=new WeakMap,vt=new WeakMap;let fn={get(dt,Ge,Ct){if(dt instanceof IDBTransaction){if("done"===Ge)return fe.get(dt);if("objectStoreNames"===Ge)return dt.objectStoreNames||He.get(dt);if("store"===Ge)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return Dt(dt[Ge])},set:(dt,Ge,Ct)=>(dt[Ge]=Ct,!0),has:(dt,Ge)=>dt instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in dt};function En(dt){return"function"==typeof dt?function dn(dt){return dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(dt)?function(...Ge){return dt.apply(Ye(this),Ge),Dt(ge.get(this))}:function(...Ge){return Dt(dt.apply(Ye(this),Ge))}:function(Ge,...Ct){const nn=dt.call(Ye(this),Ge,...Ct);return He.set(nn,Ge.sort?Ge.sort():[Ge]),Dt(nn)}}(dt):(dt instanceof IDBTransaction&&function mn(dt){if(fe.has(dt))return;const Ge=new Promise((Ct,nn)=>{const Ln=()=>{dt.removeEventListener("complete",Pn),dt.removeEventListener("error",$t),dt.removeEventListener("abort",$t)},Pn=()=>{Ct(),Ln()},$t=()=>{nn(dt.error||new DOMException("AbortError","AbortError")),Ln()};dt.addEventListener("complete",Pn),dt.addEventListener("error",$t),dt.addEventListener("abort",$t)});fe.set(dt,Ge)}(dt),((dt,Ge)=>Ge.some(Ct=>dt instanceof Ct))(dt,function je(){return Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(dt,fn):dt)}function Dt(dt){if(dt instanceof IDBRequest)return function At(dt){const Ge=new Promise((Ct,nn)=>{const Ln=()=>{dt.removeEventListener("success",Pn),dt.removeEventListener("error",$t)},Pn=()=>{Ct(Dt(dt.result)),Ln()},$t=()=>{nn(dt.error),Ln()};dt.addEventListener("success",Pn),dt.addEventListener("error",$t)});return Ge.then(Ct=>{Ct instanceof IDBCursor&&ge.set(Ct,dt)}).catch(()=>{}),vt.set(Ge,dt),Ge}(dt);if(St.has(dt))return St.get(dt);const Ge=En(dt);return Ge!==dt&&(St.set(dt,Ge),vt.set(Ge,dt)),Ge}const Ye=dt=>vt.get(dt),qt=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],te=new Map;function ke(dt,Ge){if(!(dt instanceof IDBDatabase)||Ge in dt||"string"!=typeof Ge)return;if(te.get(Ge))return te.get(Ge);const Ct=Ge.replace(/FromIndex$/,""),nn=Ge!==Ct,Ln=cn.includes(Ct);if(!(Ct in(nn?IDBIndex:IDBObjectStore).prototype)||!Ln&&!qt.includes(Ct))return;const Pn=function(){var $t=(0,I.A)(function*(kt,...pn){const rn=this.transaction(kt,Ln?"readwrite":"readonly");let Br=rn.store;return nn&&(Br=Br.index(pn.shift())),(yield Promise.all([Br[Ct](...pn),Ln&&rn.done]))[0]});return function(pn){return $t.apply(this,arguments)}}();return te.set(Ge,Pn),Pn}!function zt(dt){fn=dt(fn)}(dt=>({...dt,get:(Ge,Ct,nn)=>ke(Ge,Ct)||dt.get(Ge,Ct,nn),has:(Ge,Ct)=>!!ke(Ge,Ct)||dt.has(Ge,Ct)}));class Ht{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function un(dt){const Ge=dt.getComponent();return"VERSION"===Ge?.type}(Ct)){const nn=Ct.getImmediate();return`${nn.library}/${nn.version}`}return null}).filter(Ct=>Ct).join(" ")}}const xt="@firebase/app",Ut="0.10.18",$n=new ce.Vy("@firebase/app"),Lt="@firebase/app-compat",We="@firebase/analytics-compat",ft="@firebase/analytics",Un="@firebase/app-check-compat",ye="@firebase/app-check",Ie="@firebase/auth",Ae="@firebase/auth-compat",Re="@firebase/database",et="@firebase/data-connect",yt="@firebase/database-compat",_e="@firebase/functions",Oe="@firebase/functions-compat",ht="@firebase/installations",ut="@firebase/installations-compat",Wt="@firebase/messaging",wt="@firebase/messaging-compat",Ze="@firebase/performance",nt="@firebase/performance-compat",se="@firebase/remote-config",Te="@firebase/remote-config-compat",bt="@firebase/storage",It="@firebase/storage-compat",yn="@firebase/firestore",_n="@firebase/vertexai",Pt="@firebase/firestore-compat",er="firebase",Bn="[DEFAULT]",Pr={[xt]:"fire-core",[Lt]:"fire-core-compat",[ft]:"fire-analytics",[We]:"fire-analytics-compat",[ye]:"fire-app-check",[Un]:"fire-app-check-compat",[Ie]:"fire-auth",[Ae]:"fire-auth-compat",[Re]:"fire-rtdb",[et]:"fire-data-connect",[yt]:"fire-rtdb-compat",[_e]:"fire-fn",[Oe]:"fire-fn-compat",[ht]:"fire-iid",[ut]:"fire-iid-compat",[Wt]:"fire-fcm",[wt]:"fire-fcm-compat",[Ze]:"fire-perf",[nt]:"fire-perf-compat",[se]:"fire-rc",[Te]:"fire-rc-compat",[bt]:"fire-gcs",[It]:"fire-gcs-compat",[yn]:"fire-fst",[Pt]:"fire-fst-compat",[_n]:"fire-vertex","fire-js":"fire-js",[er]:"fire-js-all"},tr=new Map,xr=new Map,ir=new Map;function Wi(dt,Ge){try{dt.container.addComponent(Ge)}catch(Ct){$n.debug(`Component ${Ge.name} failed to register with FirebaseApp ${dt.name}`,Ct)}}function gr(dt){const Ge=dt.name;if(ir.has(Ge))return $n.debug(`There were multiple attempts to register component ${Ge}.`),!1;ir.set(Ge,dt);for(const Ct of tr.values())Wi(Ct,dt);for(const Ct of xr.values())Wi(Ct,dt);return!0}function Cn(dt,Ge){const Ct=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),dt.container.getProvider(Ge)}function Hn(dt){return void 0!==dt.settings}const Dr=new W.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class zr{constructor(Ge,Ct,nn){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=nn,this.container.addComponent(new z.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const lr="11.2.0";function zn(dt,Ge={}){let Ct=dt;"object"!=typeof Ge&&(Ge={name:Ge});const nn=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},Ge),Ln=nn.name;if("string"!=typeof Ln||!Ln)throw Dr.create("bad-app-name",{appName:String(Ln)});if(Ct||(Ct=(0,W.T9)()),!Ct)throw Dr.create("no-options");const Pn=tr.get(Ln);if(Pn){if((0,W.bD)(Ct,Pn.options)&&(0,W.bD)(nn,Pn.config))return Pn;throw Dr.create("duplicate-app",{appName:Ln})}const $t=new z.h1(Ln);for(const pn of ir.values())$t.addComponent(pn);const kt=new zr(Ct,nn,$t);return tr.set(Ln,kt),kt}function Si(dt=Bn){const Ge=tr.get(dt);if(!Ge&&dt===Bn&&(0,W.T9)())return zn();if(!Ge)throw Dr.create("no-app",{appName:dt});return Ge}function hi(){return Array.from(tr.values())}function ve(dt,Ge,Ct){var nn;let Ln=null!==(nn=Pr[dt])&&void 0!==nn?nn:dt;Ct&&(Ln+=`-${Ct}`);const Pn=Ln.match(/\s|\//),$t=Ge.match(/\s|\//);if(Pn||$t){const kt=[`Unable to register library "${Ln}" with version "${Ge}":`];return Pn&&kt.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Pn&&$t&&kt.push("and"),$t&&kt.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void $n.warn(kt.join(" "))}gr(new z.uA(`${Ln}-version`,()=>({library:Ln,version:Ge}),"VERSION"))}const oe="firebase-heartbeat-store";let we=null;function at(){return we||(we=function Tt(dt,Ge,{blocked:Ct,upgrade:nn,blocking:Ln,terminated:Pn}={}){const $t=indexedDB.open(dt,Ge),kt=Dt($t);return nn&&$t.addEventListener("upgradeneeded",pn=>{nn(Dt($t.result),pn.oldVersion,pn.newVersion,Dt($t.transaction),pn)}),Ct&&$t.addEventListener("blocked",pn=>Ct(pn.oldVersion,pn.newVersion,pn)),kt.then(pn=>{Pn&&pn.addEventListener("close",()=>Pn()),Ln&&pn.addEventListener("versionchange",rn=>Ln(rn.oldVersion,rn.newVersion,rn))}).catch(()=>{}),kt}("firebase-heartbeat-database",1,{upgrade:(dt,Ge)=>{if(0===Ge)try{dt.createObjectStore(oe)}catch(Ct){console.warn(Ct)}}}).catch(dt=>{throw Dr.create("idb-open",{originalErrorMessage:dt.message})})),we}function In(){return(In=(0,I.A)(function*(dt){try{const Ct=(yield at()).transaction(oe),nn=yield Ct.objectStore(oe).get(kr(dt));return yield Ct.done,nn}catch(Ge){if(Ge instanceof W.g)$n.warn(Ge.message);else{const Ct=Dr.create("idb-get",{originalErrorMessage:Ge?.message});$n.warn(Ct.message)}}})).apply(this,arguments)}function vn(dt,Ge){return or.apply(this,arguments)}function or(){return(or=(0,I.A)(function*(dt,Ge){try{const nn=(yield at()).transaction(oe,"readwrite");yield nn.objectStore(oe).put(Ge,kr(dt)),yield nn.done}catch(Ct){if(Ct instanceof W.g)$n.warn(Ct.message);else{const nn=Dr.create("idb-set",{originalErrorMessage:Ct?.message});$n.warn(nn.message)}}})).apply(this,arguments)}function kr(dt){return`${dt.name}!${dt.options.appId}`}class ki{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new Jr(Ct),this._heartbeatsCachePromise=this._storage.read().then(nn=>(this._heartbeatsCache=nn,nn))}triggerHeartbeat(){var Ge=this;return(0,I.A)(function*(){var Ct,nn;try{const Pn=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Li();return null==(null===(Ct=Ge._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise,null==(null===(nn=Ge._heartbeatsCache)||void 0===nn?void 0:nn.heartbeats))||Ge._heartbeatsCache.lastSentHeartbeatDate===$t||Ge._heartbeatsCache.heartbeats.some(kt=>kt.date===$t)?void 0:(Ge._heartbeatsCache.heartbeats.push({date:$t,agent:Pn}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(kt=>{const pn=new Date(kt.date).valueOf();return Date.now()-pn<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache))}catch(Ln){$n.warn(Ln)}})()}getHeartbeatsHeader(){var Ge=this;return(0,I.A)(function*(){var Ct;try{if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null==(null===(Ct=Ge._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats)||0===Ge._heartbeatsCache.heartbeats.length)return"";const nn=Li(),{heartbeatsToSend:Ln,unsentEntries:Pn}=function qo(dt,Ge=1024){const Ct=[];let nn=dt.slice();for(const Ln of dt){const Pn=Ct.find($t=>$t.agent===Ln.agent);if(Pn){if(Pn.dates.push(Ln.date),ko(Ct)>Ge){Pn.dates.pop();break}}else if(Ct.push({agent:Ln.agent,dates:[Ln.date]}),ko(Ct)>Ge){Ct.pop();break}nn=nn.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:nn}}(Ge._heartbeatsCache.heartbeats),$t=(0,W.Uj)(JSON.stringify({version:2,heartbeats:Ln}));return Ge._heartbeatsCache.lastSentHeartbeatDate=nn,Pn.length>0?(Ge._heartbeatsCache.heartbeats=Pn,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),$t}catch(nn){return $n.warn(nn),""}})()}}function Li(){return(new Date).toISOString().substring(0,10)}class Jr{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.A)(function*(){return!!(0,W.zW)()&&(0,W.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,I.A)(function*(){if(yield Ge._canUseIndexedDBPromise){const nn=yield function jt(dt){return In.apply(this,arguments)}(Ge.app);return nn?.heartbeats?nn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ge){var Ct=this;return(0,I.A)(function*(){var nn;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return vn(Ct.app,{lastSentHeartbeatDate:null!==(nn=Ge.lastSentHeartbeatDate)&&void 0!==nn?nn:Pn.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var Ct=this;return(0,I.A)(function*(){var nn;if(yield Ct._canUseIndexedDBPromise){const Pn=yield Ct.read();return vn(Ct.app,{lastSentHeartbeatDate:null!==(nn=Ge.lastSentHeartbeatDate)&&void 0!==nn?nn:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...Ge.heartbeats]})}})()}}function ko(dt){return(0,W.Uj)(JSON.stringify({version:2,heartbeats:dt})).length}!function Fi(dt){gr(new z.uA("platform-logger",Ge=>new Ht(Ge),"PRIVATE")),gr(new z.uA("heartbeat",Ge=>new ki(Ge),"PRIVATE")),ve(xt,Ut,dt),ve(xt,Ut,"esm2017"),ve("fire-js","")}("")},1362:(an,Je,V)=>{V.d(Je,{h1:()=>je,uA:()=>ce});var I=V(467),z=V(1076);class ce{constructor(ge,fe,He){this.name=ge,this.instanceFactory=fe,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const W="[DEFAULT]";class Ee{constructor(ge,fe){this.name=ge,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const fe=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(fe)){const He=new z.cY;if(this.instancesDeferred.set(fe,He),this.isInitialized(fe)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:fe});St&&He.resolve(St)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(ge){var fe;const He=this.normalizeInstanceIdentifier(ge?.identifier),St=null!==(fe=ge?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(vt){if(St)return null;throw vt}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ne(Qe){return"EAGER"===Qe.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[fe,He]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(fe);try{const vt=this.getOrInitializeService({instanceIdentifier:St});He.resolve(vt)}catch{}}}}clearInstance(ge=W){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,I.A)(function*(){const fe=Array.from(ge.instances.values());yield Promise.all([...fe.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...fe.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=W){return this.instances.has(ge)}getOptions(ge=W){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:fe={}}=ge,He=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:He,options:fe});for(const[vt,At]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(vt)&&At.resolve(St);return St}onInit(ge,fe){var He;const St=this.normalizeInstanceIdentifier(fe),vt=null!==(He=this.onInitCallbacks.get(St))&&void 0!==He?He:new Set;vt.add(ge),this.onInitCallbacks.set(St,vt);const At=this.instances.get(St);return At&&ge(At,St),()=>{vt.delete(ge)}}invokeOnInitCallbacks(ge,fe){const He=this.onInitCallbacks.get(fe);if(He)for(const St of He)try{St(ge,fe)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:fe={}}){let He=this.instances.get(ge);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=ge,Qe===W?void 0:Qe),options:fe}),this.instances.set(ge,He),this.instancesOptions.set(ge,fe),this.invokeOnInitCallbacks(He,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,He)}catch{}var Qe;return He||null}normalizeInstanceIdentifier(ge=W){return this.component?this.component.multipleInstances?ge:W:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const fe=this.getProvider(ge.name);if(fe.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);fe.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const fe=new Ee(ge,this);return this.providers.set(ge,fe),fe}getProviders(){return Array.from(this.providers.values())}}},8041:(an,Je,V)=>{V.d(Je,{$b:()=>z,Vy:()=>Ne});const I=[];var z=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(z||{});const ce={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},W=z.INFO,Ee={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Ue=(ge,fe,...He)=>{if(fe<ge.logLevel)return;const St=(new Date).toISOString(),vt=Ee[fe];if(!vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[vt](`[${St}]  ${ge.name}:`,...He)};class Ne{constructor(fe){this.name=fe,this._logLevel=W,this._logHandler=Ue,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in z))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?ce[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...fe),this._logHandler(this,z.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...fe),this._logHandler(this,z.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,z.INFO,...fe),this._logHandler(this,z.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,z.WARN,...fe),this._logHandler(this,z.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...fe),this._logHandler(this,z.ERROR,...fe)}}},4909:(an,Je,V)=>{V.d(Je,{Wr:()=>En,h:()=>wt,D9:()=>ht,c$:()=>_e,Mw:()=>ye,D8:()=>Wt});var I=V(3953),z=V(7673),ce=V(4402),W=V(7468),Ee=V(8793),Ue=V(9030),Ne=V(6697),je=V(1413),Qe=V(6129);class ge extends je.B{constructor(nt=1/0,se=1/0,Te=Qe.U){super(),this._bufferSize=nt,this._windowTime=se,this._timestampProvider=Te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,nt),this._windowTime=Math.max(1,se)}next(nt){const{isStopped:se,_buffer:Te,_infiniteTimeWindow:bt,_timestampProvider:It,_windowTime:yn}=this;se||(Te.push(nt),!bt&&Te.push(It.now()+yn)),this._trimBuffer(),super.next(nt)}_subscribe(nt){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(nt),{_infiniteTimeWindow:Te,_buffer:bt}=this,It=bt.slice();for(let yn=0;yn<It.length&&!nt.closed;yn+=Te?1:2)nt.next(It[yn]);return this._checkFinalizedStatuses(nt),se}_trimBuffer(){const{_bufferSize:nt,_timestampProvider:se,_buffer:Te,_infiniteTimeWindow:bt}=this,It=(bt?1:2)*nt;if(nt<1/0&&It<Te.length&&Te.splice(0,Te.length-It),!bt){const yn=se.now();let _n=0;for(let Pt=1;Pt<Te.length&&Te[Pt]<=yn;Pt+=2)_n=Pt;_n&&Te.splice(0,_n+1)}}}var fe=V(8750),He=V(7707),St=V(9974);function At(Ze,nt,...se){if(!0===nt)return void Ze();if(!1===nt)return;const Te=new He.Ms({next:()=>{Te.unsubscribe(),Ze()}});return(0,fe.Tg)(nt(...se)).subscribe(Te)}function mn(Ze,nt,se){let Te,bt=!1;return Ze&&"object"==typeof Ze?({bufferSize:Te=1/0,windowTime:nt=1/0,refCount:bt=!1,scheduler:se}=Ze):Te=Ze??1/0,function vt(Ze={}){const{connector:nt=()=>new je.B,resetOnError:se=!0,resetOnComplete:Te=!0,resetOnRefCountZero:bt=!0}=Ze;return It=>{let yn,_n,Pt,er=0,Yn=!1,Bn=!1;const Pr=()=>{_n?.unsubscribe(),_n=void 0},tr=()=>{Pr(),yn=Pt=void 0,Yn=Bn=!1},xr=()=>{const ir=yn;tr(),ir?.unsubscribe()};return(0,St.N)((ir,Wi)=>{er++,!Bn&&!Yn&&Pr();const Jt=Pt=Pt??nt();Wi.add(()=>{er--,0===er&&!Bn&&!Yn&&(_n=At(xr,bt))}),Jt.subscribe(Wi),!yn&&er>0&&(yn=new He.Ms({next:gr=>Jt.next(gr),error:gr=>{Bn=!0,Pr(),_n=At(tr,se,gr),Jt.error(gr)},complete:()=>{Yn=!0,Pr(),_n=At(tr,Te),Jt.complete()}}),(0,fe.Tg)(ir).subscribe(yn))})(It)}}({connector:()=>new ge(Te,nt,se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:bt})}var fn=V(6354),zt=V(274),dn=V(5558);class En{}let Dt=(()=>{class Ze extends En{getTranslation(se){return(0,z.of)({})}static \u0275fac=(()=>{let se;return function(bt){return(se||(se=I.xGo(Ze)))(bt||Ze)}})();static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac})}return Ze})();class Ye{}let Tt=(()=>{class Ze{handle(se){return se.key}static \u0275fac=function(Te){return new(Te||Ze)};static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac})}return Ze})();function Vt(Ze,nt){if(Ze===nt)return!0;if(null===Ze||null===nt)return!1;if(Ze!=Ze&&nt!=nt)return!0;const se=typeof Ze;let bt,It,yn;if(se==typeof nt&&"object"==se){if(!Array.isArray(Ze)){if(Array.isArray(nt))return!1;for(It in yn=Object.create(null),Ze){if(!Vt(Ze[It],nt[It]))return!1;yn[It]=!0}for(It in nt)if(!(It in yn)&&typeof nt[It]<"u")return!1;return!0}if(!Array.isArray(nt))return!1;if((bt=Ze.length)==nt.length){for(It=0;It<bt;It++)if(!Vt(Ze[It],nt[It]))return!1;return!0}}return!1}function qt(Ze){return typeof Ze<"u"&&null!==Ze}function cn(Ze){return te(Ze)&&!ke(Ze)&&null!==Ze}function te(Ze){return"object"==typeof Ze}function ke(Ze){return Array.isArray(Ze)}function Ht(Ze){return"string"==typeof Ze}function xt(Ze,nt){const se=Object.assign({},Ze);return te(Ze)?(te(Ze)&&te(nt)&&Object.keys(nt).forEach(Te=>{cn(nt[Te])?Te in Ze?se[Te]=xt(Ze[Te],nt[Te]):Object.assign(se,{[Te]:nt[Te]}):Object.assign(se,{[Te]:nt[Te]})}),se):xt({},nt)}function Ut(Ze,nt){const se=nt.split(".");nt="";do{nt+=se.shift(),qt(Ze)&&qt(Ze[nt])&&(cn(Ze[nt])||ke(Ze[nt])||!se.length)?(Ze=Ze[nt],nt=""):se.length?nt+=".":Ze=void 0}while(se.length);return Ze}class Lt{}let We=(()=>{class Ze extends Lt{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(se,Te){return Ht(se)?this.interpolateString(se,Te):function un(Ze){return"function"==typeof Ze}(se)?this.interpolateFunction(se,Te):void 0}interpolateFunction(se,Te){return se(Te)}interpolateString(se,Te){return Te?se.replace(this.templateMatcher,(bt,It)=>{const yn=Ut(Te,It);return qt(yn)?yn:bt}):se}static \u0275fac=(()=>{let se;return function(bt){return(se||(se=I.xGo(Ze)))(bt||Ze)}})();static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac})}return Ze})();class ft{}let Un=(()=>{class Ze extends ft{compile(se,Te){return se}compileTranslations(se,Te){return se}static \u0275fac=(()=>{let se;return function(bt){return(se||(se=I.xGo(Ze)))(bt||Ze)}})();static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac})}return Ze})();class ye{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new I.bkB;onLangChange=new I.bkB;onDefaultLangChange=new I.bkB}const Ie=new I.nKC("ISOLATE_TRANSLATE_SERVICE"),Ae=new I.nKC("USE_DEFAULT_LANG"),Re=new I.nKC("DEFAULT_LANGUAGE"),et=new I.nKC("USE_EXTEND"),yt=Ze=>(0,ce.A)(Ze)?Ze:(0,z.of)(Ze);let _e=(()=>{class Ze{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(se){this.store.defaultLang=se}get currentLang(){return this.store.currentLang}set currentLang(se){this.store.currentLang=se}get langs(){return this.store.langs}set langs(se){this.store.langs=se}get translations(){return this.store.translations}set translations(se){this.store.translations=se}constructor(se,Te,bt,It,yn,_n=!0,Pt=!1,er=!1,Yn){this.store=se,this.currentLoader=Te,this.compiler=bt,this.parser=It,this.missingTranslationHandler=yn,this.useDefaultLang=_n,this.extend=er,Pt&&(this.store=new ye),Yn&&this.setDefaultLang(Yn)}setDefaultLang(se){if(se===this.defaultLang)return;const Te=this.retrieveTranslations(se);typeof Te<"u"?(null==this.defaultLang&&(this.defaultLang=se),Te.pipe((0,Ne.s)(1)).subscribe(()=>{this.changeDefaultLang(se)})):this.changeDefaultLang(se)}getDefaultLang(){return this.defaultLang}use(se){if(this.lastUseLanguage=se,se===this.currentLang)return(0,z.of)(this.translations[se]);this.currentLang||(this.currentLang=se);const Te=this.retrieveTranslations(se);return(0,ce.A)(Te)?(Te.pipe((0,Ne.s)(1)).subscribe(()=>{this.changeLang(se)}),Te):(this.changeLang(se),(0,z.of)(this.translations[se]))}changeLang(se){se===this.lastUseLanguage&&(this.currentLang=se,this.onLangChange.emit({lang:se,translations:this.translations[se]}),null==this.defaultLang&&this.changeDefaultLang(se))}retrieveTranslations(se){if(typeof this.translations[se]>"u"||this.extend)return this._translationRequests[se]=this._translationRequests[se]||this.loadAndCompileTranslations(se),this._translationRequests[se]}getTranslation(se){return this.loadAndCompileTranslations(se)}loadAndCompileTranslations(se){this.pending=!0;const Te=this.currentLoader.getTranslation(se).pipe(mn(1),(0,Ne.s)(1));return this.loadingTranslations=Te.pipe((0,fn.T)(bt=>this.compiler.compileTranslations(bt,se)),mn(1),(0,Ne.s)(1)),this.loadingTranslations.subscribe({next:bt=>{this.translations[se]=this.extend&&this.translations[se]?{...bt,...this.translations[se]}:bt,this.updateLangs(),this.pending=!1},error:bt=>{this.pending=!1}}),Te}setTranslation(se,Te,bt=!1){const It=this.compiler.compileTranslations(Te,se);this.translations[se]=(bt||this.extend)&&this.translations[se]?xt(this.translations[se],It):It,this.updateLangs(),this.onTranslationChange.emit({lang:se,translations:this.translations[se]})}getLangs(){return this.langs}addLangs(se){const Te=se.filter(bt=>!this.langs.includes(bt));Te.length>0&&(this.langs=[...this.langs,...Te])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(se,Te,bt){let It;if(se&&(It=this.runInterpolation(Ut(se,Te),bt)),void 0===It&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(It=this.runInterpolation(Ut(this.translations[this.defaultLang],Te),bt)),void 0===It){const yn={key:Te,translateService:this};typeof bt<"u"&&(yn.interpolateParams=bt),It=this.missingTranslationHandler.handle(yn)}return void 0!==It?It:Te}runInterpolation(se,Te){if(ke(se))return se.map(bt=>this.runInterpolation(bt,Te));if(cn(se)){const bt={};for(const It in se){const yn=this.runInterpolation(se[It],Te);void 0!==yn&&(bt[It]=yn)}return bt}return this.parser.interpolate(se,Te)}getParsedResult(se,Te,bt){if(Te instanceof Array){const It={};let yn=!1;for(const Pt of Te)It[Pt]=this.getParsedResultForKey(se,Pt,bt),yn=yn||(0,ce.A)(It[Pt]);if(!yn)return It;const _n=Te.map(Pt=>yt(It[Pt]));return(0,W.p)(_n).pipe((0,fn.T)(Pt=>{const er={};return Pt.forEach((Yn,Bn)=>{er[Te[Bn]]=Yn}),er}))}return this.getParsedResultForKey(se,Te,bt)}get(se,Te){if(!qt(se)||!se.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe((0,zt.H)(bt=>yt(this.getParsedResult(bt,se,Te)))):yt(this.getParsedResult(this.translations[this.currentLang],se,Te))}getStreamOnTranslationChange(se,Te){if(!qt(se)||!se.length)throw new Error('Parameter "key" is required and cannot be empty');return(0,Ee.x)((0,Ue.v)(()=>this.get(se,Te)),this.onTranslationChange.pipe((0,dn.n)(bt=>{const It=this.getParsedResult(bt.translations,se,Te);return yt(It)})))}stream(se,Te){if(!qt(se)||!se.length)throw new Error('Parameter "key" required');return(0,Ee.x)((0,Ue.v)(()=>this.get(se,Te)),this.onLangChange.pipe((0,dn.n)(bt=>{const It=this.getParsedResult(bt.translations,se,Te);return yt(It)})))}instant(se,Te){if(!qt(se)||0===se.length)throw new Error('Parameter "key" is required and cannot be empty');const bt=this.getParsedResult(this.translations[this.currentLang],se,Te);return(0,ce.A)(bt)?Array.isArray(se)?se.reduce((It,yn)=>(It[yn]=yn,It),{}):se:bt}set(se,Te,bt=this.currentLang){(function $n(Ze,nt,se){const Te=nt.split(".");let bt=Ze;for(let It=0;It<Te.length;It++){const yn=Te[It];It===Te.length-1?bt[yn]=se:((!bt[yn]||!cn(bt[yn]))&&(bt[yn]={}),bt=bt[yn])}})(this.translations[bt],se,Ht(Te)?this.compiler.compile(Te,bt):this.compiler.compileTranslations(Te,bt)),this.updateLangs(),this.onTranslationChange.emit({lang:bt,translations:this.translations[bt]})}changeDefaultLang(se){this.defaultLang=se,this.onDefaultLangChange.emit({lang:se,translations:this.translations[se]})}reloadLang(se){return this.resetLang(se),this.loadAndCompileTranslations(se)}resetLang(se){delete this._translationRequests[se],delete this.translations[se]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;const se=this.getBrowserCultureLang();return se?se.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(Te){return new(Te||Ze)(I.KVO(ye),I.KVO(En),I.KVO(ft),I.KVO(Lt),I.KVO(Ye),I.KVO(Ae),I.KVO(Ie),I.KVO(et),I.KVO(Re))};static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})(),ht=(()=>{class Ze{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(se,Te){this.translate=se,this._ref=Te}updateValue(se,Te,bt){const It=yn=>{this.value=void 0!==yn?yn:se,this.lastKey=se,this._ref.markForCheck()};if(bt){const yn=this.translate.getParsedResult(bt,se,Te);(0,ce.A)(yn)?yn.subscribe(It):It(yn)}this.translate.get(se,Te).subscribe(It)}transform(se,...Te){if(!se||!se.length)return se;if(Vt(se,this.lastKey)&&Vt(Te,this.lastParams))return this.value;let bt;if(qt(Te[0])&&Te.length)if(Ht(Te[0])&&Te[0].length){const It=Te[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{bt=JSON.parse(It)}catch(yn){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Te[0]}`)}}else cn(Te[0])&&(bt=Te[0]);return this.lastKey=se,this.lastParams=Te,this.updateValue(se,bt),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(It=>{this.lastKey&&It.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(se,bt,It.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(It=>{this.lastKey&&(this.lastKey=null,this.updateValue(se,bt,It.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(se,bt))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(Te){return new(Te||Ze)(I.rXU(_e,16),I.rXU(I.gRc,16))};static \u0275pipe=I.EJ8({name:"translate",type:Ze,pure:!1});static \u0275prov=I.jDH({token:Ze,factory:Ze.\u0275fac})}return Ze})();const Wt=(Ze={})=>(0,I.EmA)([Ze.loader||{provide:En,useClass:Dt},Ze.compiler||{provide:ft,useClass:Un},Ze.parser||{provide:Lt,useClass:We},Ze.missingTranslationHandler||{provide:Ye,useClass:Tt},ye,{provide:Ie,useValue:Ze.isolate},{provide:Ae,useValue:Ze.useDefaultLang},{provide:et,useValue:Ze.extend},{provide:Re,useValue:Ze.defaultLanguage},_e]);let wt=(()=>{class Ze{static forRoot(se={}){return{ngModule:Ze,providers:[se.loader||{provide:En,useClass:Dt},se.compiler||{provide:ft,useClass:Un},se.parser||{provide:Lt,useClass:We},se.missingTranslationHandler||{provide:Ye,useClass:Tt},ye,{provide:Ie,useValue:se.isolate},{provide:Ae,useValue:se.useDefaultLang},{provide:et,useValue:se.extend},{provide:Re,useValue:se.defaultLanguage},_e]}}static forChild(se={}){return{ngModule:Ze,providers:[se.loader||{provide:En,useClass:Dt},se.compiler||{provide:ft,useClass:Un},se.parser||{provide:Lt,useClass:We},se.missingTranslationHandler||{provide:Ye,useClass:Tt},{provide:Ie,useValue:se.isolate},{provide:Ae,useValue:se.useDefaultLang},{provide:et,useValue:se.extend},{provide:Re,useValue:se.defaultLanguage},_e]}}static \u0275fac=function(Te){return new(Te||Ze)};static \u0275mod=I.$C({type:Ze});static \u0275inj=I.G2t({})}return Ze})()},2214:(an,Je,V)=>{V.d(Je,{Dk:()=>I.Dk,KO:()=>I.KO,Sx:()=>I.Sx,Wp:()=>I.Wp});var I=V(7852);(0,I.KO)("firebase","11.2.0","app")},1604:(an,Je,V)=>{V.d(Je,{HF:()=>ml,eJ:()=>yu,xI:()=>ne,iZ:()=>Uo,x9:()=>Yl,df:()=>Ec,CI:()=>Sa,r7:()=>Eu});var I=V(467),z=V(7852),ce=V(1076),W=V(8041),Ee=V(1635),Ue=V(1362);const At=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mn=new ce.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zt=new W.Vy("@firebase/auth");function En(_,...d){zt.logLevel<=W.$b.ERROR&&zt.error(`Auth (${z.MF}): ${_}`,...d)}function Dt(_,...d){throw cn(_,...d)}function Ye(_,...d){return cn(_,...d)}function Tt(_,d,g){const T=Object.assign(Object.assign({},At()),{[d]:g});return new ce.FA("auth","Firebase",T).create(d,{appName:_.name})}function Vt(_){return Tt(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cn(_,...d){if("string"!=typeof _){const g=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=_.name),_._errorFactory.create(g,...T)}return mn.create(_,...d)}function te(_,d,...g){if(!_)throw cn(d,...g)}function ke(_){const d="INTERNAL ASSERTION FAILED: "+_;throw En(d),new Error(d)}function Ht(_,d){_||ke(d)}function un(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ut(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class We{constructor(d,g){this.shortDelay=d,this.longDelay=g,Ht(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,ce.jZ)()||(0,ce.lV)()}get(){return function $n(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function xt(){return"http:"===Ut()||"https:"===Ut()}()||(0,ce.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(_,d){Ht(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Un{static initialize(d,g,T){this.fetchImpl=d,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new We(3e4,6e4);function Ae(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Re(_,d,g,T){return et.apply(this,arguments)}function et(){return(et=(0,I.A)(function*(_,d,g,T,F={}){return yt(_,F,(0,I.A)(function*(){let Q={},ae={};T&&("GET"===d?ae=T:Q={body:JSON.stringify(T)});const be=(0,ce.Am)(Object.assign({key:_.config.apiKey},ae)).slice(1),tt=yield _._getAdditionalHeaders();tt["Content-Type"]="application/json",_.languageCode&&(tt["X-Firebase-Locale"]=_.languageCode);const ot=Object.assign({method:d,headers:tt},Q);return(0,ce.c1)()||(ot.referrerPolicy="no-referrer"),Un.fetch()(ut(_,_.config.apiHost,g,be),ot)}))})).apply(this,arguments)}function yt(_,d,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,I.A)(function*(_,d,g){_._canInitEmulator=!1;const T=Object.assign(Object.assign({},ye),d);try{const F=new wt(_),Q=yield Promise.race([g(),F.promise]);F.clearNetworkTimeout();const ae=yield Q.json();if("needConfirmation"in ae)throw Ze(_,"account-exists-with-different-credential",ae);if(Q.ok&&!("errorMessage"in ae))return ae;{const be=Q.ok?ae.errorMessage:ae.error.message,[tt,ot]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw Ze(_,"credential-already-in-use",ae);if("EMAIL_EXISTS"===tt)throw Ze(_,"email-already-in-use",ae);if("USER_DISABLED"===tt)throw Ze(_,"user-disabled",ae);const Gt=T[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Tt(_,Gt,ot);Dt(_,Gt)}}catch(F){if(F instanceof ce.g)throw F;Dt(_,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function Oe(_,d,g,T){return ht.apply(this,arguments)}function ht(){return(ht=(0,I.A)(function*(_,d,g,T,F={}){const Q=yield Re(_,d,g,T,F);return"mfaPendingCredential"in Q&&Dt(_,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function ut(_,d,g,T){const F=`${d}${g}?${T}`;return _.config.emulator?ft(_.config,F):`${_.config.apiScheme}://${F}`}function Wt(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Ye(this.auth,"network-request-failed")),Ie.get())})}}function Ze(_,d,g){const T={appName:_.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const F=Ye(_,d,T);return F.customData._tokenResponse=g,F}function se(_){return void 0!==_&&void 0!==_.enterprise}class Te{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===d)return Wt(g.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function _n(){return(_n=(0,I.A)(function*(_,d){return Re(_,"GET","/v2/recaptchaConfig",Ae(_,d))})).apply(this,arguments)}function er(){return(er=(0,I.A)(function*(_,d){return Re(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Pr(_,d){return tr.apply(this,arguments)}function tr(){return(tr=(0,I.A)(function*(_,d){return Re(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function xr(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Jt(){return(Jt=(0,I.A)(function*(_,d=!1){const g=(0,ce.Ku)(_),T=yield g.getIdToken(d),F=Cn(T);te(F&&F.exp&&F.auth_time&&F.iat,g.auth,"internal-error");const Q="object"==typeof F.firebase?F.firebase:void 0,ae=Q?.sign_in_provider;return{claims:F,token:T,authTime:xr(gr(F.auth_time)),issuedAtTime:xr(gr(F.iat)),expirationTime:xr(gr(F.exp)),signInProvider:ae||null,signInSecondFactor:Q?.sign_in_second_factor||null}})).apply(this,arguments)}function gr(_){return 1e3*Number(_)}function Cn(_){const[d,g,T]=_.split(".");if(void 0===d||void 0===g||void 0===T)return En("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,ce.u)(g);return F?JSON.parse(F):(En("Failed to decode base64 JWT payload"),null)}catch(F){return En("Caught error parsing JWT payload as JSON",F?.toString()),null}}function ur(_){const d=Cn(_);return te(d,"internal-error"),te(typeof d.exp<"u","internal-error"),te(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Er(_,d){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,I.A)(function*(_,d,g=!1){if(g)return d;try{return yield d}catch(T){throw T instanceof ce.g&&function Ci({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(T)&&_.auth.currentUser===_&&(yield _.auth.signOut()),T}})).apply(this,arguments)}class Ke{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const F=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,I.A)(function*(){yield g.iteration()}),T)}iteration(){var d=this;return(0,I.A)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Dr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(_){return rr.apply(this,arguments)}function rr(){return(rr=(0,I.A)(function*(_){var d;const g=_.auth,T=yield _.getIdToken(),F=yield Er(_,Pr(g,{idToken:T}));te(F?.users.length,g,"internal-error");const Q=F.users[0];_._notifyReloadListener(Q);const ae=null!==(d=Q.providerUserInfo)&&void 0!==d&&d.length?Si(Q.providerUserInfo):[],be=function Mr(_,d){return[..._.filter(T=>!d.some(F=>F.providerId===T.providerId)),...d]}(_.providerData,ae),Gt=!!_.isAnonymous&&!(_.email&&Q.passwordHash||be?.length),sn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:be,metadata:new Dr(Q.createdAt,Q.lastLoginAt),isAnonymous:Gt};Object.assign(_,sn)})).apply(this,arguments)}function zn(){return(zn=(0,I.A)(function*(_){const d=(0,ce.Ku)(_);yield zr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Si(_){return _.map(d=>{var{providerId:g}=d,T=(0,Ee.Tt)(d,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ti(){return(ti=(0,I.A)(function*(_,d){const g=yield yt(_,{},(0,I.A)(function*(){const T=(0,ce.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:F,apiKey:Q}=_.config,ae=ut(_,F,"/v1/token",`key=${Q}`),be=yield _._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Un.fetch()(ae,{method:"POST",headers:be,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function ve(){return(ve=(0,I.A)(function*(_,d){return Re(_,"POST","/v2/accounts:revokeToken",Ae(_,d))})).apply(this,arguments)}class Ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){te(d.idToken,"internal-error"),te(typeof d.idToken<"u","internal-error"),te(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):ur(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}updateFromIdToken(d){te(0!==d.length,"internal-error");const g=ur(d);this.updateTokensAndExpiration(d,null,g)}getToken(d,g=!1){var T=this;return(0,I.A)(function*(){return g||!T.accessToken||T.isExpired?(te(T.refreshToken,d,"user-token-expired"),T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var T=this;return(0,I.A)(function*(){const{accessToken:F,refreshToken:Q,expiresIn:ae}=yield function hi(_,d){return ti.apply(this,arguments)}(d,g);T.updateTokensAndExpiration(F,Q,Number(ae))})()}updateTokensAndExpiration(d,g,T){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,g){const{refreshToken:T,accessToken:F,expirationTime:Q}=g,ae=new Ve;return T&&(te("string"==typeof T,"internal-error",{appName:d}),ae.refreshToken=T),F&&(te("string"==typeof F,"internal-error",{appName:d}),ae.accessToken=F),Q&&(te("number"==typeof Q,"internal-error",{appName:d}),ae.expirationTime=Q),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ve,this.toJSON())}_performRefresh(){return ke("not implemented")}}function Et(_,d){te("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class re{constructor(d){var{uid:g,auth:T,stsTokenManager:F}=d,Q=(0,Ee.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new Dr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,I.A)(function*(){const T=yield Er(g,g.stsTokenManager.getToken(g.auth,d));return te(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(d){return function Wi(_){return Jt.apply(this,arguments)}(this,d)}reload(){return function lr(_){return zn.apply(this,arguments)}(this)}_assign(d){this!==d&&(te(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new re(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var T=this;return(0,I.A)(function*(){let F=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),F=!0),g&&(yield zr(T)),yield T.auth._persistUserIfCurrent(T),F&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,I.A)(function*(){if((0,z.xZ)(d.auth.app))return Promise.reject(Vt(d.auth));const g=yield d.getIdToken();return yield Er(d,function Pt(_,d){return er.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var T,F,Q,ae,be,tt,ot,Gt;const sn=null!==(T=g.displayName)&&void 0!==T?T:void 0,bn=null!==(F=g.email)&&void 0!==F?F:void 0,oi=null!==(Q=g.phoneNumber)&&void 0!==Q?Q:void 0,Mi=null!==(ae=g.photoURL)&&void 0!==ae?ae:void 0,to=null!==(be=g.tenantId)&&void 0!==be?be:void 0,Hi=null!==(tt=g._redirectEventId)&&void 0!==tt?tt:void 0,ks=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,Mo=null!==(Gt=g.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:bc,emailVerified:Ls,isAnonymous:Rc,providerData:nc,stsTokenManager:Ou}=g;te(bc&&Ou,d,"internal-error");const Fe=Ve.fromJSON(this.name,Ou);te("string"==typeof bc,d,"internal-error"),Et(sn,d.name),Et(bn,d.name),te("boolean"==typeof Ls,d,"internal-error"),te("boolean"==typeof Rc,d,"internal-error"),Et(oi,d.name),Et(Mi,d.name),Et(to,d.name),Et(Hi,d.name),Et(ks,d.name),Et(Mo,d.name);const Qt=new re({uid:bc,auth:d,email:bn,emailVerified:Ls,displayName:sn,isAnonymous:Rc,photoURL:Mi,phoneNumber:oi,tenantId:to,stsTokenManager:Fe,createdAt:ks,lastLoginAt:Mo});return nc&&Array.isArray(nc)&&(Qt.providerData=nc.map(Zn=>Object.assign({},Zn))),Hi&&(Qt._redirectEventId=Hi),Qt}static _fromIdTokenResponse(d,g,T=!1){return(0,I.A)(function*(){const F=new Ve;F.updateFromServerResponse(g);const Q=new re({uid:g.localId,auth:d,stsTokenManager:F,isAnonymous:T});return yield zr(Q),Q})()}static _fromGetAccountInfoResponse(d,g,T){return(0,I.A)(function*(){const F=g.users[0];te(void 0!==F.localId,"internal-error");const Q=void 0!==F.providerUserInfo?Si(F.providerUserInfo):[],ae=!(F.email&&F.passwordHash||Q?.length),be=new Ve;be.updateFromIdToken(T);const tt=new re({uid:F.localId,auth:d,stsTokenManager:be,isAnonymous:ae}),ot={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Q,metadata:new Dr(F.createdAt,F.lastLoginAt),isAnonymous:!(F.email&&F.passwordHash||Q?.length)};return Object.assign(tt,ot),tt})()}}const Se=new Map;function oe(_){Ht(_ instanceof Function,"Expected a class definition");let d=Se.get(_);return d?(Ht(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Se.set(_,d),d)}const at=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.A)(function*(){return!0})()}_set(g,T){var F=this;return(0,I.A)(function*(){F.storage[g]=T})()}_get(g){var T=this;return(0,I.A)(function*(){const F=T.storage[g];return void 0===F?null:F})()}_remove(g){var T=this;return(0,I.A)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return _.type="NONE",_})();function jt(_,d,g){return`firebase:${_}:${d}:${g}`}class In{constructor(d,g,T){this.persistence=d,this.auth=g,this.userKey=T;const{config:F,name:Q}=this.auth;this.fullUserKey=jt(this.userKey,F.apiKey,Q),this.fullPersistenceKey=jt("persistence",F.apiKey,Q),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,I.A)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?re._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,I.A)(function*(){if(g.persistence===d)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,T="authUser"){return(0,I.A)(function*(){if(!g.length)return new In(oe(at),d,T);const F=(yield Promise.all(g.map(function(){var ot=(0,I.A)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let Q=F[0]||oe(at);const ae=jt(T,d.config.apiKey,d.name);let be=null;for(const ot of g)try{const Gt=yield ot._get(ae);if(Gt){const sn=re._fromJSON(d,Gt);ot!==Q&&(be=sn),Q=ot;break}}catch{}const tt=F.filter(ot=>ot._shouldAllowMigration);return Q._shouldAllowMigration&&tt.length?(Q=tt[0],be&&(yield Q._set(ae,be.toJSON())),yield Promise.all(g.map(function(){var ot=(0,I.A)(function*(Gt){if(Gt!==Q)try{yield Gt._remove(ae)}catch{}});return function(Gt){return ot.apply(this,arguments)}}())),new In(Q,d,T)):new In(Q,d,T)})()}}function vn(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ii(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(or(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Li(d))return"Blackberry";if(qo(d))return"Webos";if(kr(d))return"Safari";if((d.includes("chrome/")||Nr(d))&&!d.includes("edge/"))return"Chrome";if(ki(d))return"Android";{const T=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function or(_=(0,ce.ZQ)()){return/firefox\//i.test(_)}function kr(_=(0,ce.ZQ)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Nr(_=(0,ce.ZQ)()){return/crios\//i.test(_)}function Ii(_=(0,ce.ZQ)()){return/iemobile/i.test(_)}function ki(_=(0,ce.ZQ)()){return/android/i.test(_)}function Li(_=(0,ce.ZQ)()){return/blackberry/i.test(_)}function qo(_=(0,ce.ZQ)()){return/webos/i.test(_)}function Jr(_=(0,ce.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ge(_=(0,ce.ZQ)()){return Jr(_)||ki(_)||qo(_)||Li(_)||/windows phone/i.test(_)||Ii(_)}function Ct(_,d=[]){let g;switch(_){case"Browser":g=vn((0,ce.ZQ)());break;case"Worker":g=`${vn((0,ce.ZQ)())}-${_}`;break;default:g=_}const T=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${z.MF}/${T}`}class nn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const T=Q=>new Promise((ae,be)=>{try{ae(d(Q))}catch(tt){be(tt)}});T.onAbort=g,this.queue.push(T);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,I.A)(function*(){if(g.auth.currentUser===d)return;const T=[];try{for(const F of g.queue)yield F(d),F.onAbort&&T.push(F.onAbort)}catch(F){T.reverse();for(const Q of T)try{Q()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}function Pn(){return(Pn=(0,I.A)(function*(_,d={}){return Re(_,"GET","/v2/passwordPolicy",Ae(_,d))})).apply(this,arguments)}class kt{constructor(d){var g,T,F,Q;const ae=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=ae.minPasswordLength)&&void 0!==g?g:6,ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ae.maxPasswordLength),void 0!==ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ae.containsLowercaseCharacter),void 0!==ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ae.containsUppercaseCharacter),void 0!==ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ae.containsNumericCharacter),void 0!==ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ae.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(T=d.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(Q=d.forceUpgradeOnSignin)&&void 0!==Q&&Q,this.schemaVersion=d.schemaVersion}validatePassword(d){var g,T,F,Q,ae,be;const tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,tt),this.validatePasswordCharacterOptions(d,tt),tt.isValid&&(tt.isValid=null===(g=tt.meetsMinPasswordLength)||void 0===g||g),tt.isValid&&(tt.isValid=null===(T=tt.meetsMaxPasswordLength)||void 0===T||T),tt.isValid&&(tt.isValid=null===(F=tt.containsLowercaseLetter)||void 0===F||F),tt.isValid&&(tt.isValid=null===(Q=tt.containsUppercaseLetter)||void 0===Q||Q),tt.isValid&&(tt.isValid=null===(ae=tt.containsNumericCharacter)||void 0===ae||ae),tt.isValid&&(tt.isValid=null===(be=tt.containsNonAlphanumericCharacter)||void 0===be||be),tt}validatePasswordLengthOptions(d,g){const T=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;T&&(g.meetsMinPasswordLength=d.length>=T),F&&(g.meetsMaxPasswordLength=d.length<=F)}validatePasswordCharacterOptions(d,g){let T;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let F=0;F<d.length;F++)T=d.charAt(F),this.updatePasswordCharacterOptionsStatuses(g,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(d,g,T,F,Q){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=Q))}}class pn{constructor(d,g,T,F){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Br(this),this.idTokenSubscription=new Br(this),this.beforeStateQueue=new nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(d,g){var T=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,I.A)(function*(){var F,Q;if(!T._deleted&&(T.persistenceManager=yield In.create(T,d),!T._deleted)){if(null!==(F=T._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(Q=T.currentUser)||void 0===Q?void 0:Q.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,I.A)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(d){var g=this;return(0,I.A)(function*(){try{const T=yield Pr(g,{idToken:d}),F=yield re._fromGetAccountInfoResponse(g,T,d);yield g.directlySetCurrentUser(F)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var g=this;return(0,I.A)(function*(){var T;if((0,z.xZ)(g.app)){const be=g.app.settings.authIdToken;return be?new Promise(tt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(be).then(tt,tt))}):g.directlySetCurrentUser(null)}const F=yield g.assertedPersistence.getCurrentUser();let Q=F,ae=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const be=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,tt=Q?._redirectEventId,ot=yield g.tryRedirectSignIn(d);(!be||be===tt)&&ot?.user&&(Q=ot.user,ae=!0)}if(!Q)return g.directlySetCurrentUser(null);if(!Q._redirectEventId){if(ae)try{yield g.beforeStateQueue.runMiddleware(Q)}catch(be){Q=F,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(be))}return Q?g.reloadAndSetCurrentUserOrClear(Q):g.directlySetCurrentUser(null)}return te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Q._redirectEventId?g.directlySetCurrentUser(Q):g.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(d){var g=this;return(0,I.A)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,I.A)(function*(){try{yield zr(d)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Lt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,I.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,I.A)(function*(){if((0,z.xZ)(g.app))return Promise.reject(Vt(g));const T=d?(0,ce.Ku)(d):null;return T&&te(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(d,g=!1){var T=this;return(0,I.A)(function*(){if(!T._deleted)return d&&te(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,I.A)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,I.A)(function*(){return(0,z.xZ)(d.app)?Promise.reject(Vt(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var g=this;return(0,z.xZ)(this.app)?Promise.reject(Vt(this)):this.queue((0,I.A)(function*(){yield g.assertedPersistence.setPersistence(oe(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var g=this;return(0,I.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const T=g._getPasswordPolicyInternal();return T.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,I.A)(function*(){const g=yield function Ln(_){return Pn.apply(this,arguments)}(d),T=new kt(g);null===d.tenantId?d._projectPasswordPolicy=T:d._tenantPasswordPolicies[d.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ce.FA("auth","Firebase",d())}onAuthStateChanged(d,g,T){return this.registerStateListener(this.authStateSubscription,d,g,T)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,T){return this.registerStateListener(this.idTokenSubscription,d,g,T)}authStateReady(){return new Promise((d,g)=>{if(this.currentUser)d();else{const T=this.onAuthStateChanged(()=>{T(),d()},g)}})}revokeAccessToken(d){var g=this;return(0,I.A)(function*(){if(g.currentUser){const T=yield g.currentUser.getIdToken(),F={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:T};null!=g.tenantId&&(F.tenantId=g.tenantId),yield function Pe(_,d){return ve.apply(this,arguments)}(g,F)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var T=this;return(0,I.A)(function*(){const F=yield T.getOrInitRedirectPersistenceManager(g);return null===d?F.removeCurrentUser():F.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,I.A)(function*(){if(!g.redirectPersistenceManager){const T=d&&oe(d)||g._popupRedirectResolver;te(T,g,"argument-error"),g.redirectPersistenceManager=yield In.create(g,[oe(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,I.A)(function*(){var T,F;return g._isInitialized&&(yield g.queue((0,I.A)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===d?g._currentUser:(null===(F=g.redirectUser)||void 0===F?void 0:F._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,I.A)(function*(){if(d===g.currentUser)return g.queue((0,I.A)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,T,F){if(this._deleted)return()=>{};const Q="function"==typeof g?g:g.next.bind(g);let ae=!1;const be=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(be,this,"internal-error"),be.then(()=>{ae||Q(this.currentUser)}),"function"==typeof g){const tt=d.addObserver(g,T,F);return()=>{ae=!0,tt()}}{const tt=d.addObserver(g);return()=>{ae=!0,tt()}}}directlySetCurrentUser(d){var g=this;return(0,I.A)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,I.A)(function*(){var g;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const F=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();F&&(T["X-Firebase-Client"]=F);const Q=yield d._getAppCheckToken();return Q&&(T["X-Firebase-AppCheck"]=Q),T})()}_getAppCheckToken(){var d=this;return(0,I.A)(function*(){var g;const T=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function dn(_,...d){zt.logLevel<=W.$b.WARN&&zt.warn(`Auth (${z.MF}): ${_}`,...d)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function rn(_){return(0,ce.Ku)(_)}class Br{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ce.tD)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mr={loadJS:()=>(0,I.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function co(_){return mr.loadJS(_)}function U(_){return`__${_}${Math.floor(1e6*Math.random())}`}class pt{constructor(){this.enterprise=new gt}ready(d){d()}execute(d,g){return Promise.resolve("token")}render(d,g){return""}}class gt{ready(d){d()}execute(d,g){return Promise.resolve("token")}render(d,g){return""}}const yr="NO_RECAPTCHA";class wr{constructor(d){this.type="recaptcha-enterprise",this.auth=rn(d)}verify(d="verify",g=!1){var T=this;return(0,I.A)(function*(){function Q(){return Q=(0,I.A)(function*(be){if(!g){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var tt=(0,I.A)(function*(ot,Gt){(function yn(_,d){return _n.apply(this,arguments)})(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sn=>{if(void 0!==sn.recaptchaKey){const bn=new Te(sn);return null==be.tenantId?be._agentRecaptchaConfig=bn:be._tenantRecaptchaConfigs[be.tenantId]=bn,ot(bn.siteKey)}Gt(new Error("recaptcha Enterprise site key undefined"))}).catch(sn=>{Gt(sn)})});return function(ot,Gt){return tt.apply(this,arguments)}}())}),Q.apply(this,arguments)}function ae(be,tt,ot){const Gt=window.grecaptcha;se(Gt)?Gt.enterprise.ready(()=>{Gt.enterprise.execute(be,{action:d}).then(sn=>{tt(sn)}).catch(()=>{tt(yr)})}):ot(Error("No reCAPTCHA enterprise script loaded."))}return T.auth.settings.appVerificationDisabledForTesting?(new pt).execute("siteKey",{action:"verify"}):new Promise((be,tt)=>{(function F(be){return Q.apply(this,arguments)})(T.auth).then(ot=>{if(!g&&se(window.grecaptcha))ae(ot,be,tt);else{if(typeof window>"u")return void tt(new Error("RecaptchaVerifier is only supported in browser"));let Gt=function Wr(){return mr.recaptchaEnterpriseScript}();0!==Gt.length&&(Gt+=ot),co(Gt).then(()=>{ae(ot,be,tt)}).catch(sn=>{tt(sn)})}}).catch(ot=>{tt(ot)})})})()}}function Kn(_,d,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,I.A)(function*(_,d,g,T=!1,F=!1){const Q=new wr(_);let ae;if(F)ae=yr;else try{ae=yield Q.verify(g)}catch{ae=yield Q.verify(g,!0)}const be=Object.assign({},d);return"mfaSmsEnrollment"===g||"mfaSmsSignIn"===g?("phoneEnrollmentInfo"in be?Object.assign(be,{phoneEnrollmentInfo:{phoneNumber:be.phoneEnrollmentInfo.phoneNumber,recaptchaToken:be.phoneEnrollmentInfo.recaptchaToken,captchaResponse:ae,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in be&&Object.assign(be,{phoneSignInInfo:{recaptchaToken:be.phoneSignInInfo.recaptchaToken,captchaResponse:ae,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),be):(Object.assign(be,T?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),be)})).apply(this,arguments)}function _r(_,d,g,T,F){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,I.A)(function*(_,d,g,T,F){var Q,ae;if("EMAIL_PASSWORD_PROVIDER"===F){if(null!==(Q=_._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const be=yield Kn(_,d,g,"getOobCode"===g);return T(_,be)}return T(_,d).catch(function(){var be=(0,I.A)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ot=yield Kn(_,d,g,"getOobCode"===g);return T(_,ot)}return Promise.reject(tt)});return function(tt){return be.apply(this,arguments)}}())}if("PHONE_PROVIDER"===F){if(null!==(ae=_._getRecaptchaConfig())&&void 0!==ae&&ae.isProviderEnabled("PHONE_PROVIDER")){const be=yield Kn(_,d,g);return T(_,be).catch(function(){var tt=(0,I.A)(function*(ot){var Gt;if("AUDIT"===(null===(Gt=_._getRecaptchaConfig())||void 0===Gt?void 0:Gt.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===ot.code||"auth/invalid-app-credential"===ot.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${g} flow.`);const sn=yield Kn(_,d,g,!1,!0);return T(_,sn)}return Promise.reject(ot)});return function(ot){return tt.apply(this,arguments)}}())}{const be=yield Kn(_,d,g,!1,!0);return T(_,be)}}return Promise.reject(F+" provider is not supported.")}),Mn.apply(this,arguments)}function lo(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Io(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class fi{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return ke("not implemented")}_getIdTokenResponse(d){return ke("not implemented")}_linkToIdToken(d,g){return ke("not implemented")}_getReauthenticationResolver(d){return ke("not implemented")}}function Hs(_,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,I.A)(function*(_,d){return Re(_,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function cc(_,d){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,I.A)(function*(_,d){return Oe(_,"POST","/v1/accounts:signInWithPassword",Ae(_,d))})).apply(this,arguments)}function Tr(){return(Tr=(0,I.A)(function*(_,d){return Oe(_,"POST","/v1/accounts:signInWithEmailLink",Ae(_,d))})).apply(this,arguments)}function Ar(){return(Ar=(0,I.A)(function*(_,d){return Oe(_,"POST","/v1/accounts:signInWithEmailLink",Ae(_,d))})).apply(this,arguments)}class Vi extends fi{constructor(d,g,T,F=null){super("password",T),this._email=d,this._password=g,this._tenantId=F}static _fromEmailAndPassword(d,g){return new Vi(d,g,"password")}static _fromEmailAndCode(d,g,T=null){return new Vi(d,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,I.A)(function*(){switch(g.signInMethod){case"password":return _r(d,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function zu(_,d){return Tr.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Dt(d,"internal-error")}})()}_linkToIdToken(d,g){var T=this;return(0,I.A)(function*(){switch(T.signInMethod){case"password":return _r(d,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ts(_,d){return Ar.apply(this,arguments)}(d,{idToken:g,email:T._email,oobCode:T._password});default:Dt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function To(_,d){return lu.apply(this,arguments)}function lu(){return(lu=(0,I.A)(function*(_,d){return Oe(_,"POST","/v1/accounts:signInWithIdp",Ae(_,d))})).apply(this,arguments)}class ii extends fi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ii(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Dt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:F}=g,Q=(0,Ee.Tt)(g,["providerId","signInMethod"]);if(!T||!F)return null;const ae=new ii(T,F);return ae.idToken=Q.idToken||void 0,ae.accessToken=Q.accessToken||void 0,ae.secret=Q.secret,ae.nonce=Q.nonce,ae.pendingToken=Q.pendingToken||null,ae}_getIdTokenResponse(d){return To(d,this.buildRequest())}_linkToIdToken(d,g){const T=this.buildRequest();return T.idToken=g,To(d,T)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,To(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,ce.Am)(g)}return d}}class Fo{constructor(d){var g,T,F,Q,ae,be;const tt=(0,ce.I9)((0,ce.hp)(d)),ot=null!==(g=tt.apiKey)&&void 0!==g?g:null,Gt=null!==(T=tt.oobCode)&&void 0!==T?T:null,sn=function ws(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=tt.mode)&&void 0!==F?F:null);te(ot&&Gt&&sn,"argument-error"),this.apiKey=ot,this.operation=sn,this.code=Gt,this.continueUrl=null!==(Q=tt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(ae=tt.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(be=tt.tenantId)&&void 0!==be?be:null}static parseLink(d){const g=function Ws(_){const d=(0,ce.I9)((0,ce.hp)(_)).link,g=d?(0,ce.I9)((0,ce.hp)(d)).deep_link_id:null,T=(0,ce.I9)((0,ce.hp)(_)).deep_link_id;return(T?(0,ce.I9)((0,ce.hp)(T)).link:null)||T||g||d||_}(d);try{return new Fo(g)}catch{return null}}}let Ua=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,T){return Vi._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const F=Fo.parseLink(T);return te(F,"argument-error"),Vi._fromEmailAndCode(g,F.code,F.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class is{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ds extends is{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}let ml=(()=>{class _ extends Ds{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return ii._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:F}=g;if(!T&&!F)return null;try{return _.credential(T,F)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})();function Ba(_,d){return cr.apply(this,arguments)}function cr(){return(cr=(0,I.A)(function*(_,d){return Oe(_,"POST","/v1/accounts:signUp",Ae(_,d))})).apply(this,arguments)}class An{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,T,F=!1){return(0,I.A)(function*(){const Q=yield re._fromIdTokenResponse(d,T,F),ae=ho(T);return new An({user:Q,providerId:ae,_tokenResponse:T,operationType:g})})()}static _forOperation(d,g,T){return(0,I.A)(function*(){yield d._updateTokensIfNecessary(T,!0);const F=ho(T);return new An({user:d,providerId:F,_tokenResponse:T,operationType:g})})()}}function ho(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class ca extends ce.g{constructor(d,g,T,F){var Q;super(g.code,g.message),this.operationType=T,this.user=F,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:d.name,tenantId:null!==(Q=d.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,g,T,F){return new ca(d,g,T,F)}}function fo(_,d,g,T){return("reauthenticate"===d?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?ca._fromErrorAndOperation(_,Q,d,T):Q})}function As(){return(As=(0,I.A)(function*(_,d,g=!1){const T=yield Er(_,d._linkToIdToken(_.auth,yield _.getIdToken()),g);return An._forOperation(_,"link",T)})).apply(this,arguments)}function Ha(){return(Ha=(0,I.A)(function*(_,d,g=!1){const{auth:T}=_;if((0,z.xZ)(T.app))return Promise.reject(Vt(T));const F="reauthenticate";try{const Q=yield Er(_,fo(T,F,d,_),g);te(Q.idToken,T,"internal-error");const ae=Cn(Q.idToken);te(ae,T,"internal-error");const{sub:be}=ae;return te(_.uid===be,T,"user-mismatch"),An._forOperation(_,F,Q)}catch(Q){throw"auth/user-not-found"===Q?.code&&Dt(T,"user-mismatch"),Q}})).apply(this,arguments)}function Ti(_,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,I.A)(function*(_,d,g=!1){if((0,z.xZ)(_.app))return Promise.reject(Vt(_));const T="signIn",F=yield fo(_,T,d),Q=yield An._fromIdTokenResponse(_,T,F);return g||(yield _._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Gu(){return(Gu=(0,I.A)(function*(_,d){return Ti(rn(_),d)})).apply(this,arguments)}function Wa(_){return pu.apply(this,arguments)}function pu(){return(pu=(0,I.A)(function*(_){const d=rn(_);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function yu(_,d,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,I.A)(function*(_,d,g){if((0,z.xZ)(_.app))return Promise.reject(Vt(_));const T=rn(_),ae=yield _r(T,{returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ba,"EMAIL_PASSWORD_PROVIDER").catch(tt=>{throw"auth/password-does-not-meet-requirements"===tt.code&&Wa(_),tt}),be=yield An._fromIdTokenResponse(T,"signIn",ae);return yield T._updateCurrentUser(be.user),be})).apply(this,arguments)}function Yl(_,d,g){return(0,z.xZ)(_.app)?Promise.reject(Vt(_)):function Ks(_,d){return Gu.apply(this,arguments)}((0,ce.Ku)(_),Ua.credential(d,g)).catch(function(){var T=(0,I.A)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&Wa(_),F});return function(F){return T.apply(this,arguments)}}())}function Qs(){return(Qs=(0,I.A)(function*(_,d){return Re(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Eu(_,d){return b.apply(this,arguments)}function b(){return b=(0,I.A)(function*(_,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const T=(0,ce.Ku)(_),Q={idToken:yield T.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},ae=yield Er(T,function vu(_,d){return Qs.apply(this,arguments)}(T.auth,Q));T.displayName=ae.displayName||null,T.photoURL=ae.photoUrl||null;const be=T.providerData.find(({providerId:tt})=>"password"===tt);be&&(be.displayName=T.displayName,be.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ae)}),b.apply(this,arguments)}function Uo(_,d,g,T){return(0,ce.Ku)(_).onIdTokenChanged(d,g,T)}function Sa(_){return(0,ce.Ku)(_).signOut()}const ci="__sak";class qa{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ci,"1"),this.storage.removeItem(ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gc=(()=>{class _ extends qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ge(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const F=this.storage.getItem(T),Q=this.localCache[T];F!==Q&&g(T,Q,F)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((be,tt,ot)=>{this.notifyListeners(be,ot)});const F=g.key;T?this.detachListener():this.stopPolling();const Q=()=>{const be=this.storage.getItem(F);!T&&this.localCache[F]===be||this.notifyListeners(F,be)},ae=this.storage.getItem(F);!function dt(){return(0,ce.lT)()&&10===document.documentMode}()||ae===g.newValue||g.newValue===g.oldValue?Q():setTimeout(Q,10)}notifyListeners(g,T){this.localCache[g]=T;const F=this.listeners[g];if(F)for(const Q of Array.from(F))Q(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var F=()=>super._set,Q=this;return(0,I.A)(function*(){yield F().call(Q,g,T),Q.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,F=this;return(0,I.A)(function*(){const Q=yield T().call(F,g);return F.localCache[g]=JSON.stringify(Q),Q})()}_remove(g){var T=()=>super._remove,F=this;return(0,I.A)(function*(){yield T().call(F,g),delete F.localCache[g]})()}}return _.type="LOCAL",_})(),wu=(()=>{class _ extends qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return _.type="SESSION",_})();let Kc=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(Q=>Q.isListeningto(g));if(T)return T;const F=new _(g);return this.receivers.push(F),F}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,I.A)(function*(){const F=g,{eventId:Q,eventType:ae,data:be}=F.data,tt=T.handlersMap[ae];if(!tt?.size)return;F.ports[0].postMessage({status:"ack",eventId:Q,eventType:ae});const ot=Array.from(tt).map(function(){var sn=(0,I.A)(function*(bn){return bn(F.origin,be)});return function(bn){return sn.apply(this,arguments)}}()),Gt=yield function ha(_){return Promise.all(_.map(function(){var d=(0,I.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return d.apply(this,arguments)}}()))}(ot);F.ports[0].postMessage({status:"done",eventId:Q,eventType:ae,response:Gt})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Du(_="",d=10){let g="";for(let T=0;T<d;T++)g+=Math.floor(10*Math.random());return _+g}class bs{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,T=50){var F=this;return(0,I.A)(function*(){const Q=typeof MessageChannel<"u"?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let ae,be;return new Promise((tt,ot)=>{const Gt=Du("",20);Q.port1.start();const sn=setTimeout(()=>{ot(new Error("unsupported_event"))},T);be={messageChannel:Q,onMessage(bn){const oi=bn;if(oi.data.eventId===Gt)switch(oi.data.status){case"ack":clearTimeout(sn),ae=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),tt(oi.data.response);break;default:clearTimeout(sn),clearTimeout(ae),ot(new Error("invalid_response"))}}},F.handlers.add(be),Q.port1.addEventListener("message",be.onMessage),F.target.postMessage({eventType:d,eventId:Gt,data:g},[Q.port2])}).finally(()=>{be&&F.removeMessageHandler(be)})})()}}function Fn(){return window}function qc(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function ls(){return(ls=(0,I.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ji="firebaseLocalStorageDb",qi="firebaseLocalStorage",Rs="fbase_key";class Xa{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ps(_,d){return _.transaction([qi],d?"readwrite":"readonly").objectStore(qi)}function Au(){const _=indexedDB.open(ji,1);return new Promise((d,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const T=_.result;try{T.createObjectStore(qi,{keyPath:Rs})}catch(F){g(F)}}),_.addEventListener("success",(0,I.A)(function*(){const T=_.result;T.objectStoreNames.contains(qi)?d(T):(T.close(),yield function Ya(){const _=indexedDB.deleteDatabase(ji);return new Xa(_).toPromise()}(),d(yield Au()))}))})}function So(_,d,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,I.A)(function*(_,d,g){const T=Ps(_,!0).put({[Rs]:d,value:g});return new Xa(T).toPromise()})).apply(this,arguments)}function Qc(){return(Qc=(0,I.A)(function*(_,d){const g=Ps(_,!1).get(d),T=yield new Xa(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Yu(_,d){const g=Ps(_,!0).delete(d);return new Xa(g).toPromise()}const pa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,I.A)(function*(){return g.db||(g.db=yield Au()),g.db})()}_withRetries(g){var T=this;return(0,I.A)(function*(){let F=0;for(;;)try{const Q=yield T._openDb();return yield g(Q)}catch(Q){if(F++>3)throw Q;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,I.A)(function*(){return qc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,I.A)(function*(){g.receiver=Kc._getInstance(function sr(){return qc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,I.A)(function*(F,Q){return{keyProcessed:(yield g._poll()).includes(Q.key)}});return function(F,Q){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,I.A)(function*(F,Q){return["keyChanged"]});return function(F,Q){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,I.A)(function*(){var T,F;if(g.activeServiceWorker=yield function Xu(){return ls.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new bs(g.activeServiceWorker);const Q=yield g.sender._send("ping",{},800);Q&&null!==(T=Q[0])&&void 0!==T&&T.fulfilled&&null!==(F=Q[0])&&void 0!==F&&F.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,I.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Bi(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.A)(function*(){try{if(!indexedDB)return!1;const g=yield Au();return yield So(g,ci,"1"),yield Yu(g,ci),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,I.A)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var F=this;return(0,I.A)(function*(){return F._withPendingWrite((0,I.A)(function*(){return yield F._withRetries(Q=>So(Q,g,T)),F.localCache[g]=T,F.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,I.A)(function*(){const F=yield T._withRetries(Q=>function jo(_,d){return Qc.apply(this,arguments)}(Q,g));return T.localCache[g]=F,F})()}_remove(g){var T=this;return(0,I.A)(function*(){return T._withPendingWrite((0,I.A)(function*(){return yield T._withRetries(F=>Yu(F,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,I.A)(function*(){const T=yield g._withRetries(ae=>{const be=Ps(ae,!1).getAll();return new Xa(be).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const F=[],Q=new Set;if(0!==T.length)for(const{fbase_key:ae,value:be}of T)Q.add(ae),JSON.stringify(g.localCache[ae])!==JSON.stringify(be)&&(g.notifyListeners(ae,be),F.push(ae));for(const ae of Object.keys(g.localCache))g.localCache[ae]&&!Q.has(ae)&&(g.notifyListeners(ae,null),F.push(ae));return F})()}notifyListeners(g,T){this.localCache[g]=T;const F=this.listeners[g];if(F)for(const Q of Array.from(F))Q(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,I.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ns(_,d){return d?oe(d):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}U("rcb"),new We(3e4,6e4);class Zc extends fi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return To(d,this._buildIdpRequest())}_linkToIdToken(d,g){return To(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return To(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function Md(_){return Ti(_.auth,new Zc(_),_.bypassAuthState)}function Jl(_){const{auth:d,user:g}=_;return te(g,d,"internal-error"),function $a(_,d){return Ha.apply(this,arguments)}(g,new Zc(_),_.bypassAuthState)}function Ja(_){return _c.apply(this,arguments)}function _c(){return(_c=(0,I.A)(function*(_){const{auth:d,user:g}=_;return te(g,d,"internal-error"),function Da(_,d){return As.apply(this,arguments)}(g,new Zc(_),_.bypassAuthState)})).apply(this,arguments)}class Ju{constructor(d,g,T,F,Q=!1){this.auth=d,this.resolver=T,this.user=F,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,I.A)(function*(T,F){d.pendingPromise={resolve:T,reject:F};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Q){d.reject(Q)}});return function(T,F){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,I.A)(function*(){const{urlResponse:T,sessionId:F,postBody:Q,tenantId:ae,error:be,type:tt}=d;if(be)return void g.reject(be);const ot={auth:g.auth,requestUri:T,sessionId:F,tenantId:ae||void 0,postBody:Q||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(tt)(ot))}catch(Gt){g.reject(Gt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Md;case"linkViaPopup":case"linkViaRedirect":return Ja;case"reauthViaPopup":case"reauthViaRedirect":return Jl;default:Dt(this.auth,"internal-error")}}resolve(d){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vc=new We(2e3,1e4);function Ec(_,d,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,I.A)(function*(_,d,g){if((0,z.xZ)(_.app))return Promise.reject(Ye(_,"operation-not-supported-in-this-environment"));const T=rn(_);!function qt(_,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Dt(_,"argument-error"),Tt(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(_,d,is);const F=Ns(T,g);return new gi(T,"signInViaPopup",d,F).executeNotNull()})).apply(this,arguments)}let gi=(()=>{class _ extends Ju{constructor(g,T,F,Q,ae){super(g,T,Q,ae),this.provider=F,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,I.A)(function*(){const T=yield g.execute();return te(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,I.A)(function*(){Ht(1===g.filter.length,"Popup operations only handle one event");const T=Du();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(F=>{g.reject(F)}),g.resolver._isIframeWebStorageSupported(g.auth,F=>{F||g.reject(Ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,F;this.pollId=null!==(F=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,vc.get())};g()}}return _.currentPopupAction=null,_})();const Os=new Map;class ar extends Ju{constructor(d,g,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,I.A)(function*(){let T=Os.get(g.auth._key());if(!T){try{const Q=(yield function Pi(_,d){return $o.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;T=()=>Promise.resolve(Q)}catch(F){T=()=>Promise.reject(F)}Os.set(g.auth._key(),T)}return g.bypassAuthState||Os.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,T=this;return(0,I.A)(function*(){if("signInViaRedirect"===d.type)return g().call(T,d);if("unknown"!==d.type){if(d.eventId){const F=yield T.auth._redirectUserForId(d.eventId);if(F)return T.user=F,g().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,I.A)(function*(){})()}cleanUp(){}}function $o(){return($o=(0,I.A)(function*(_,d){const g=function ds(_){return jt("pendingRedirect",_.config.apiKey,_.name)}(d),T=function mi(_){return oe(_._redirectPersistence)}(_);if(!(yield T._isAvailable()))return!1;const F="true"===(yield T._get(g));return yield T._remove(g),F})).apply(this,arguments)}function ea(_,d){Os.set(_._key(),d)}function ta(_,d){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,I.A)(function*(_,d,g=!1){if((0,z.xZ)(_.app))return Promise.reject(Vt(_));const T=rn(_),F=Ns(T,d),ae=yield new ar(T,F,g).execute();return ae&&!g&&(delete ae.user._redirectEventId,yield T._persistUserIfCurrent(ae.user),yield T._setRedirectUser(null,d)),ae})).apply(this,arguments)}class _i{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(g=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function nu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zo(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var T;if(d.error&&!zo(d)){const F=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Ye(this.auth,F))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const T=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mo(d))}saveEventToCache(d){this.cachedEventUids.add(mo(d)),this.lastProcessedEventTime=Date.now()}}function mo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function zo({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function na(){return(na=(0,I.A)(function*(_,d={}){return Re(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Od=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ed=/^https?/;function wc(){return wc=(0,I.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield function ps(_){return na.apply(this,arguments)}(_);for(const g of d)try{if(Qi(g))return}catch{}Dt(_,"unauthorized-domain")}),wc.apply(this,arguments)}function Qi(_){const d=un(),{protocol:g,hostname:T}=new URL(d);if(_.startsWith("chrome-extension://")){const ae=new URL(_);return""===ae.hostname&&""===T?"chrome-extension:"===g&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&ae.hostname===T}if(!ed.test(g))return!1;if(Od.test(_))return T===_;const F=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(T)}const vl=new We(3e4,6e4);function xd(){const _=Fn().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let El=null;const Jc=new We(5e3,15e3),rd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function id(_){const d=_.config;te(d.authDomain,_,"auth-domain-config-required");const g=d.emulator?ft(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,T={apiKey:d.apiKey,appName:_.name,v:z.MF},F=bh.get(_.config.apiHost);F&&(T.eid=F);const Q=_._getFrameworks();return Q.length&&(T.fw=Q.join(",")),`${g}?${(0,ce.Am)(T).slice(1)}`}function Ac(){return Ac=(0,I.A)(function*(_){const d=yield function xs(_){return El=El||function Sh(_){return new Promise((d,g)=>{var T,F,Q;function ae(){xd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{xd(),g(Ye(_,"network-request-failed"))},timeout:vl.get()})}if(null!==(F=null===(T=Fn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==F&&F.Iframe)d(gapi.iframes.getContext());else{if(null===(Q=Fn().gapi)||void 0===Q||!Q.load){const be=U("iframefcb");return Fn()[be]=()=>{gapi.load?ae():g(Ye(_,"network-request-failed"))},co(`${function Be(){return mr.gapiScript}()}?onload=${be}`).catch(tt=>g(tt))}ae()}}).catch(d=>{throw El=null,d})}(_),El}(_),g=Fn().gapi;return te(g,_,"internal-error"),d.open({where:document.body,url:id(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rd,dontclear:!0},T=>new Promise(function(){var F=(0,I.A)(function*(Q,ae){yield T.restyle({setHideOnLeave:!1});const be=Ye(_,"network-request-failed"),tt=Fn().setTimeout(()=>{ae(be)},Jc.get());function ot(){Fn().clearTimeout(tt),Q(T)}T.ping(ot).then(ot,()=>{ae(be)})});return function(Q,ae){return F.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const el={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fd=encodeURIComponent("fac");function Vd(_,d,g,T,F,Q){return nl.apply(this,arguments)}function nl(){return(nl=(0,I.A)(function*(_,d,g,T,F,Q){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const ae={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:T,v:z.MF,eventId:F};if(d instanceof is){d.setDefaultLanguage(_.languageCode),ae.providerId=d.providerId||"",(0,ce.Im)(d.getCustomParameters())||(ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Gt,sn]of Object.entries(Q||{}))ae[Gt]=sn}if(d instanceof Ds){const Gt=d.getScopes().filter(sn=>""!==sn);Gt.length>0&&(ae.scopes=Gt.join(","))}_.tenantId&&(ae.tid=_.tenantId);const be=ae;for(const Gt of Object.keys(be))void 0===be[Gt]&&delete be[Gt];const tt=yield _._getAppCheckToken(),ot=tt?`#${Fd}=${encodeURIComponent(tt)}`:"";return`${function Ud({config:_}){return _.emulator?ft(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,ce.Am)(be).slice(1)}${ot}`})).apply(this,arguments)}const Ru="webStorageSupport",sd=class Pu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wu,this._completeRedirectFn=ta,this._overrideRedirectResult=ea}_openPopup(d,g,T,F){var Q=this;return(0,I.A)(function*(){var ae;Ht(null===(ae=Q.eventManagers[d._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const be=yield Vd(d,g,T,un(),F);return function Ph(_,d,g,T=500,F=600){const Q=Math.max((window.screen.availHeight-F)/2,0).toString(),ae=Math.max((window.screen.availWidth-T)/2,0).toString();let be="";const tt=Object.assign(Object.assign({},el),{width:T.toString(),height:F.toString(),top:Q,left:ae}),ot=(0,ce.ZQ)().toLowerCase();g&&(be=Nr(ot)?"_blank":g),or(ot)&&(d=d||"http://localhost",tt.scrollbars="yes");const Gt=Object.entries(tt).reduce((bn,[oi,Mi])=>`${bn}${oi}=${Mi},`,"");if(function Fi(_=(0,ce.ZQ)()){var d;return Jr(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(ot)&&"_self"!==be)return function Sc(_,d){const g=document.createElement("a");g.href=_,g.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(d||"",be),new Of(null);const sn=window.open(d||"",be,Gt);te(sn,_,"popup-blocked");try{sn.focus()}catch{}return new Of(sn)}(d,be,Du())})()}_openRedirect(d,g,T,F){var Q=this;return(0,I.A)(function*(){return yield Q._originValidation(d),function Bo(_){Fn().location.href=_}(yield Vd(d,g,T,un(),F)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:F,promise:Q}=this.eventManagers[g];return F?Promise.resolve(F):(Ht(Q,"If manager is not set, promise should be"),Q)}const T=this.initAndGetManager(d);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(d){var g=this;return(0,I.A)(function*(){const T=yield function Dc(_){return Ac.apply(this,arguments)}(d),F=new _i(d);return T.register("authEvent",Q=>(te(Q?.authEvent,d,"invalid-auth-event"),{status:F.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:F},g.iframes[d._key()]=T,F})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Ru,{type:Ru},F=>{var Q;const ae=null===(Q=F?.[0])||void 0===Q?void 0:Q[Ru];void 0!==ae&&g(!!ae),Dt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bu(_){return wc.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ge()||kr()||Jr()}};var Tl="@firebase/auth";class Nu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,I.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(T=>{d(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const S=(0,ce.XA)("authIdTokenMaxAge")||300;let O=null;const K=_=>function(){var d=(0,I.A)(function*(g){const T=g&&(yield g.getIdTokenResult()),F=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(F&&F>S)return;const Q=T?.token;O!==Q&&(O=Q,yield fetch(_,{method:Q?"POST":"DELETE",headers:Q?{Authorization:`Bearer ${Q}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function ne(_=(0,z.Sx)()){const d=(0,z.j6)(_,"auth");if(d.isInitialized())return d.getImmediate();const g=function ro(_,d){const g=(0,z.j6)(_,"auth");if(g.isInitialized()){const F=g.getImmediate(),Q=g.getOptions();if((0,ce.bD)(Q,d??{}))return F;Dt(F,"already-initialized")}return g.initialize({options:d})}(_,{popupRedirectResolver:sd,persistence:[pa,Gc,wu]}),T=(0,ce.XA)("authTokenSyncURL");if(T&&"boolean"==typeof isSecureContext&&isSecureContext){const Q=new URL(T,location.origin);if(location.origin===Q.origin){const ae=K(Q.toString());(function qr(_,d,g){(0,ce.Ku)(_).beforeAuthStateChanged(d,g)})(g,ae,()=>ae(g.currentUser)),Uo(g,be=>ae(be))}}const F=(0,ce.Tj)("auth");return F&&function ys(_,d,g){const T=rn(_);te(T._canInitEmulator,T,"emulator-config-failed"),te(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const F=!!g?.disableWarnings,Q=lo(d),{host:ae,port:be}=function Gi(_){const d=lo(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(T);if(F){const Q=F[1];return{host:Q,port:Io(T.substr(Q.length+1))}}{const[Q,ae]=T.split(":");return{host:Q,port:Io(ae)}}}(d);T.config.emulator={url:`${Q}//${ae}${null===be?"":`:${be}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ae,port:be,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ri(){function _(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(g,`http://${F}`),g}(function Xr(_){mr=_})({loadJS:_=>new Promise((d,g)=>{const T=document.createElement("script");T.setAttribute("src",_),T.onload=d,T.onerror=F=>{const Q=Ye("internal-error");Q.customData=F,g(Q)},T.type="text/javascript",T.charset="UTF-8",function de(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function h(_){(0,z.om)(new Ue.uA("auth",(d,{options:g})=>{const T=d.getProvider("app").getImmediate(),F=d.getProvider("heartbeat"),Q=d.getProvider("app-check-internal"),{apiKey:ae,authDomain:be}=T.options;te(ae&&!ae.includes(":"),"invalid-api-key",{appName:T.name});const tt={apiKey:ae,authDomain:be,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(_)},ot=new pn(T,F,Q,tt);return function Gr(_,d){const g=d?.persistence||[],T=(Array.isArray(g)?g:[g]).map(oe);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(T,d?.popupRedirectResolver)}(ot,g),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,T)=>{d.getProvider("auth-internal").initialize()})),(0,z.om)(new Ue.uA("auth-internal",d=>{const g=rn(d.getProvider("auth").getImmediate());return new Nu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.KO)(Tl,"1.8.2",function D(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,z.KO)(Tl,"1.8.2","esm2017")}("Browser")},3273:(an,Je,V)=>{V.d(Je,{Dc:()=>se,gS:()=>sh,rJ:()=>jh,kd:()=>dm,H9:()=>zg,x7:()=>Ew,aU:()=>lE,aQ:()=>Iw,mZ:()=>lm});var je,Qe,I=V(467),z=V(7852),ce=V(1362),W=V(8041),Ee=V(1076),Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(qe,Ce,xe){xe||(xe=0);var Xe=Array(16);if("string"==typeof Ce)for(var rt=0;16>rt;++rt)Xe[rt]=Ce.charCodeAt(xe++)|Ce.charCodeAt(xe++)<<8|Ce.charCodeAt(xe++)<<16|Ce.charCodeAt(xe++)<<24;else for(rt=0;16>rt;++rt)Xe[rt]=Ce[xe++]|Ce[xe++]<<8|Ce[xe++]<<16|Ce[xe++]<<24;var mt=qe.g[3],Le=(Ce=qe.g[0])+(mt^(xe=qe.g[1])&((rt=qe.g[2])^mt))+Xe[0]+3614090360&4294967295;Le=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=(xe=(rt=(mt=(Ce=xe+(Le<<7&4294967295|Le>>>25))+((Le=mt+(rt^Ce&(xe^rt))+Xe[1]+3905402710&4294967295)<<12&4294967295|Le>>>20))+((Le=rt+(xe^mt&(Ce^xe))+Xe[2]+606105819&4294967295)<<17&4294967295|Le>>>15))+((Le=xe+(Ce^rt&(mt^Ce))+Xe[3]+3250441966&4294967295)<<22&4294967295|Le>>>10))+((Le=Ce+(mt^xe&(rt^mt))+Xe[4]+4118548399&4294967295)<<7&4294967295|Le>>>25))+((Le=mt+(rt^Ce&(xe^rt))+Xe[5]+1200080426&4294967295)<<12&4294967295|Le>>>20))+((Le=rt+(xe^mt&(Ce^xe))+Xe[6]+2821735955&4294967295)<<17&4294967295|Le>>>15))+((Le=xe+(Ce^rt&(mt^Ce))+Xe[7]+4249261313&4294967295)<<22&4294967295|Le>>>10))+((Le=Ce+(mt^xe&(rt^mt))+Xe[8]+1770035416&4294967295)<<7&4294967295|Le>>>25))+((Le=mt+(rt^Ce&(xe^rt))+Xe[9]+2336552879&4294967295)<<12&4294967295|Le>>>20))+((Le=rt+(xe^mt&(Ce^xe))+Xe[10]+4294925233&4294967295)<<17&4294967295|Le>>>15))+((Le=xe+(Ce^rt&(mt^Ce))+Xe[11]+2304563134&4294967295)<<22&4294967295|Le>>>10))+((Le=Ce+(mt^xe&(rt^mt))+Xe[12]+1804603682&4294967295)<<7&4294967295|Le>>>25))+((Le=mt+(rt^Ce&(xe^rt))+Xe[13]+4254626195&4294967295)<<12&4294967295|Le>>>20))+((Le=rt+(xe^mt&(Ce^xe))+Xe[14]+2792965006&4294967295)<<17&4294967295|Le>>>15))+((Le=xe+(Ce^rt&(mt^Ce))+Xe[15]+1236535329&4294967295)<<22&4294967295|Le>>>10))+((Le=Ce+(rt^mt&(xe^rt))+Xe[1]+4129170786&4294967295)<<5&4294967295|Le>>>27))+((Le=mt+(xe^rt&(Ce^xe))+Xe[6]+3225465664&4294967295)<<9&4294967295|Le>>>23))+((Le=rt+(Ce^xe&(mt^Ce))+Xe[11]+643717713&4294967295)<<14&4294967295|Le>>>18))+((Le=xe+(mt^Ce&(rt^mt))+Xe[0]+3921069994&4294967295)<<20&4294967295|Le>>>12))+((Le=Ce+(rt^mt&(xe^rt))+Xe[5]+3593408605&4294967295)<<5&4294967295|Le>>>27))+((Le=mt+(xe^rt&(Ce^xe))+Xe[10]+38016083&4294967295)<<9&4294967295|Le>>>23))+((Le=rt+(Ce^xe&(mt^Ce))+Xe[15]+3634488961&4294967295)<<14&4294967295|Le>>>18))+((Le=xe+(mt^Ce&(rt^mt))+Xe[4]+3889429448&4294967295)<<20&4294967295|Le>>>12))+((Le=Ce+(rt^mt&(xe^rt))+Xe[9]+568446438&4294967295)<<5&4294967295|Le>>>27))+((Le=mt+(xe^rt&(Ce^xe))+Xe[14]+3275163606&4294967295)<<9&4294967295|Le>>>23))+((Le=rt+(Ce^xe&(mt^Ce))+Xe[3]+4107603335&4294967295)<<14&4294967295|Le>>>18))+((Le=xe+(mt^Ce&(rt^mt))+Xe[8]+1163531501&4294967295)<<20&4294967295|Le>>>12))+((Le=Ce+(rt^mt&(xe^rt))+Xe[13]+2850285829&4294967295)<<5&4294967295|Le>>>27))+((Le=mt+(xe^rt&(Ce^xe))+Xe[2]+4243563512&4294967295)<<9&4294967295|Le>>>23))+((Le=rt+(Ce^xe&(mt^Ce))+Xe[7]+1735328473&4294967295)<<14&4294967295|Le>>>18))+((Le=xe+(mt^Ce&(rt^mt))+Xe[12]+2368359562&4294967295)<<20&4294967295|Le>>>12))+((Le=Ce+(xe^rt^mt)+Xe[5]+4294588738&4294967295)<<4&4294967295|Le>>>28))+((Le=mt+(Ce^xe^rt)+Xe[8]+2272392833&4294967295)<<11&4294967295|Le>>>21))+((Le=rt+(mt^Ce^xe)+Xe[11]+1839030562&4294967295)<<16&4294967295|Le>>>16))+((Le=xe+(rt^mt^Ce)+Xe[14]+4259657740&4294967295)<<23&4294967295|Le>>>9))+((Le=Ce+(xe^rt^mt)+Xe[1]+2763975236&4294967295)<<4&4294967295|Le>>>28))+((Le=mt+(Ce^xe^rt)+Xe[4]+1272893353&4294967295)<<11&4294967295|Le>>>21))+((Le=rt+(mt^Ce^xe)+Xe[7]+4139469664&4294967295)<<16&4294967295|Le>>>16))+((Le=xe+(rt^mt^Ce)+Xe[10]+3200236656&4294967295)<<23&4294967295|Le>>>9))+((Le=Ce+(xe^rt^mt)+Xe[13]+681279174&4294967295)<<4&4294967295|Le>>>28))+((Le=mt+(Ce^xe^rt)+Xe[0]+3936430074&4294967295)<<11&4294967295|Le>>>21))+((Le=rt+(mt^Ce^xe)+Xe[3]+3572445317&4294967295)<<16&4294967295|Le>>>16))+((Le=xe+(rt^mt^Ce)+Xe[6]+76029189&4294967295)<<23&4294967295|Le>>>9))+((Le=Ce+(xe^rt^mt)+Xe[9]+3654602809&4294967295)<<4&4294967295|Le>>>28))+((Le=mt+(Ce^xe^rt)+Xe[12]+3873151461&4294967295)<<11&4294967295|Le>>>21))+((Le=rt+(mt^Ce^xe)+Xe[15]+530742520&4294967295)<<16&4294967295|Le>>>16))+((Le=xe+(rt^mt^Ce)+Xe[2]+3299628645&4294967295)<<23&4294967295|Le>>>9))+((Le=Ce+(rt^(xe|~mt))+Xe[0]+4096336452&4294967295)<<6&4294967295|Le>>>26))+((Le=mt+(xe^(Ce|~rt))+Xe[7]+1126891415&4294967295)<<10&4294967295|Le>>>22))+((Le=rt+(Ce^(mt|~xe))+Xe[14]+2878612391&4294967295)<<15&4294967295|Le>>>17))+((Le=xe+(mt^(rt|~Ce))+Xe[5]+4237533241&4294967295)<<21&4294967295|Le>>>11))+((Le=Ce+(rt^(xe|~mt))+Xe[12]+1700485571&4294967295)<<6&4294967295|Le>>>26))+((Le=mt+(xe^(Ce|~rt))+Xe[3]+2399980690&4294967295)<<10&4294967295|Le>>>22))+((Le=rt+(Ce^(mt|~xe))+Xe[10]+4293915773&4294967295)<<15&4294967295|Le>>>17))+((Le=xe+(mt^(rt|~Ce))+Xe[1]+2240044497&4294967295)<<21&4294967295|Le>>>11))+((Le=Ce+(rt^(xe|~mt))+Xe[8]+1873313359&4294967295)<<6&4294967295|Le>>>26))+((Le=mt+(xe^(Ce|~rt))+Xe[15]+4264355552&4294967295)<<10&4294967295|Le>>>22))+((Le=rt+(Ce^(mt|~xe))+Xe[6]+2734768916&4294967295)<<15&4294967295|Le>>>17))+((Le=xe+(mt^(rt|~Ce))+Xe[13]+1309151649&4294967295)<<21&4294967295|Le>>>11))+((mt=(Ce=xe+((Le=Ce+(rt^(xe|~mt))+Xe[4]+4149444226&4294967295)<<6&4294967295|Le>>>26))+((Le=mt+(xe^(Ce|~rt))+Xe[11]+3174756917&4294967295)<<10&4294967295|Le>>>22))^((rt=mt+((Le=rt+(Ce^(mt|~xe))+Xe[2]+718787259&4294967295)<<15&4294967295|Le>>>17))|~Ce))+Xe[9]+3951481745&4294967295,qe.g[0]=qe.g[0]+Ce&4294967295,qe.g[1]=qe.g[1]+(rt+(Le<<21&4294967295|Le>>>11))&4294967295,qe.g[2]=qe.g[2]+rt&4294967295,qe.g[3]=qe.g[3]+mt&4294967295}function v(qe,Ce){this.h=Ce;for(var xe=[],Xe=!0,rt=qe.length-1;0<=rt;rt--){var mt=0|qe[rt];Xe&&mt==Ce||(xe[rt]=mt,Xe=!1)}this.g=xe}(function n(qe,Ce){function xe(){}xe.prototype=Ce.prototype,qe.D=Ce.prototype,qe.prototype=new xe,qe.prototype.constructor=qe,qe.C=function(Xe,rt,mt){for(var Le=Array(arguments.length-2),Vu=2;Vu<arguments.length;Vu++)Le[Vu-2]=arguments[Vu];return Ce.prototype[rt].apply(Xe,Le)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(qe,Ce){void 0===Ce&&(Ce=qe.length);for(var xe=Ce-this.blockSize,Xe=this.B,rt=this.h,mt=0;mt<Ce;){if(0==rt)for(;mt<=xe;)c(this,qe,mt),mt+=this.blockSize;if("string"==typeof qe){for(;mt<Ce;)if(Xe[rt++]=qe.charCodeAt(mt++),rt==this.blockSize){c(this,Xe),rt=0;break}}else for(;mt<Ce;)if(Xe[rt++]=qe[mt++],rt==this.blockSize){c(this,Xe),rt=0;break}}this.h=rt,this.o+=Ce},s.prototype.v=function(){var qe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);qe[0]=128;for(var Ce=1;Ce<qe.length-8;++Ce)qe[Ce]=0;var xe=8*this.o;for(Ce=qe.length-8;Ce<qe.length;++Ce)qe[Ce]=255&xe,xe/=256;for(this.u(qe),qe=Array(16),Ce=xe=0;4>Ce;++Ce)for(var Xe=0;32>Xe;Xe+=8)qe[xe++]=this.g[Ce]>>>Xe&255;return qe};var R={};function N(qe){return-128<=qe&&128>qe?function f(qe,Ce){var xe=R;return Object.prototype.hasOwnProperty.call(xe,qe)?xe[qe]:xe[qe]=Ce(qe)}(qe,function(Ce){return new v([0|Ce],0>Ce?-1:0)}):new v([0|qe],0>qe?-1:0)}function j(qe){if(isNaN(qe)||!isFinite(qe))return ue;if(0>qe)return Kt(j(-qe));for(var Ce=[],xe=1,Xe=0;qe>=xe;Xe++)Ce[Xe]=qe/xe|0,xe*=4294967296;return new v(Ce,0)}var ue=N(0),Me=N(1),lt=N(16777216);function Bt(qe){if(0!=qe.h)return!1;for(var Ce=0;Ce<qe.g.length;Ce++)if(0!=qe.g[Ce])return!1;return!0}function en(qe){return-1==qe.h}function Kt(qe){for(var Ce=qe.g.length,xe=[],Xe=0;Xe<Ce;Xe++)xe[Xe]=~qe.g[Xe];return new v(xe,~qe.h).add(Me)}function On(qe,Ce){return qe.add(Kt(Ce))}function Xn(qe,Ce){for(;(65535&qe[Ce])!=qe[Ce];)qe[Ce+1]+=qe[Ce]>>>16,qe[Ce]&=65535,Ce++}function kn(qe,Ce){this.g=qe,this.h=Ce}function pr(qe,Ce){if(Bt(Ce))throw Error("division by zero");if(Bt(qe))return new kn(ue,ue);if(en(qe))return Ce=pr(Kt(qe),Ce),new kn(Kt(Ce.g),Kt(Ce.h));if(en(Ce))return Ce=pr(qe,Kt(Ce)),new kn(Kt(Ce.g),Ce.h);if(30<qe.g.length){if(en(qe)||en(Ce))throw Error("slowDivide_ only works with positive integers.");for(var xe=Me,Xe=Ce;0>=Xe.l(qe);)xe=si(xe),Xe=si(Xe);var rt=Cr(xe,1),mt=Cr(Xe,1);for(Xe=Cr(Xe,2),xe=Cr(xe,2);!Bt(Xe);){var Le=mt.add(Xe);0>=Le.l(qe)&&(rt=rt.add(xe),mt=Le),Xe=Cr(Xe,1),xe=Cr(xe,1)}return Ce=On(qe,rt.j(Ce)),new kn(rt,Ce)}for(rt=ue;0<=qe.l(Ce);){for(xe=Math.max(1,Math.floor(qe.m()/Ce.m())),Xe=48>=(Xe=Math.ceil(Math.log(xe)/Math.LN2))?1:Math.pow(2,Xe-48),Le=(mt=j(xe)).j(Ce);en(Le)||0<Le.l(qe);)Le=(mt=j(xe-=Xe)).j(Ce);Bt(mt)&&(mt=Me),rt=rt.add(mt),qe=On(qe,Le)}return new kn(rt,qe)}function si(qe){for(var Ce=qe.g.length+1,xe=[],Xe=0;Xe<Ce;Xe++)xe[Xe]=qe.i(Xe)<<1|qe.i(Xe-1)>>>31;return new v(xe,qe.h)}function Cr(qe,Ce){var xe=Ce>>5;Ce%=32;for(var Xe=qe.g.length-xe,rt=[],mt=0;mt<Xe;mt++)rt[mt]=0<Ce?qe.i(mt+xe)>>>Ce|qe.i(mt+xe+1)<<32-Ce:qe.i(mt+xe);return new v(rt,qe.h)}(u=v.prototype).m=function(){if(en(this))return-Kt(this).m();for(var qe=0,Ce=1,xe=0;xe<this.g.length;xe++){var Xe=this.i(xe);qe+=(0<=Xe?Xe:4294967296+Xe)*Ce,Ce*=4294967296}return qe},u.toString=function(qe){if(2>(qe=qe||10)||36<qe)throw Error("radix out of range: "+qe);if(Bt(this))return"0";if(en(this))return"-"+Kt(this).toString(qe);for(var Ce=j(Math.pow(qe,6)),xe=this,Xe="";;){var rt=pr(xe,Ce).g,mt=((0<(xe=On(xe,rt.j(Ce))).g.length?xe.g[0]:xe.h)>>>0).toString(qe);if(Bt(xe=rt))return mt+Xe;for(;6>mt.length;)mt="0"+mt;Xe=mt+Xe}},u.i=function(qe){return 0>qe?0:qe<this.g.length?this.g[qe]:this.h},u.l=function(qe){return en(qe=On(this,qe))?-1:Bt(qe)?0:1},u.abs=function(){return en(this)?Kt(this):this},u.add=function(qe){for(var Ce=Math.max(this.g.length,qe.g.length),xe=[],Xe=0,rt=0;rt<=Ce;rt++){var mt=Xe+(65535&this.i(rt))+(65535&qe.i(rt)),Le=(mt>>>16)+(this.i(rt)>>>16)+(qe.i(rt)>>>16);Xe=Le>>>16,xe[rt]=(Le&=65535)<<16|(mt&=65535)}return new v(xe,-2147483648&xe[xe.length-1]?-1:0)},u.j=function(qe){if(Bt(this)||Bt(qe))return ue;if(en(this))return en(qe)?Kt(this).j(Kt(qe)):Kt(Kt(this).j(qe));if(en(qe))return Kt(this.j(Kt(qe)));if(0>this.l(lt)&&0>qe.l(lt))return j(this.m()*qe.m());for(var Ce=this.g.length+qe.g.length,xe=[],Xe=0;Xe<2*Ce;Xe++)xe[Xe]=0;for(Xe=0;Xe<this.g.length;Xe++)for(var rt=0;rt<qe.g.length;rt++){var mt=this.i(Xe)>>>16,Le=65535&this.i(Xe),Vu=qe.i(rt)>>>16,cl=65535&qe.i(rt);xe[2*Xe+2*rt]+=Le*cl,Xn(xe,2*Xe+2*rt),xe[2*Xe+2*rt+1]+=mt*cl,Xn(xe,2*Xe+2*rt+1),xe[2*Xe+2*rt+1]+=Le*Vu,Xn(xe,2*Xe+2*rt+1),xe[2*Xe+2*rt+2]+=mt*Vu,Xn(xe,2*Xe+2*rt+2)}for(Xe=0;Xe<Ce;Xe++)xe[Xe]=xe[2*Xe+1]<<16|xe[2*Xe];for(Xe=Ce;Xe<2*Ce;Xe++)xe[Xe]=0;return new v(xe,0)},u.A=function(qe){return pr(this,qe).h},u.and=function(qe){for(var Ce=Math.max(this.g.length,qe.g.length),xe=[],Xe=0;Xe<Ce;Xe++)xe[Xe]=this.i(Xe)&qe.i(Xe);return new v(xe,this.h&qe.h)},u.or=function(qe){for(var Ce=Math.max(this.g.length,qe.g.length),xe=[],Xe=0;Xe<Ce;Xe++)xe[Xe]=this.i(Xe)|qe.i(Xe);return new v(xe,this.h|qe.h)},u.xor=function(qe){for(var Ce=Math.max(this.g.length,qe.g.length),xe=[],Xe=0;Xe<Ce;Xe++)xe[Xe]=this.i(Xe)^qe.i(Xe);return new v(xe,this.h^qe.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Qe=Ne.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=j,v.fromString=function J(qe,Ce){if(0==qe.length)throw Error("number format error: empty string");if(2>(Ce=Ce||10)||36<Ce)throw Error("radix out of range: "+Ce);if("-"==qe.charAt(0))return Kt(J(qe.substring(1),Ce));if(0<=qe.indexOf("-"))throw Error('number format error: interior "-" character');for(var xe=j(Math.pow(Ce,8)),Xe=ue,rt=0;rt<qe.length;rt+=8){var mt=Math.min(8,qe.length-rt),Le=parseInt(qe.substring(rt,rt+mt),Ce);8>mt?(mt=j(Math.pow(Ce,mt)),Xe=Xe.j(mt).add(j(Le))):Xe=(Xe=Xe.j(xe)).add(j(Le))}return Xe},je=Ne.Integer=v}).apply(typeof Ue<"u"?Ue:typeof self<"u"?self:typeof window<"u"?window:{});var He,vt,At,mn,fn,zt,dn,En,ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={};(function(){var u,n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,x,H){return m==Array.prototype||m==Object.prototype||(m[x]=H.value),m},s=function i(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ge&&ge];for(var x=0;x<m.length;++x){var H=m[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function c(m,x){if(x)e:{var H=s;m=m.split(".");for(var ie=0;ie<m.length-1;ie++){var it=m[ie];if(!(it in H))break e;H=H[it]}(x=x(ie=H[m=m[m.length-1]]))!=ie&&null!=x&&n(H,m,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(m){return m||function(){return function f(m,x){m instanceof String&&(m+="");var H=0,ie=!1,it={next:function(){if(!ie&&H<m.length){var Rt=H++;return{value:x(Rt,m[Rt]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}(this,function(x,H){return H})}});var v=v||{},R=this||self;function N(m){var x=typeof m;return"array"==(x="object"!=x?x:m?Array.isArray(m)?"array":x:"null")||"object"==x&&"number"==typeof m.length}function j(m){var x=typeof m;return"object"==x&&null!=m||"function"==x}function J(m,x,H){return m.call.apply(m.bind,arguments)}function ue(m,x,H){if(!m)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,ie),m.apply(x,it)}}return function(){return m.apply(x,arguments)}}function Me(m,x,H){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:ue).apply(null,arguments)}function lt(m,x){var H=Array.prototype.slice.call(arguments,1);return function(){var ie=H.slice();return ie.push.apply(ie,arguments),m.apply(this,ie)}}function Bt(m,x){function H(){}H.prototype=x.prototype,m.aa=x.prototype,m.prototype=new H,m.prototype.constructor=m,m.Qb=function(ie,it,Rt){for(var Ft=Array(arguments.length-2),Ei=2;Ei<arguments.length;Ei++)Ft[Ei-2]=arguments[Ei];return x.prototype[it].apply(ie,Ft)}}function en(m){const x=m.length;if(0<x){const H=Array(x);for(let ie=0;ie<x;ie++)H[ie]=m[ie];return H}return[]}function Kt(m,x){for(let H=1;H<arguments.length;H++){const ie=arguments[H];if(N(ie)){const it=m.length||0,Rt=ie.length||0;m.length=it+Rt;for(let Ft=0;Ft<Rt;Ft++)m[it+Ft]=ie[Ft]}else m.push(ie)}}function Xn(m){return/^[\s\xa0]*$/.test(m)}function kn(){var m=R.navigator;return m&&(m=m.userAgent)?m:""}function pr(m){return pr[" "](m),m}pr[" "]=function(){};var si=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function Cr(m,x,H){for(const ie in m)x.call(H,m[ie],ie,m)}function Ce(m){const x={};for(const H in m)x[H]=m[H];return x}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(m,x){let H,ie;for(let it=1;it<arguments.length;it++){for(H in ie=arguments[it],ie)m[H]=ie[H];for(let Rt=0;Rt<xe.length;Rt++)H=xe[Rt],Object.prototype.hasOwnProperty.call(ie,H)&&(m[H]=ie[H])}}function rt(m){var x=1;m=m.split(":");const H=[];for(;0<x&&m.length;)H.push(m.shift()),x--;return m.length&&H.push(m.join(":")),H}function mt(m){R.setTimeout(()=>{throw m},0)}function Le(){var m=gm;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}var cl=new class On{constructor(x,H){this.i=x,this.j=H,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new ME,m=>m.reset());class ME{constructor(){this.next=this.g=this.h=null}set(x,H){this.h=x,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let lh,Zh=!1,gm=new class Vu{constructor(){this.h=this.g=null}add(x,H){const ie=cl.get();ie.set(x,H),this.h?this.h.next=ie:this.g=ie,this.h=ie}},mm=()=>{const m=R.Promise.resolve(void 0);lh=()=>{m.then(h_)}};var h_=()=>{for(var m;m=Le();){try{m.h.call(m.g)}catch(H){mt(H)}var x=cl;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}Zh=!1};function xl(){this.s=this.s,this.C=this.C}function ia(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}xl.prototype.s=!1,xl.prototype.ma=function(){this.s||(this.s=!0,this.N())},xl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ia.prototype.h=function(){this.defaultPrevented=!0};var Jh=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const H=()=>{};R.addEventListener("test",H,x),R.removeEventListener("test",H,x)}catch{}return m}();function dh(m,x){if(ia.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var H=this.type=m.type,ie=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(si){e:{try{pr(x.nodeName);var it=!0;break e}catch{}it=!1}it||(x=null)}}else"mouseover"==H?x=m.fromElement:"mouseout"==H&&(x=m.toElement);this.relatedTarget=x,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:ym[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&dh.aa.h.call(this)}}Bt(dh,ia);var ym={2:"touch",3:"pen",4:"mouse"};dh.prototype.h=function(){dh.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ef="closure_listenable_"+(1e6*Math.random()|0),bw=0;function Rw(m,x,H,ie,it){this.listener=m,this.proxy=null,this.src=x,this.type=H,this.capture=!!ie,this.ha=it,this.key=++bw,this.da=this.fa=!1}function _m(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function kl(m){this.src=m,this.g={},this.h=0}function vm(m,x){var H=x.type;if(H in m.g){var Rt,ie=m.g[H],it=Array.prototype.indexOf.call(ie,x,void 0);(Rt=0<=it)&&Array.prototype.splice.call(ie,it,1),Rt&&(_m(x),0==m.g[H].length&&(delete m.g[H],m.h--))}}function hh(m,x,H,ie){for(var it=0;it<m.length;++it){var Rt=m[it];if(!Rt.da&&Rt.listener==x&&Rt.capture==!!H&&Rt.ha==ie)return it}return-1}kl.prototype.add=function(m,x,H,ie,it){var Rt=m.toString();(m=this.g[Rt])||(m=this.g[Rt]=[],this.h++);var Ft=hh(m,x,ie,it);return-1<Ft?(x=m[Ft],H||(x.fa=!1)):((x=new Rw(x,this.src,Rt,!!ie,it)).fa=H,m.push(x)),x};var tf="closure_lm_"+(1e6*Math.random()|0),Ed={};function NE(m,x,H,ie,it){if(ie&&ie.once)return p_(m,x,H,ie,it);if(Array.isArray(x)){for(var Rt=0;Rt<x.length;Rt++)NE(m,x[Rt],H,ie,it);return null}return H=wm(H),m&&m[ef]?m.K(x,H,j(ie)?!!ie.capture:!!ie,it):OE(m,x,H,!1,ie,it)}function OE(m,x,H,ie,it,Rt){if(!x)throw Error("Invalid event type");var Ft=j(it)?!!it.capture:!!it,Ei=Pp(m);if(Ei||(m[tf]=Ei=new kl(m)),(H=Ei.add(x,H,ie,Ft,Rt)).proxy)return H;if(ie=function f_(){const x=Id;return function m(H){return x.call(m.src,m.listener,H)}}(),H.proxy=ie,ie.src=m,ie.listener=H,m.addEventListener)Jh||(it=Ft),void 0===it&&(it=!1),m.addEventListener(x.toString(),ie,it);else if(m.attachEvent)m.attachEvent(Im(x.toString()),ie);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(ie)}return H}function p_(m,x,H,ie,it){if(Array.isArray(x)){for(var Rt=0;Rt<x.length;Rt++)p_(m,x[Rt],H,ie,it);return null}return H=wm(H),m&&m[ef]?m.L(x,H,j(ie)?!!ie.capture:!!ie,it):OE(m,x,H,!0,ie,it)}function Em(m,x,H,ie,it){if(Array.isArray(x))for(var Rt=0;Rt<x.length;Rt++)Em(m,x[Rt],H,ie,it);else ie=j(ie)?!!ie.capture:!!ie,H=wm(H),m&&m[ef]?(m=m.i,(x=String(x).toString())in m.g&&-1<(H=hh(Rt=m.g[x],H,ie,it))&&(_m(Rt[H]),Array.prototype.splice.call(Rt,H,1),0==Rt.length&&(delete m.g[x],m.h--))):m&&(m=Pp(m))&&(x=m.g[x.toString()],m=-1,x&&(m=hh(x,H,ie,it)),(H=-1<m?x[m]:null)&&nf(H))}function nf(m){if("number"!=typeof m&&m&&!m.da){var x=m.src;if(x&&x[ef])vm(x.i,m);else{var H=m.type,ie=m.proxy;x.removeEventListener?x.removeEventListener(H,ie,m.capture):x.detachEvent?x.detachEvent(Im(H),ie):x.addListener&&x.removeListener&&x.removeListener(ie),(H=Pp(x))?(vm(H,m),0==H.h&&(H.src=null,x[tf]=null)):_m(m)}}}function Im(m){return m in Ed?Ed[m]:Ed[m]="on"+m}function Id(m,x){if(m.da)m=!0;else{x=new dh(x,this);var H=m.listener,ie=m.ha||m.src;m.fa&&nf(m),m=H.call(ie,x)}return m}function Pp(m){return(m=m[tf])instanceof kl?m:null}var Tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(m){return"function"==typeof m?m:(m[Tm]||(m[Tm]=function(x){return m.handleEvent(x)}),m[Tm])}function oa(){xl.call(this),this.i=new kl(this),this.M=this,this.F=null}function va(m,x){var H,ie=m.F;if(ie)for(H=[];ie;ie=ie.F)H.push(ie);if(m=m.M,ie=x.type||x,"string"==typeof x)x=new ia(x,m);else if(x instanceof ia)x.target=x.target||m;else{var it=x;Xe(x=new ia(ie,m),it)}if(it=!0,H)for(var Rt=H.length-1;0<=Rt;Rt--){var Ft=x.g=H[Rt];it=rf(Ft,ie,!0,x)&&it}if(it=rf(Ft=x.g=m,ie,!0,x)&&it,it=rf(Ft,ie,!1,x)&&it,H)for(Rt=0;Rt<H.length;Rt++)it=rf(Ft=x.g=H[Rt],ie,!1,x)&&it}function rf(m,x,H,ie){if(!(x=m.i.g[String(x)]))return!0;x=x.concat();for(var it=!0,Rt=0;Rt<x.length;++Rt){var Ft=x[Rt];if(Ft&&!Ft.da&&Ft.capture==H){var Ei=Ft.listener,ms=Ft.ha||Ft.src;Ft.fa&&vm(m.i,Ft),it=!1!==Ei.call(ms,ie)&&it}}return it&&!ie.defaultPrevented}function g_(m,x,H){if("function"==typeof m)H&&(m=Me(m,H));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Me(m.handleEvent,m)}return 2147483647<Number(x)?-1:R.setTimeout(m,x||0)}function m_(m){m.g=g_(()=>{m.g=null,m.i&&(m.i=!1,m_(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}Bt(oa,xl),oa.prototype[ef]=!0,oa.prototype.removeEventListener=function(m,x,H,ie){Em(this,m,x,H,ie)},oa.prototype.N=function(){if(oa.aa.N.call(this),this.i){var x,m=this.i;for(x in m.g){for(var H=m.g[x],ie=0;ie<H.length;ie++)_m(H[ie]);delete m.g[x],m.h--}}this.F=null},oa.prototype.K=function(m,x,H,ie){return this.i.add(String(m),x,!1,H,ie)},oa.prototype.L=function(m,x,H,ie){return this.i.add(String(m),x,!0,H,ie)};class xE extends xl{constructor(x,H){super(),this.m=x,this.l=H,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:m_(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sf(m){xl.call(this),this.h=m,this.g={}}Bt(sf,xl);var y_=[];function Mp(m){Cr(m.g,function(x,H){this.g.hasOwnProperty(H)&&nf(x)},m),m.g={}}sf.prototype.N=function(){sf.aa.N.call(this),Mp(this)},sf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dm=R.JSON.stringify,kE=R.JSON.parse,__=class{stringify(m){return R.JSON.stringify(m,void 0)}parse(m){return R.JSON.parse(m,void 0)}};function af(){}function Fc(){}af.prototype.h=null;var Ll={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uf(){ia.call(this,"d")}function Fl(){ia.call(this,"c")}Bt(uf,ia),Bt(Fl,ia);var Td={},v_=null;function Am(){return v_=v_||new oa}function cf(m){ia.call(this,Td.La,m)}function wd(m){const x=Am();va(x,new cf(x))}function Cm(m,x){ia.call(this,Td.STAT_EVENT,m),this.stat=x}function sa(m){const x=Am();va(x,new Cm(x,m))}function Sm(m,x){ia.call(this,Td.Ma,m),this.size=x}function sc(m,x){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){m()},x)}function lf(){this.g=!0}function fh(m,x,H,ie){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+function ll(m,x){if(!m.g)return x;if(!x)return null;try{var H=JSON.parse(x);if(H)for(m=0;m<H.length;m++)if(Array.isArray(H[m])){var ie=H[m];if(!(2>ie.length)){var it=ie[1];if(Array.isArray(it)&&!(1>it.length)){var Rt=it[0];if("noop"!=Rt&&"stop"!=Rt&&"close"!=Rt)for(var Ft=1;Ft<it.length;Ft++)it[Ft]=""}}}return Dm(H)}catch{return x}}(m,H)+(ie?" "+ie:"")})}Td.La="serverreachability",Bt(cf,ia),Td.STAT_EVENT="statevent",Bt(Cm,ia),Td.Ma="timingevent",Bt(Sm,ia),lf.prototype.xa=function(){this.g=!1},lf.prototype.info=function(){};var bm,dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Op(){}function Vl(m,x,H,ie){this.j=m,this.i=x,this.l=H,this.R=ie||1,this.U=new sf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I_}function I_(){this.i=null,this.g="",this.h=!1}Bt(Op,af),Op.prototype.g=function(){return new XMLHttpRequest},Op.prototype.i=function(){return{}},bm=new Op;var T_={},xp={};function Rm(m,x,H){m.L=1,m.v=hf(Uc(x)),m.m=H,m.P=!0,w_(m,null)}function w_(m,x){m.F=Date.now(),Dd(m),m.A=Uc(m.v);var H=m.A,ie=m.R;Array.isArray(ie)||(ie=[String(ie)]),qE(H.i,"t",ie),m.C=0,H=m.j.J,m.h=new I_,m.g=U_(m.j,H?x:null,!m.m),0<m.O&&(m.M=new xE(Me(m.Y,m,m.g),m.O)),x=m.U,H=m.g,ie=m.ca;var it="readystatechange";Array.isArray(it)||(it&&(y_[0]=it.toString()),it=y_);for(var Rt=0;Rt<it.length;Rt++){var Ft=NE(H,it[Rt],ie||x.handleEvent,!1,x.h||x);if(!Ft)break;x.g[Ft.key]=Ft}x=m.H?Ce(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),wd(),function LE(m,x,H,ie,it,Rt){m.info(function(){if(m.g)if(Rt)for(var Ft="",Ei=Rt.split("&"),ms=0;ms<Ei.length;ms++){var Zr=Ei[ms].split("=");if(1<Zr.length){var ts=Zr[0];Zr=Zr[1];var vo=ts.split("_");Ft=2<=vo.length&&"type"==vo[1]?Ft+(ts+"=")+Zr+"&":Ft+(ts+"=redacted&")}}else Ft=null;else Ft=Rt;return"XMLHTTP REQ ("+ie+") [attempt "+it+"]: "+x+"\n"+H+"\n"+Ft})}(m.i,m.u,m.A,m.l,m.R,m.m)}function D_(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function UE(m,x){var H=m.C,ie=x.indexOf("\n",H);return-1==ie?xp:(H=Number(x.substring(H,ie)),isNaN(H)?T_:(ie+=1)+H>x.length?xp:(x=x.slice(ie,ie+H),m.C=ie+H,x))}function Dd(m){m.S=Date.now()+m.I,Vc(m,m.I)}function Vc(m,x){if(null!=m.B)throw Error("WatchDog timer not null");m.B=sc(Me(m.ba,m),x)}function Ad(m){m.B&&(R.clearTimeout(m.B),m.B=null)}function ph(m){0==m.j.G||m.J||fl(m.j,m)}function Ul(m){Ad(m);var x=m.M;x&&"function"==typeof x.ma&&x.ma(),m.M=null,Mp(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function kp(m,x){try{var H=m.j;if(0!=H.G&&(H.g==m||df(H.h,m)))if(!m.K&&df(H.h,m)&&3==H.G){try{var ie=H.Da.g.parse(x)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var it=ie;if(0==it[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<m.F))break e;$m(H),If(H)}L_(H),sa(18)}}else H.za=it[1],0<H.za-H.T&&37500>it[2]&&H.F&&0==H.v&&!H.C&&(H.C=sc(Me(H.Za,H),6e3));if(1>=Lp(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Hl(H,11)}else if((m.K||H.g==m)&&$m(H),!Xn(x))for(it=H.Da.g.parse(x),x=0;x<it.length;x++){let Zr=it[x];if(H.T=Zr[0],Zr=Zr[1],2==H.G)if("c"==Zr[0]){H.K=Zr[1],H.ia=Zr[2];const ts=Zr[3];null!=ts&&(H.la=ts,H.j.info("VER="+H.la));const vo=Zr[4];null!=vo&&(H.Aa=vo,H.j.info("SVER="+H.Aa));const bd=Zr[5];null!=bd&&"number"==typeof bd&&0<bd&&(H.L=ie=1.5*bd,H.j.info("backChannelRequestTimeoutMs_="+ie)),ie=H;const Bu=m.g;if(Bu){const zl=Bu.g?Bu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var Rt=ie.h;Rt.g||-1==zl.indexOf("spdy")&&-1==zl.indexOf("quic")&&-1==zl.indexOf("h2")||(Rt.j=Rt.l,Rt.g=new Set,Rt.h&&(A_(Rt,Rt.h),Rt.h=null))}if(ie.D){const zp=Bu.g?Bu.g.getResponseHeader("X-HTTP-Session-Id"):null;zp&&(ie.ya=zp,Ai(ie.I,ie.D,zp))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-m.F,H.j.info("Handshake RTT: "+H.R+"ms"));var Ft=m;if((ie=H).qa=Hp(ie,ie.J?ie.ia:null,ie.W),Ft.K){$E(ie.h,Ft);var Ei=Ft,ms=ie.L;ms&&(Ei.I=ms),Ei.B&&(Ad(Ei),Dd(Ei)),ie.g=Ft}else tI(ie);0<H.i.length&&hl(H)}else"stop"!=Zr[0]&&"close"!=Zr[0]||Hl(H,7);else 3==H.G&&("stop"==Zr[0]||"close"==Zr[0]?"stop"==Zr[0]?Hl(H,7):Vm(H):"noop"!=Zr[0]&&H.l&&H.l.ta(Zr),H.v=0)}wd()}catch{}}Vl.prototype.ca=function(m){m=m.target;const x=this.M;x&&3==Uu(m)?x.j():this.Y(m)},Vl.prototype.Y=function(m){try{if(m==this.g)e:{const vo=Uu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>vo)&&(3!=vo||this.g&&(this.h.h||this.g.oa()||Ef(this.g)))){this.J||4!=vo||7==x||wd(),Ad(this);var H=this.g.Z();this.X=H;t:if(D_(this)){var ie=Ef(this.g);m="";var it=ie.length,Rt=4==Uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ul(this),ph(this);var Ft="";break t}this.h.i=new R.TextDecoder}for(x=0;x<it;x++)this.h.h=!0,m+=this.h.i.decode(ie[x],{stream:!(Rt&&x==it-1)});ie.length=0,this.h.g+=m,this.C=0,Ft=this.h.g}else Ft=this.g.oa();if(this.o=200==H,function FE(m,x,H,ie,it,Rt,Ft){m.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+it+"]: "+x+"\n"+H+"\n"+Rt+" "+Ft})}(this.i,this.u,this.A,this.l,this.R,vo,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Ei,ms=this.g;if((Ei=ms.g?ms.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xn(Ei)){var Zr=Ei;break t}}Zr=null}if(!(H=Zr)){this.o=!1,this.s=3,sa(12),Ul(this),ph(this);break e}fh(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,H)}if(this.P){let Bu;for(H=!0;!this.J&&this.C<Ft.length;){if(Bu=UE(this,Ft),Bu==xp){4==vo&&(this.s=4,sa(14),H=!1),fh(this.i,this.l,null,"[Incomplete Response]");break}if(Bu==T_){this.s=4,sa(15),fh(this.i,this.l,Ft,"[Invalid Chunk]"),H=!1;break}fh(this.i,this.l,Bu,null),kp(this,Bu)}if(D_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=vo||0!=Ft.length||this.h.h||(this.s=1,sa(16),H=!1),this.o=this.o&&H,H){if(0<Ft.length&&!this.W){this.W=!0;var ts=this.j;ts.g==this&&ts.ba&&!ts.M&&(ts.j.info("Great, no buffering proxy detected. Bytes received: "+Ft.length),$p(ts),ts.M=!0,sa(11))}}else fh(this.i,this.l,Ft,"[Invalid Chunked Response]"),Ul(this),ph(this)}else fh(this.i,this.l,Ft,null),kp(this,Ft);4==vo&&Ul(this),this.o&&!this.J&&(4==vo?fl(this.j,this):(this.o=!1,Dd(this)))}else(function x_(m){const x={};m=(m.g&&2<=Uu(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<m.length;ie++){if(Xn(m[ie]))continue;var H=rt(m[ie]);const it=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const Rt=x[it]||[];x[it]=Rt,Rt.push(H)}!function qe(m,x){for(const H in m)x.call(void 0,m[H],H,m)}(x,function(ie){return ie.join(", ")})})(this.g),400==H&&0<Ft.indexOf("Unknown SID")?(this.s=3,sa(12)):(this.s=0,sa(13)),Ul(this),ph(this)}}}catch{}},Vl.prototype.cancel=function(){this.J=!0,Ul(this)},Vl.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function VE(m,x){m.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(wd(),sa(17)),Ul(this),this.s=2,ph(this)):Vc(this,this.S-m)};var Pw=class{constructor(m,x){this.g=m,this.map=x}};function BE(m){this.l=m||10,m=R.PerformanceNavigationTiming?0<(m=R.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jE(m){return!!m.h||!!m.g&&m.g.size>=m.j}function Lp(m){return m.h?1:m.g?m.g.size:0}function df(m,x){return m.h?m.h==x:!!m.g&&m.g.has(x)}function A_(m,x){m.g?m.g.add(x):m.h=x}function $E(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}function Pm(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let x=m.i;for(const H of m.g.values())x=x.concat(H.D);return x}return en(m.i)}function C_(m,x){if(m.forEach&&"function"==typeof m.forEach)m.forEach(x,void 0);else if(N(m)||"string"==typeof m)Array.prototype.forEach.call(m,x,void 0);else for(var H=function zE(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(N(m)||"string"==typeof m){var x=[];m=m.length;for(var H=0;H<m;H++)x.push(H);return x}x=[],H=0;for(const ie in m)x[H++]=ie;return x}}}(m),ie=function HE(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(N(m)){for(var x=[],H=m.length,ie=0;ie<H;ie++)x.push(m[ie]);return x}for(ie in x=[],H=0,m)x[H++]=m[ie];return x}(m),it=ie.length,Rt=0;Rt<it;Rt++)x.call(void 0,ie[Rt],H&&H[Rt],m)}BE.prototype.cancel=function(){if(this.i=Pm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var S_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bl(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Bl){this.h=m.h,Fp(this,m.j),this.o=m.o,this.g=m.g,Vp(this,m.s),this.l=m.l;var x=m.i,H=new pf;H.i=x.i,x.g&&(H.g=new Map(x.g),H.h=x.h),Mm(this,H),this.m=m.m}else m&&(x=String(m).match(S_))?(this.h=!1,Fp(this,x[1]||"",!0),this.o=Cd(x[2]||""),this.g=Cd(x[3]||"",!0),Vp(this,x[4]),this.l=Cd(x[5]||"",!0),Mm(this,x[6]||"",!0),this.m=Cd(x[7]||"")):(this.h=!1,this.i=new pf(null,this.h))}function Uc(m){return new Bl(m)}function Fp(m,x,H){m.j=H?Cd(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Vp(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Mm(m,x,H){x instanceof pf?(m.i=x,function mf(m,x){x&&!m.j&&(jl(m),m.i=null,m.g.forEach(function(H,ie){var it=ie.toLowerCase();ie!=it&&(R_(this,ie),qE(this,it,H))},m)),m.j=x}(m.i,m.h)):(H||(x=ff(x,b_)),m.i=new pf(x,m.h))}function Ai(m,x,H){m.i.set(x,H)}function hf(m){return Ai(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Cd(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ff(m,x,H){return"string"==typeof m?(m=encodeURI(m).replace(x,Sd),H&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Sd(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}Bl.prototype.toString=function(){var m=[],x=this.j;x&&m.push(ff(x,Nm,!0),":");var H=this.g;return(H||"file"==x)&&(m.push("//"),(x=this.o)&&m.push(ff(x,Nm,!0),"@"),m.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&m.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&m.push("/"),m.push(ff(H,"/"==H.charAt(0)?Om:GE,!0))),(H=this.i.toString())&&m.push("?",H),(H=this.m)&&m.push("#",ff(H,KE)),m.join("")};var Nm=/[#\/\?@]/g,GE=/[#\?:]/g,Om=/[#\?]/g,b_=/[#\?@]/g,KE=/#/g;function pf(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function jl(m){m.g||(m.g=new Map,m.h=0,m.i&&function WE(m,x){if(m){m=m.split("&");for(var H=0;H<m.length;H++){var ie=m[H].indexOf("="),it=null;if(0<=ie){var Rt=m[H].substring(0,ie);it=m[H].substring(ie+1)}else Rt=m[H];x(Rt,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}(m.i,function(x,H){m.add(decodeURIComponent(x.replace(/\+/g," ")),H)}))}function R_(m,x){jl(m),x=gf(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function xm(m,x){return jl(m),x=gf(m,x),m.g.has(x)}function qE(m,x,H){R_(m,x),0<H.length&&(m.i=null,m.g.set(gf(m,x),en(H)),m.h+=H.length)}function gf(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function $l(m,x,H,ie,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),ie(H)}catch{}}function P_(){this.g=new __}function YE(m,x,H){const ie=H||"";try{C_(m,function(it,Rt){let Ft=it;j(it)&&(Ft=Dm(it)),x.push(ie+Rt+"="+encodeURIComponent(Ft))})}catch(it){throw x.push(ie+"type="+encodeURIComponent("_badmap")),it}}function yf(m){this.l=m.Ub||null,this.j=m.eb||!1}function Up(m,x){oa.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function M_(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function _f(m){m.readyState=4,m.l=null,m.j=null,m.v=null,vf(m)}function vf(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Bp(m){let x="";return Cr(m,function(H,ie){x+=ie,x+=":",x+=H,x+="\r\n"}),x}function N_(m,x,H){e:{for(ie in H){var ie=!1;break e}ie=!0}ie||(H=Bp(H),"string"==typeof m?null!=H&&encodeURIComponent(String(H)):Ai(m,x,H))}function xo(m){oa.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=pf.prototype).add=function(m,x){jl(this),this.i=null,m=gf(this,m);var H=this.g.get(m);return H||this.g.set(m,H=[]),H.push(x),this.h+=1,this},u.forEach=function(m,x){jl(this),this.g.forEach(function(H,ie){H.forEach(function(it){m.call(x,it,ie,this)},this)},this)},u.na=function(){jl(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),H=[];for(let ie=0;ie<x.length;ie++){const it=m[ie];for(let Rt=0;Rt<it.length;Rt++)H.push(x[ie])}return H},u.V=function(m){jl(this);let x=[];if("string"==typeof m)xm(this,m)&&(x=x.concat(this.g.get(gf(this,m))));else{m=Array.from(this.g.values());for(let H=0;H<m.length;H++)x=x.concat(m[H])}return x},u.set=function(m,x){return jl(this),this.i=null,xm(this,m=gf(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},u.get=function(m,x){return m&&0<(m=this.V(m)).length?String(m[0]):x},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var H=0;H<x.length;H++){var ie=x[H];const Rt=encodeURIComponent(String(ie)),Ft=this.V(ie);for(ie=0;ie<Ft.length;ie++){var it=Rt;""!==Ft[ie]&&(it+="="+encodeURIComponent(String(Ft[ie]))),m.push(it)}}return this.i=m.join("&")},Bt(yf,af),yf.prototype.g=function(){return new Up(this.l,this.j)},yf.prototype.i=function(m){return function(){return m}}({}),Bt(Up,oa),(u=Up.prototype).open=function(m,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,vf(this)},u.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||R).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=0},u.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;M_(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?_f(this):vf(this),3==this.readyState&&M_(this)}},u.Ra=function(m){this.g&&(this.response=this.responseText=m,_f(this))},u.Qa=function(m){this.g&&(this.response=m,_f(this))},u.ga=function(){this.g&&_f(this)},u.setRequestHeader=function(m,x){this.u.append(m,x)},u.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var H=x.next();!H.done;)m.push((H=H.value)[0]+": "+H[1]),H=x.next();return m.join("\r\n")},Object.defineProperty(Up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),Bt(xo,oa);var km=/^https?$/i,Mw=["POST","PUT"];function ZE(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,JE(m),Lm(m)}function JE(m){m.A||(m.A=!0,va(m,"complete"),va(m,"error"))}function eI(m){if(m.h&&typeof v<"u"&&(!m.v[1]||4!=Uu(m)||2!=m.Z()))if(m.u&&4==Uu(m))g_(m.Ea,0,m);else if(va(m,"readystatechange"),4==Uu(m)){m.h=!1;try{const Ft=m.Z();e:switch(Ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var H;if(!(H=x)){var ie;if(ie=0===Ft){var it=String(m.D).match(S_)[1]||null;!it&&R.self&&R.self.location&&(it=R.self.location.protocol.slice(0,-1)),ie=!km.test(it?it.toLowerCase():"")}H=ie}if(H)va(m,"complete"),va(m,"success");else{m.m=6;try{var Rt=2<Uu(m)?m.g.statusText:""}catch{Rt=""}m.l=Rt+" ["+m.Z()+"]",JE(m)}}finally{Lm(m)}}}function Lm(m,x){if(m.g){O_(m);const H=m.g,ie=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||va(m,"ready");try{H.onreadystatechange=ie}catch{}}}function O_(m){m.I&&(R.clearTimeout(m.I),m.I=null)}function Uu(m){return m.g?m.g.readyState:0}function Ef(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function gh(m,x,H){return H&&H.internalChannelParams&&H.internalChannelParams[m]||x}function Fm(m){this.Aa=0,this.i=[],this.j=new lf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gh("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gh("baseRetryDelayMs",5e3,m),this.cb=gh("retryDelaySeedMs",1e4,m),this.Wa=gh("forwardChannelMaxRetries",2,m),this.wa=gh("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new BE(m&&m.concurrentRequestLimit),this.Da=new P_,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vm(m){if(Um(m),3==m.G){var x=m.U++,H=Uc(m.I);if(Ai(H,"SID",m.K),Ai(H,"RID",x),Ai(H,"TYPE","terminate"),jp(m,H),(x=new Vl(m,m.j,x)).L=2,x.v=hf(Uc(H)),H=!1,R.navigator&&R.navigator.sendBeacon)try{H=R.navigator.sendBeacon(x.v.toString(),"")}catch{}!H&&R.Image&&((new Image).src=x.v,H=!0),H||(x.g=U_(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Dd(x)}V_(m)}function If(m){m.g&&($p(m),m.g.cancel(),m.g=null)}function Um(m){If(m),m.u&&(R.clearTimeout(m.u),m.u=null),$m(m),m.h.cancel(),m.s&&("number"==typeof m.s&&R.clearTimeout(m.s),m.s=null)}function hl(m){if(!jE(m.h)&&!m.s){m.s=!0;var x=m.Ga;lh||mm(),Zh||(lh(),Zh=!0),gm.add(x,m),m.B=0}}function Bm(m,x){var H;H=x?x.l:m.U++;const ie=Uc(m.I);Ai(ie,"SID",m.K),Ai(ie,"RID",H),Ai(ie,"AID",m.T),jp(m,ie),m.m&&m.o&&N_(ie,m.m,m.o),H=new Vl(m,m.j,H,m.B+1),null===m.m&&(H.H=m.o),x&&(m.i=x.D.concat(m.i)),x=k_(m,H,1e3),H.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),A_(m.h,H),Rm(H,ie,x)}function jp(m,x){m.H&&Cr(m.H,function(H,ie){Ai(x,ie,H)}),m.l&&C_({},function(H,ie){Ai(x,ie,H)})}function k_(m,x,H){H=Math.min(m.i.length,H);var ie=m.l?Me(m.l.Na,m.l,m):null;e:{var it=m.i;let Rt=-1;for(;;){const Ft=["count="+H];-1==Rt?0<H?(Rt=it[0].g,Ft.push("ofs="+Rt)):Rt=0:Ft.push("ofs="+Rt);let Ei=!0;for(let ms=0;ms<H;ms++){let Zr=it[ms].g;const ts=it[ms].map;if(Zr-=Rt,0>Zr)Rt=Math.max(0,it[ms].g-100),Ei=!1;else try{YE(ts,Ft,"req"+Zr+"_")}catch{ie&&ie(ts)}}if(Ei){ie=Ft.join("&");break e}}}return m=m.i.splice(0,H),x.D=m,ie}function tI(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;lh||mm(),Zh||(lh(),Zh=!0),gm.add(x,m),m.v=0}}function L_(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=sc(Me(m.Fa,m),F_(m,m.v)),m.v++,0))}function $p(m){null!=m.A&&(R.clearTimeout(m.A),m.A=null)}function jm(m){m.g=new Vl(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var x=Uc(m.qa);Ai(x,"RID","rpc"),Ai(x,"SID",m.K),Ai(x,"AID",m.T),Ai(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ai(x,"TO",m.ja),Ai(x,"TYPE","xmlhttp"),jp(m,x),m.m&&m.o&&N_(x,m.m,m.o),m.L&&(m.g.I=m.L);var H=m.g;m=m.ia,H.L=1,H.v=hf(Uc(x)),H.m=null,H.P=!0,w_(H,m)}function $m(m){null!=m.C&&(R.clearTimeout(m.C),m.C=null)}function fl(m,x){var H=null;if(m.g==x){$m(m),$p(m),m.g=null;var ie=2}else{if(!df(m.h,x))return;H=x.D,$E(m.h,x),ie=1}if(0!=m.G)if(x.o)if(1==ie){H=x.m?x.m.length:0,x=Date.now()-x.F;var it=m.B;va(ie=Am(),new Sm(ie,H)),hl(m)}else tI(m);else if(3==(it=x.s)||0==it&&0<x.X||!(1==ie&&function ou(m,x){return!(Lp(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=x.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=sc(Me(m.Ga,m,x),F_(m,m.B)),m.B++,0)))}(m,x)||2==ie&&L_(m)))switch(H&&0<H.length&&(x=m.h,x.i=x.i.concat(H)),it){case 1:Hl(m,5);break;case 4:Hl(m,10);break;case 3:Hl(m,6);break;default:Hl(m,2)}}function F_(m,x){let H=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(H*=2),H*x}function Hl(m,x){if(m.j.info("Error code "+x),2==x){var H=Me(m.fb,m),ie=m.Xa;const it=!ie;ie=new Bl(ie||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Fp(ie,"https"),hf(ie),it?function QE(m,x){const H=new lf;if(R.Image){const ie=new Image;ie.onload=lt($l,H,"TestLoadImage: loaded",!0,x,ie),ie.onerror=lt($l,H,"TestLoadImage: error",!1,x,ie),ie.onabort=lt($l,H,"TestLoadImage: abort",!1,x,ie),ie.ontimeout=lt($l,H,"TestLoadImage: timeout",!1,x,ie),R.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=m}else x(!1)}(ie.toString(),H):function XE(m,x){new lf;const ie=new AbortController,it=setTimeout(()=>{ie.abort(),$l(0,0,!1,x)},1e4);fetch(m,{signal:ie.signal}).then(Rt=>{clearTimeout(it),$l(0,0,!!Rt.ok,x)}).catch(()=>{clearTimeout(it),$l(0,0,!1,x)})}(ie.toString(),H)}else sa(2);m.G=0,m.l&&m.l.sa(x),V_(m),Um(m)}function V_(m){if(m.G=0,m.ka=[],m.l){const x=Pm(m.h);(0!=x.length||0!=m.i.length)&&(Kt(m.ka,x),Kt(m.ka,m.i),m.h.i.length=0,en(m.i),m.i.length=0),m.l.ra()}}function Hp(m,x,H){var ie=H instanceof Bl?Uc(H):new Bl(H);if(""!=ie.g)x&&(ie.g=x+"."+ie.g),Vp(ie,ie.s);else{var it=R.location;ie=it.protocol,x=x?x+"."+it.hostname:it.hostname,it=+it.port;var Rt=new Bl(null);ie&&Fp(Rt,ie),x&&(Rt.g=x),it&&Vp(Rt,it),H&&(Rt.l=H),ie=Rt}return x=m.ya,(H=m.D)&&x&&Ai(ie,H,x),Ai(ie,"VER",m.la),jp(m,ie),ie}function U_(m,x,H){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new xo(m.Ca&&!m.pa?new yf({eb:H}):m.pa)).Ha(m.J),x}function B_(){}function xa(){}function su(m,x){oa.call(this),this.g=new Fm(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!Xn(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!Xn(x)&&(this.g.D=x,null!==(m=this.h)&&x in m&&x in(m=this.h)&&delete m[x]),this.j=new mh(this)}function Hm(m){uf.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const H in x){m=H;break e}m=void 0}(this.i=m)&&(m=this.i,x=null!==x&&m in x?x[m]:void 0),this.data=x}else this.data=m}function j_(){Fl.call(this),this.status=1}function mh(m){this.g=m}(u=xo.prototype).Ha=function(m){this.J=m},u.ea=function(m,x,H,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bm.g(),this.v=function Np(m){return m.h||(m.h=m.i())}(this.o?this.o:bm),this.g.onreadystatechange=Me(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Rt){return void ZE(this,Rt)}if(m=H||"",H=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var it in ie)H.set(it,ie[it]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const Rt of ie.keys())H.set(Rt,ie.get(Rt))}ie=Array.from(H.keys()).find(Rt=>"content-type"==Rt.toLowerCase()),it=R.FormData&&m instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Mw,x,void 0))||ie||it||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Rt,Ft]of H)this.g.setRequestHeader(Rt,Ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{O_(this),this.u=!0,this.g.send(m),this.u=!1}catch(Rt){ZE(this,Rt)}},u.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,va(this,"complete"),va(this,"abort"),Lm(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lm(this,!0)),xo.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},u.bb=function(){eI(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Uu(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&0==x.indexOf(m)&&(x=x.substring(m.length)),kE(x)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=Fm.prototype).la=8,u.G=1,u.connect=function(m,x,H,ie){sa(0),this.W=m,this.H=x||{},H&&void 0!==ie&&(this.H.OSID=H,this.H.OAID=ie),this.F=this.X,this.I=Hp(this,null,this.W),hl(this)},u.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const it=new Vl(this,this.j,m);let Rt=this.o;if(this.S&&(Rt?(Rt=Ce(Rt),Xe(Rt,this.S)):Rt=this.S),null!==this.m||this.O||(it.H=Rt,Rt=null),this.P)e:{for(var x=0,H=0;H<this.i.length;H++){var ie=this.i[H];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(x+=ie)){x=H;break e}if(4096===x||H===this.i.length-1){x=H+1;break e}}x=1e3}else x=1e3;x=k_(this,it,x),Ai(H=Uc(this.I),"RID",m),Ai(H,"CVER",22),this.D&&Ai(H,"X-HTTP-Session-Id",this.D),jp(this,H),Rt&&(this.O?x="headers="+encodeURIComponent(String(Bp(Rt)))+"&"+x:this.m&&N_(H,this.m,Rt)),A_(this.h,it),this.Ua&&Ai(H,"TYPE","init"),this.P?(Ai(H,"$req",x),Ai(H,"SID","null"),it.T=!0,Rm(it,H,null)):Rm(it,H,x),this.G=2}}else 3==this.G&&(m?Bm(this,m):0==this.i.length||jE(this.h)||Bm(this))},u.Fa=function(){if(this.u=null,jm(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=sc(Me(this.ab,this),m)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sa(10),If(this),jm(this))},u.Za=function(){null!=this.C&&(this.C=null,If(this),L_(this),sa(19))},u.fb=function(m){m?(this.j.info("Successfully pinged google.com"),sa(2)):(this.j.info("Failed to ping google.com"),sa(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=B_.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},xa.prototype.g=function(m,x){return new su(m,x)},Bt(su,oa),su.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},su.prototype.close=function(){Vm(this.g)},su.prototype.o=function(m){var x=this.g;if("string"==typeof m){var H={};H.__data__=m,m=H}else this.u&&((H={}).__data__=Dm(m),m=H);x.i.push(new Pw(x.Ya++,m)),3==x.G&&hl(x)},su.prototype.N=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,su.aa.N.call(this)},Bt(Hm,uf),Bt(j_,Fl),Bt(mh,B_),mh.prototype.ua=function(){va(this.g,"a")},mh.prototype.ta=function(m){va(this.g,new Hm(m))},mh.prototype.sa=function(m){va(this.g,new j_)},mh.prototype.ra=function(){va(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,su.prototype.send=su.prototype.o,su.prototype.open=su.prototype.m,su.prototype.close=su.prototype.close,En=fe.createWebChannelTransport=function(){return new xa},dn=fe.getStatEventTarget=function(){return Am()},zt=fe.Event=Td,fn=fe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dl.NO_ERROR=0,dl.TIMEOUT=8,dl.HTTP_ERROR=6,mn=fe.ErrorCode=dl,E_.COMPLETE="complete",At=fe.EventType=E_,Fc.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",oa.prototype.listen=oa.prototype.K,vt=fe.WebChannel=Fc,fe.FetchXmlHttpFactory=yf,xo.prototype.listenOnce=xo.prototype.L,xo.prototype.getLastError=xo.prototype.Ka,xo.prototype.getLastErrorCode=xo.prototype.Ba,xo.prototype.getStatus=xo.prototype.Z,xo.prototype.getResponseJson=xo.prototype.Oa,xo.prototype.getResponseText=xo.prototype.oa,xo.prototype.send=xo.prototype.ea,xo.prototype.setWithCredentials=xo.prototype.Ha,He=fe.XhrIo=xo}).apply(typeof ge<"u"?ge:typeof self<"u"?self:typeof window<"u"?window:{});const Dt="@firebase/firestore";class Ye{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let Tt="11.2.0";const Vt=new W.Vy("@firebase/firestore");function qt(){return Vt.logLevel}function te(u,...n){if(Vt.logLevel<=W.$b.DEBUG){const i=n.map(un);Vt.debug(`Firestore (${Tt}): ${u}`,...i)}}function ke(u,...n){if(Vt.logLevel<=W.$b.ERROR){const i=n.map(un);Vt.error(`Firestore (${Tt}): ${u}`,...i)}}function Ht(u,...n){if(Vt.logLevel<=W.$b.WARN){const i=n.map(un);Vt.warn(`Firestore (${Tt}): ${u}`,...i)}}function un(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function xt(u="Unexpected state"){const n=`FIRESTORE (${Tt}) INTERNAL ASSERTION FAILED: `+u;throw ke(n),new Error(n)}function Ut(u,n){u||xt()}function Lt(u,n){return u}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ee.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Un{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class ye{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Ie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class Ae{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Re{constructor(n){this.t=n,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Ut(void 0===this.o);let c=this.i;const f=j=>this.i!==c?(c=this.i,i(j)):Promise.resolve();let v=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Un,n.enqueueRetryable(()=>f(this.currentUser))};const R=()=>{const j=v;n.enqueueRetryable((0,I.A)(function*(){yield j.promise,yield f(s.currentUser)}))},N=j=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(j=>N(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?N(j):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Un)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut("string"==typeof s.accessToken),new ye(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ut(null===n||"string"==typeof n),new Ye(n)}}class et{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.T.set("Authorization",n),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yt{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new et(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _e{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oe{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){Ut(void 0===this.o);const s=f=>{null!=f.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.R;return this.R=f.token,te("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const c=f=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>c(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?c(f):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Ut("string"==typeof i.token),this.R=i.token,new _e(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ut(u){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<u;s++)i[s]=Math.floor(256*Math.random());return i}class Wt{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=ut(40);for(let f=0;f<c.length;++f)s.length<20&&c[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[f]%62))}return s}}function wt(u,n){return u<n?-1:u>n?1:0}function Ze(u,n,i){return u.length===n.length&&u.every((s,c)=>i(s,n[c]))}class se{static now(){return se.fromMillis(Date.now())}static fromDate(n){return se.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new se(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ft(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?wt(this.nanoseconds,n.nanoseconds):wt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Te{static fromTimestamp(n){return new Te(n)}static min(){return new Te(new se(0,0))}static max(){return new Te(new se(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bt{constructor(n,i,s){void 0===i?i=0:i>n.length&&xt(),void 0===s?s=n.length-i:s>n.length-i&&xt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===bt.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof bt?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let c=0;c<s;c++){const f=bt.compareSegments(n.get(c),i.get(c));if(0!==f)return f}return Math.sign(n.length-i.length)}static compareSegments(n,i){const s=bt.isNumericId(n),c=bt.isNumericId(i);return s&&!c?-1:!s&&c?1:s&&c?bt.extractNumericId(n).compare(bt.extractNumericId(i)):n<i?-1:n>i?1:0}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return je.fromString(n.substring(4,n.length-2))}}class It extends bt{construct(n,i,s){return new It(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new ft(We.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(c=>c.length>0))}return new It(i)}static emptyPath(){return new It([])}}const yn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends bt{construct(n,i,s){return new _n(n,i,s)}static isValidIdentifier(n){return yn.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(n){const i=[];let s="",c=0;const f=()=>{if(0===s.length)throw new ft(We.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;c<n.length;){const R=n[c];if("\\"===R){if(c+1===n.length)throw new ft(We.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const N=n[c+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ft(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=N,c+=2}else"`"===R?(v=!v,c++):"."!==R||v?(s+=R,c++):(f(),c++)}if(f(),v)throw new ft(We.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new _n(i)}static emptyPath(){return new _n([])}}class Pt{constructor(n){this.path=n}static fromPath(n){return new Pt(It.fromString(n))}static fromName(n){return new Pt(It.fromString(n).popFirst(5))}static empty(){return new Pt(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===It.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return It.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Pt(new It(n.slice()))}}class gr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new gr(Te.min(),Pt.empty(),-1)}static max(){return new gr(Te.max(),Pt.empty(),-1)}}function Cn(u,n){let i=u.readTime.compareTo(n.readTime);return 0!==i?i:(i=Pt.comparator(u.documentKey,n.documentKey),0!==i?i:wt(u.largestBatchId,n.largestBatchId))}class Er{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Hn(u){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,I.A)(function*(u){if(u.code!==We.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==u.message)throw u;te("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ke{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Ke((s,c)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,c)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,c)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Ke?i:Ke.resolve(i)}catch(i){return Ke.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Ke.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Ke.reject(i)}static resolve(n){return new Ke((i,s)=>{i(n)})}static reject(n){return new Ke((i,s)=>{s(n)})}static waitFor(n){return new Ke((i,s)=>{let c=0,f=0,v=!1;n.forEach(R=>{++c,R.next(()=>{++f,v&&f===c&&i()},N=>s(N))}),v=!0,f===c&&i()})}static or(n){let i=Ke.resolve(!1);for(const s of n)i=i.next(c=>c?Ke.resolve(c):s());return i}static forEach(n,i){const s=[];return n.forEach((c,f)=>{s.push(i.call(this,c,f))}),this.waitFor(s)}static mapArray(n,i){return new Ke((s,c)=>{const f=n.length,v=new Array(f);let R=0;for(let N=0;N<f;N++){const j=N;i(n[j]).next(J=>{v[j]=J,++R,R===f&&s(v)},J=>c(J))}})}static doWhile(n,i){return new Ke((s,c)=>{const f=()=>{!0===n()?i().next(()=>{f()},c):s()};f()})}}function Mr(u){return"IndexedDbTransactionError"===u.name}let Et=(()=>{class u{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=c=>this.ie(c),this.se=c=>s.writeSequenceNumber(c))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function re(u){return null==u}function Se(u){return 0===u&&1/u==-1/0}function at(u,n){let i=n;const s=u.length;for(let c=0;c<s;c++){const f=u.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function jt(u){return u+"\x01\x01"}function Be(u){let n=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n++;return n}function U(u,n){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n(i,u[i])}function Y(u){for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n))return!1;return!0}class he{constructor(n,i){this.comparator=n,this.root=i||pt.EMPTY}insert(n,i){return new he(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(n){return new he(this.comparator,this.root.remove(n,this.comparator).copy(null,null,pt.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(n,s.key);if(0===c)return i+s.left.size;c<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new st(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new st(this.root,n,this.comparator,!1)}getReverseIterator(){return new st(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new st(this.root,n,this.comparator,!0)}}class st{constructor(n,i,s,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?s(n.key,i):1,i&&c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class pt{constructor(n,i,s,c,f){this.key=n,this.value=i,this.color=s??pt.RED,this.left=c??pt.EMPTY,this.right=f??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,c,f){return new pt(n??this.key,i??this.value,s??this.color,c??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let c=this;const f=s(n,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(n,i,s),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,c=this;if(i(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(n,c.key)){if(c.right.isEmpty())return pt.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const n=this.left.check();if(n!==this.right.check())throw xt();return n+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(n,i,s,c,f){return this}insert(n,i,s){return new pt(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(n){this.comparator=n,this.data=new he(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,n[1])>=0)return;i(c.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tn(this.data.getIterator())}getIteratorFrom(n){return new Tn(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof gt)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new gt(this.comparator);return i.data=n,i}}class Tn{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nr{constructor(n){this.fields=n,n.sort(_n.comparator)}static empty(){return new nr([])}unionWith(n){let i=new gt(_n.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new nr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Ze(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class yr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kn{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new yr("Invalid base64 string: "+f):f}}(n);return new Kn(i)}static fromUint8Array(n){const i=function(c){let f="";for(let v=0;v<c.length;++v)f+=String.fromCharCode(c[v]);return f}(n);return new Kn(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let c=0;c<i.length;c++)s[c]=i.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return wt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const Xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(u){if(Ut(!!u),"string"==typeof u){let n=0;const i=Xi.exec(u);if(Ut(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),n=Number(c)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Mn(u.seconds),nanos:Mn(u.nanos)}}function Mn(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Ir(u){return"string"==typeof u?Kn.fromBase64String(u):Kn.fromUint8Array(u)}function bi(u){var n,i;return"server_timestamp"===(null===(i=((null===(n=u?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ro(u){const n=u.mapValue.fields.__previous_value__;return bi(n)?ro(n):n}function Gr(u){const n=_r(u.mapValue.fields.__local_write_time__.timestampValue);return new se(n.seconds,n.nanos)}class ys{constructor(n,i,s,c,f,v,R,N,j){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=c,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=R,this.longPollingOptions=N,this.useFetchStreams=j}}class lo{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof lo&&n.projectId===this.projectId&&n.database===this.database}}const Gi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ri(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?bi(u)?4:Ea(u)?9007199254740991:Ki(u)?10:11:xt()}function fi(u,n){if(u===n)return!0;const i=ri(u);if(i!==ri(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===n.booleanValue;case 4:return Gr(u).isEqual(Gr(n));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const v=_r(c.timestampValue),R=_r(f.timestampValue);return v.seconds===R.seconds&&v.nanos===R.nanos}(u,n);case 5:return u.stringValue===n.stringValue;case 6:return f=n,Ir(u.bytesValue).isEqual(Ir(f.bytesValue));case 7:return u.referenceValue===n.referenceValue;case 8:return function(c,f){return Mn(c.geoPointValue.latitude)===Mn(f.geoPointValue.latitude)&&Mn(c.geoPointValue.longitude)===Mn(f.geoPointValue.longitude)}(u,n);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Mn(c.integerValue)===Mn(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const v=Mn(c.doubleValue),R=Mn(f.doubleValue);return v===R?Se(v)===Se(R):isNaN(v)&&isNaN(R)}return!1}(u,n);case 9:return Ze(u.arrayValue.values||[],n.arrayValue.values||[],fi);case 10:case 11:return function(c,f){const v=c.mapValue.fields||{},R=f.mapValue.fields||{};if(Be(v)!==Be(R))return!1;for(const N in v)if(v.hasOwnProperty(N)&&(void 0===R[N]||!fi(v[N],R[N])))return!1;return!0}(u,n);default:return xt()}var f}function _s(u,n){return void 0!==(u.values||[]).find(i=>fi(i,n))}function $s(u,n){if(u===n)return 0;const i=ri(u),s=ri(n);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(u.booleanValue,n.booleanValue);case 2:return function(f,v){const R=Mn(f.integerValue||f.doubleValue),N=Mn(v.integerValue||v.doubleValue);return R<N?-1:R>N?1:R===N?0:isNaN(R)?isNaN(N)?0:-1:1}(u,n);case 3:return Hu(u.timestampValue,n.timestampValue);case 4:return Hu(Gr(u),Gr(n));case 5:return wt(u.stringValue,n.stringValue);case 6:return function(f,v){const R=Ir(f),N=Ir(v);return R.compareTo(N)}(u.bytesValue,n.bytesValue);case 7:return function(f,v){const R=f.split("/"),N=v.split("/");for(let j=0;j<R.length&&j<N.length;j++){const J=wt(R[j],N[j]);if(0!==J)return J}return wt(R.length,N.length)}(u.referenceValue,n.referenceValue);case 8:return function(f,v){const R=wt(Mn(f.latitude),Mn(v.latitude));return 0!==R?R:wt(Mn(f.longitude),Mn(v.longitude))}(u.geoPointValue,n.geoPointValue);case 9:return vs(u.arrayValue,n.arrayValue);case 10:return function(f,v){var R,N,j,J;const lt=null===(R=(f.fields||{}).value)||void 0===R?void 0:R.arrayValue,Bt=null===(N=(v.fields||{}).value)||void 0===N?void 0:N.arrayValue,en=wt((null===(j=lt?.values)||void 0===j?void 0:j.length)||0,(null===(J=Bt?.values)||void 0===J?void 0:J.length)||0);return 0!==en?en:vs(lt,Bt)}(u.mapValue,n.mapValue);case 11:return function(f,v){if(f===Gi_mapValue&&v===Gi_mapValue)return 0;if(f===Gi_mapValue)return 1;if(v===Gi_mapValue)return-1;const R=f.fields||{},N=Object.keys(R),j=v.fields||{},J=Object.keys(j);N.sort(),J.sort();for(let ue=0;ue<N.length&&ue<J.length;++ue){const Me=wt(N[ue],J[ue]);if(0!==Me)return Me;const lt=$s(R[N[ue]],j[J[ue]]);if(0!==lt)return lt}return wt(N.length,J.length)}(u.mapValue,n.mapValue);default:throw xt()}}function Hu(u,n){if("string"==typeof u&&"string"==typeof n&&u.length===n.length)return wt(u,n);const i=_r(u),s=_r(n),c=wt(i.seconds,s.seconds);return 0!==c?c:wt(i.nanos,s.nanos)}function vs(u,n){const i=u.values||[],s=n.values||[];for(let c=0;c<i.length&&c<s.length;++c){const f=$s(i[c],s[c]);if(f)return f}return wt(i.length,s.length)}function Hs(u){return aa(u)}function aa(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const s=_r(i);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Ir(u.bytesValue).toBase64():"referenceValue"in u?Pt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let s="[",c=!0;for(const f of i.values||[])c?c=!1:s+=",",s+=aa(f);return s+"]"}(u.arrayValue):"mapValue"in u?function(i){const s=Object.keys(i.fields||{}).sort();let c="{",f=!0;for(const v of s)f?f=!1:c+=",",c+=`${v}:${aa(i.fields[v])}`;return c+"}"}(u.mapValue):xt()}function uu(u){switch(ri(u)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=ro(u);return n?16+uu(n):16;case 5:return 2*u.stringValue.length;case 6:return Ir(u.bytesValue).approximateByteSize();case 7:return u.referenceValue.length;case 9:return(u.arrayValue.values||[]).reduce((c,f)=>c+uu(f),0);case 10:case 11:return function(s){let c=0;return U(s.fields,(f,v)=>{c+=f.length+uu(v)}),c}(u.mapValue);default:throw xt()}}function cc(u){return!!u&&"integerValue"in u}function Yi(u){return!!u&&"arrayValue"in u}function ka(u){return!!u&&"nullValue"in u}function Es(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function La(u){return!!u&&"mapValue"in u}function Ki(u){var n,i;return"__vector__"===(null===(i=((null===(n=u?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Is(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const n={mapValue:{fields:{}}};return U(u.mapValue.fields,(i,s)=>n.mapValue.fields[i]=Is(s)),n}if(u.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Is(u.arrayValue.values[i]);return n}return Object.assign({},u)}function Ea(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tr{constructor(n){this.value=n}static empty(){return new Tr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!La(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Is(i)}setAll(n){let i=_n.emptyPath(),s={},c=[];n.forEach((v,R)=>{if(!i.isImmediateParentOf(R)){const N=this.getFieldsMap(i);this.applyChanges(N,s,c),s={},c=[],i=R.popLast()}v?s[R.lastSegment()]=Is(v):c.push(R.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,c)}delete(n){const i=this.field(n.popLast());La(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return fi(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let c=i.mapValue.fields[n.get(s)];La(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=c),i=c}return i.mapValue.fields}applyChanges(n,i,s){U(i,(c,f)=>n[c]=f);for(const c of s)delete n[c]}clone(){return new Tr(Is(this.value))}}function Ts(u){const n=[];return U(u.fields,(i,s)=>{const c=new _n([i]);if(La(s)){const f=Ts(s.mapValue).fields;if(0===f.length)n.push(c);else for(const v of f)n.push(c.child(v))}else n.push(c)}),new nr(n)}class Ar{constructor(n,i,s,c,f,v,R){this.key=n,this.documentType=i,this.version=s,this.readTime=c,this.createTime=f,this.data=v,this.documentState=R}static newInvalidDocument(n){return new Ar(n,0,Te.min(),Te.min(),Te.min(),Tr.empty(),0)}static newFoundDocument(n,i,s,c){return new Ar(n,1,i,Te.min(),s,c,0)}static newNoDocument(n,i){return new Ar(n,2,i,Te.min(),Te.min(),Tr.empty(),0)}static newUnknownDocument(n,i){return new Ar(n,3,i,Te.min(),Te.min(),Tr.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ar&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vi{constructor(n,i){this.position=n,this.inclusive=i}}function To(u,n,i){let s=0;for(let c=0;c<u.position.length;c++){const f=n[c],v=u.position[c];if(s=f.field.isKeyField()?Pt.comparator(Pt.fromName(v.referenceValue),i.key):$s(v,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function lu(u,n){if(null===u)return null===n;if(null===n||u.inclusive!==n.inclusive||u.position.length!==n.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!fi(u.position[i],n.position[i]))return!1;return!0}class Va{constructor(n,i="asc"){this.field=n,this.dir=i}}function ii(u,n){return u.dir===n.dir&&u.field.isEqual(n.field)}class Ia{}class vr extends Ia{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Ws(n,i,s):"array-contains"===i?new is(n,s):"in"===i?new Ds(n,s):"not-in"===i?new dc(n,s):"array-contains-any"===i?new Ui(n,s):new vr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Fo(n,s):new rs(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison($s(i,this.value)):null!==i&&ri(this.value)===ri(i)&&this.matchesComparison($s(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends Ia{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Or(n,i)}matches(n){return on(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function on(u){return"and"===u.op}function Zi(u){return function du(u){for(const n of u.filters)if(n instanceof Or)return!1;return!0}(u)&&on(u)}function lc(u){if(u instanceof vr)return u.field.canonicalString()+u.op.toString()+Hs(u.value);if(Zi(u))return u.filters.map(n=>lc(n)).join(",");{const n=u.filters.map(i=>lc(i)).join(",");return`${u.op}(${n})`}}function zs(u,n){return u instanceof vr?(s=u,(c=n)instanceof vr&&s.op===c.op&&s.field.isEqual(c.field)&&fi(s.value,c.value)):u instanceof Or?function(s,c){return c instanceof Or&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((f,v,R)=>f&&zs(v,c.filters[R]),!0)}(u,n):void xt();var s,c}function ws(u){return u instanceof vr?`${(i=u).field.canonicalString()} ${i.op} ${Hs(i.value)}`:u instanceof Or?function(i){return i.op.toString()+" {"+i.getFilters().map(ws).join(" ,")+"}"}(u):"Filter";var i}class Ws extends vr{constructor(n,i,s){super(n,i,s),this.key=Pt.fromName(s.referenceValue)}matches(n){const i=Pt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Fo extends vr{constructor(n,i){super(n,"in",i),this.keys=Ua(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class rs extends vr{constructor(n,i){super(n,"not-in",i),this.keys=Ua(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function Ua(u,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Pt.fromName(s.referenceValue))}class is extends vr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Yi(i)&&_s(i.arrayValue,this.value)}}class Ds extends vr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&_s(this.value.arrayValue,i)}}class dc extends vr{constructor(n,i){super(n,"not-in",i)}matches(n){if(_s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!_s(this.value.arrayValue,i)}}class Ui extends vr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Yi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>_s(this.value.arrayValue,s))}}class ml{constructor(n,i=null,s=[],c=[],f=null,v=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=c,this.limit=f,this.startAt=v,this.endAt=R,this.ue=null}}function jc(u,n=null,i=[],s=[],c=null,f=null,v=null){return new ml(u,n,i,s,c,f,v)}function hr(u){const n=Lt(u);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>lc(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),re(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Hs(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Hs(s)).join(",")),n.ue=i}return n.ue}function os(u,n){if(u.limit!==n.limit||u.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!ii(u.orderBy[i],n.orderBy[i]))return!1;if(u.filters.length!==n.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!zs(u.filters[i],n.filters[i]))return!1;return u.collectionGroup===n.collectionGroup&&!!u.path.isEqual(n.path)&&!!lu(u.startAt,n.startAt)&&lu(u.endAt,n.endAt)}function ai(u){return Pt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class cr{constructor(n,i=null,s=[],c=[],f=null,v="F",R=null,N=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=c,this.limit=f,this.limitType=v,this.startAt=R,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function ho(u){return new cr(u)}function Xo(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ca(u){const n=Lt(u);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(v){let R=new gt(_n.comparator);return v.filters.forEach(N=>{N.getFlattenedFilters().forEach(j=>{j.isInequality()&&(R=R.add(j.field))})}),R})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new Va(f,s))}),i.has(_n.keyField().canonicalString())||n.ce.push(new Va(_n.keyField(),s))}return n.ce}function fo(u){const n=Lt(u);return n.le||(n.le=function Ql(u,n){if("F"===u.limitType)return jc(u.path,u.collectionGroup,n,u.filters,u.limit,u.startAt,u.endAt);{n=n.map(c=>new Va(c.field,"desc"===c.dir?"asc":"desc"));const i=u.endAt?new Vi(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new Vi(u.startAt.position,u.startAt.inclusive):null;return jc(u.path,u.collectionGroup,n,u.filters,u.limit,i,s)}}(n,ca(u))),n.le}function Da(u,n,i){return new cr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),n,i,u.startAt,u.endAt)}function As(u,n){return os(fo(u),fo(n))&&u.limitType===n.limitType}function ja(u){return`${hr(fo(u))}|lt:${u.limitType}`}function Aa(u){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(c=>ws(c)).join(", ")}]`),re(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(c=>{return`${(v=c).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(c=>Hs(c)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(c=>Hs(c)).join(",")),`Target(${s})`}(fo(u))}; limitType=${u.limitType})`}function $a(u,n){return n.isFoundDocument()&&function(s,c){const f=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Pt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(u,n)&&function(s,c){for(const f of ca(s))if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(u,n)&&function(s,c){for(const f of s.filters)if(!f.matches(c))return!1;return!0}(u,n)&&(c=n,!((s=u).startAt&&!function(v,R,N){const j=To(v,R,N);return v.inclusive?j<=0:j<0}(s.startAt,ca(s),c)||s.endAt&&!function(v,R,N){const j=To(v,R,N);return v.inclusive?j>=0:j>0}(s.endAt,ca(s),c)));var s,c}function Ti(u){return(n,i)=>{let s=!1;for(const c of ca(u)){const f=xn(c,n,i);if(0!==f)return f;s=s||c.field.isKeyField()}return 0}}function xn(u,n,i){const s=u.field.isKeyField()?Pt.comparator(n.key,i.key):function(f,v,R){const N=v.data.field(f),j=R.data.field(f);return null!==N&&null!==j?$s(N,j):xt()}(u.field,n,i);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}class Ks{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[c,f]of s)if(this.equalsFn(c,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),c=this.inner[s];if(void 0===c)return this.inner[s]=[[n,i]],void this.innerSize++;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,i]);c.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],n))return 1===s.length?delete this.inner[i]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(n){U(this.inner,(i,s)=>{for(const[c,f]of s)n(c,f)})}isEmpty(){return Y(this.inner)}size(){return this.innerSize}}const Gu=new he(Pt.comparator);function po(){return Gu}const hu=new he(Pt.comparator);function za(...u){let n=hu;for(const i of u)n=n.insert(i.key,i);return n}function Sr(u){let n=hu;return u.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function Vo(){return Ao()}function Do(){return Ao()}function Ao(){return new Ks(u=>u.toString(),(u,n)=>u.isEqual(n))}const fc=new he(Pt.comparator),la=new gt(Pt.comparator);function qn(...u){let n=la;for(const i of u)n=n.add(i);return n}const fu=new gt(wt);function Wa(u,n){if(u.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Se(n)?"-0":n}}function pu(u){return{integerValue:""+u}}function Xl(u,n){return function oe(u){return"number"==typeof u&&Number.isInteger(u)&&!Se(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(n)?pu(n):Wa(u,n)}class Nn{constructor(){this._=void 0}}function yl(u,n,i){return u instanceof Cs?function(c,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&bi(f)&&(f=ro(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(i,n):u instanceof as?Ga(u,n):u instanceof mu?Hc(u,n):function(c,f){const v=$c(c,f),R=pc(v)+pc(c.Pe);return cc(v)&&cc(c.Pe)?pu(R):Wa(c.serializer,R)}(u,n)}function gu(u,n,i){return u instanceof as?Ga(u,n):u instanceof mu?Hc(u,n):i}function $c(u,n){return u instanceof yu?cc(s=n)||(f=s)&&"doubleValue"in f?n:{integerValue:0}:null;var s,f}class Cs extends Nn{}class as extends Nn{constructor(n){super(),this.elements=n}}function Ga(u,n){const i=Yl(n);for(const s of u.elements)i.some(c=>fi(c,s))||i.push(s);return{arrayValue:{values:i}}}class mu extends Nn{constructor(n){super(),this.elements=n}}function Hc(u,n){let i=Yl(n);for(const s of u.elements)i=i.filter(c=>!fi(c,s));return{arrayValue:{values:i}}}class yu extends Nn{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function pc(u){return Mn(u.integerValue||u.doubleValue)}function Yl(u){return Yi(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class _l{constructor(n,i){this.version=n,this.transformResults=i}}class Yr{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Yr}static exists(n){return new Yr(void 0,n)}static updateTime(n){return new Yr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Sn(u,n){return void 0!==u.updateTime?n.isFoundDocument()&&n.version.isEqual(u.updateTime):void 0===u.exists||u.exists===n.isFoundDocument()}class us{}function qs(u,n){if(!u.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return u.isNoDocument()?new b(u.key,Yr.none()):new Ca(u.key,u.data,Yr.none());{const i=u.data,s=Tr.empty();let c=new gt(_n.comparator);for(let f of n.fields)if(!c.has(f)){let v=i.field(f);null===v&&f.length>1&&(f=f.popLast(),v=i.field(f)),null===v?s.delete(f):s.set(f,v),c=c.add(f)}return new Co(u.key,s,new nr(c.toArray()),Yr.none())}}function zc(u,n,i){u instanceof Ca?function(c,f,v){const R=c.value.clone(),N=Qs(c.fieldTransforms,f,v.transformResults);R.setAll(N),f.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(u,n,i):u instanceof Co?function(c,f,v){if(!Sn(c.precondition,f))return void f.convertToUnknownDocument(v.version);const R=Qs(c.fieldTransforms,f,v.transformResults),N=f.data;N.setAll(vu(c)),N.setAll(R),f.convertToFoundDocument(v.version,N).setHasCommittedMutations()}(u,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Wn(u,n,i,s){return u instanceof Ca?function(f,v,R,N){if(!Sn(f.precondition,v))return R;const j=f.value.clone(),J=Eu(f.fieldTransforms,N,v);return j.setAll(J),v.convertToFoundDocument(v.version,j).setHasLocalMutations(),null}(u,n,i,s):u instanceof Co?function(f,v,R,N){if(!Sn(f.precondition,v))return R;const j=Eu(f.fieldTransforms,N,v),J=v.data;return J.setAll(vu(f)),J.setAll(j),v.convertToFoundDocument(v.version,J).setHasLocalMutations(),null===R?null:R.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ue=>ue.field))}(u,n,i,s):(R=i,Sn(u.precondition,v=n)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):R);var v,R}function jr(u,n){let i=null;for(const s of u.fieldTransforms){const c=n.data.field(s.field),f=$c(s.transform,c||null);null!=f&&(null===i&&(i=Tr.empty()),i.set(s.field,f))}return i||null}function Ka(u,n){return u.type===n.type&&!!u.key.isEqual(n.key)&&!!u.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===c||s&&c&&Ze(s,c,(f,v)=>function da(u,n){return u.field.isEqual(n.field)&&(c=n.transform,(s=u.transform)instanceof as&&c instanceof as||s instanceof mu&&c instanceof mu?Ze(s.elements,c.elements,fi):s instanceof yu&&c instanceof yu?fi(s.Pe,c.Pe):s instanceof Cs&&c instanceof Cs);var s,c}(f,v))))&&(0===u.type?u.value.isEqual(n.value):1!==u.type||u.data.isEqual(n.data)&&u.fieldMask.isEqual(n.fieldMask));var s,c}class Ca extends us{constructor(n,i,s,c=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Co extends us{constructor(n,i,s,c,f=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=c,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function vu(u){const n=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=u.data.field(i);n.set(i,s)}}),n}function Qs(u,n,i){const s=new Map;Ut(u.length===i.length);for(let c=0;c<i.length;c++){const f=u[c],v=f.transform,R=n.data.field(f.field);s.set(f.field,gu(v,R,i[c]))}return s}function Eu(u,n,i){const s=new Map;for(const c of u){const f=c.transform,v=i.data.field(c.field);s.set(c.field,yl(f,v,n))}return s}class b extends us{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q extends us{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k{constructor(n,i,s,c){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(n.key)&&zc(f,n,s[c])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Wn(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Wn(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=Do();return this.mutations.forEach(c=>{const f=n.get(c.key),v=f.overlayedDocument;let R=this.applyToLocalView(v,f.mutatedFields);R=i.has(c.key)?null:R;const N=qs(v,R);null!==N&&s.set(c.key,N),v.isValidDocument()||v.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),qn())}isEqual(n){return this.batchId===n.batchId&&Ze(this.mutations,n.mutations,(i,s)=>Ka(i,s))&&Ze(this.baseMutations,n.baseMutations,(i,s)=>Ka(i,s))}}class ${constructor(n,i,s,c){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=c}static from(n,i,s){Ut(n.mutations.length===s.length);let c=function(){return fc}();const f=n.mutations;for(let v=0;v<f.length;v++)c=c.insert(f[v].key,s[v].version);return new $(n,i,s,c)}}class pe{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ot{constructor(n,i){this.count=n,this.unchangedNames=i}}var tn,Dn;function Kr(u){if(void 0===u)return ke("GRPC error has no .code"),We.UNKNOWN;switch(u){case tn.OK:return We.OK;case tn.CANCELLED:return We.CANCELLED;case tn.UNKNOWN:return We.UNKNOWN;case tn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case tn.INTERNAL:return We.INTERNAL;case tn.UNAVAILABLE:return We.UNAVAILABLE;case tn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case tn.NOT_FOUND:return We.NOT_FOUND;case tn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case tn.ABORTED:return We.ABORTED;case tn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case tn.DATA_LOSS:return We.DATA_LOSS;default:return xt()}}(Dn=tn||(tn={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";const br=new je([4294967295,4294967295],0);function ei(u){const n=function ni(){return new TextEncoder}().encode(u),i=new Qe;return i.update(n),new Uint8Array(i.digest())}function Xs(u){const n=new DataView(u.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),c=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new je([i,s],0),new je([c,f],0)]}class pi{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(s<0)throw new Uo(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Uo(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.Te=8*n.length-i,this.Ie=je.fromNumber(this.Te)}de(n,i,s){let c=n.add(i.multiply(je.fromNumber(s)));return 1===c.compare(br)&&(c=new je([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ie).toNumber()}Ee(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Te)return!1;const i=ei(n),[s,c]=Xs(i);for(let f=0;f<this.hashCount;f++){const v=this.de(s,c,f);if(!this.Ee(v))return!1}return!0}static create(n,i,s){const c=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),v=new pi(f,c,i);return s.forEach(R=>v.insert(R)),v}insert(n){if(0===this.Te)return;const i=ei(n),[s,c]=Xs(i);for(let f=0;f<this.hashCount;f++){const v=this.de(s,c,f);this.Ae(v)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qr{constructor(n,i,s,c,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const c=new Map;return c.set(n,Ys.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new qr(Te.min(),c,new he(wt),po(),qn())}}class Ys{constructor(n,i,s,c,f){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new Ys(s,i,qn(),qn(),qn())}}class hn{constructor(n,i,s,c){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=c}}class cs{constructor(n,i){this.targetId=n,this.me=i}}class Sa{constructor(n,i,s=Kn.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=c}}class Ji{constructor(){this.fe=0,this.ge=Ss(),this.pe=Kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=qn(),i=qn(),s=qn();return this.ge.forEach((c,f)=>{switch(f){case 0:n=n.add(c);break;case 2:i=i.add(c);break;case 1:s=s.add(c);break;default:xt()}}),new Ys(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=Ss()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ch{constructor(n){this.Be=n,this.Le=new Map,this.ke=po(),this.qe=Iu(),this.Qe=Iu(),this.Ke=new he(wt)}$e(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.Ue(i,n.Ve):this.We(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.We(i,n.key,n.Ve)}Ge(n){this.forEachTarget(n,i=>{const s=this.ze(i);switch(n.state){case 0:this.je(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.je(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.je(i)&&(this.He(i),s.De(n.resumeToken));break;default:xt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Le.forEach((s,c)=>{this.je(c)&&i(c)})}Je(n){const i=n.targetId,s=n.me.count,c=this.Ye(i);if(c){const f=c.target;if(ai(f))if(0===s){const v=new Pt(f.path);this.We(i,v,Ar.newNoDocument(v,Te.min()))}else Ut(1===s);else{const v=this.Ze(i);if(v!==s){const R=this.Xe(n),N=R?this.et(R,n,v):1;0!==N&&(this.He(i),this.Ke=this.Ke.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:f=0}=i;let v,R;try{v=Ir(s).toUint8Array()}catch(N){if(N instanceof yr)return Ht("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{R=new pi(v,c,f)}catch(N){return Ht(N instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===R.Te?null:R}et(n,i,s){return i.me.count===s-this.rt(n,i.targetId)?0:2}rt(n,i){const s=this.Be.getRemoteKeysForTarget(i);let c=0;return s.forEach(f=>{const v=this.Be.nt(),R=`projects/${v.projectId}/databases/${v.database}/documents/${f.path.canonicalString()}`;n.mightContain(R)||(this.We(i,f,null),c++)}),c}it(n){const i=new Map;this.Le.forEach((f,v)=>{const R=this.Ye(v);if(R){if(f.current&&ai(R.target)){const N=new Pt(R.target.path);this.st(N).has(v)||this.ot(v,N)||this.We(v,N,Ar.newNoDocument(N,n))}f.be&&(i.set(v,f.ve()),f.Ce())}});let s=qn();this.Qe.forEach((f,v)=>{let R=!0;v.forEachWhile(N=>{const j=this.Ye(N);return!j||"TargetPurposeLimboResolution"===j.purpose||(R=!1,!1)}),R&&(s=s.add(f))}),this.ke.forEach((f,v)=>v.setReadTime(n));const c=new qr(n,i,this.Ke,this.ke,s);return this.ke=po(),this.qe=Iu(),this.Qe=Iu(),this.Ke=new he(wt),c}Ue(n,i){if(!this.je(n))return;const s=this.ot(n,i.key)?2:0;this.ze(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n)),this.Qe=this.Qe.insert(i.key,this._t(i.key).add(n))}We(n,i,s){if(!this.je(n))return;const c=this.ze(n);this.ot(n,i)?c.Fe(i,1):c.Me(i),this.Qe=this.Qe.insert(i,this._t(i).delete(n)),this.Qe=this.Qe.insert(i,this._t(i).add(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Le.delete(n)}Ze(n){const i=this.ze(n).ve();return this.Be.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.ze(n).xe()}ze(n){let i=this.Le.get(n);return i||(i=new Ji,this.Le.set(n,i)),i}_t(n){let i=this.Qe.get(n);return i||(i=new gt(wt),this.Qe=this.Qe.insert(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new gt(wt),this.qe=this.qe.insert(n,i)),i}je(n){const i=null!==this.Ye(n);return i||te("WatchChangeAggregator","Detected inactive target",n),i}Ye(n){const i=this.Le.get(n);return i&&i.Se?null:this.Be.ut(n)}He(n){this.Le.set(n,new Ji),this.Be.getRemoteKeysForTarget(n).forEach(i=>{this.We(n,i,null)})}ot(n,i){return this.Be.getRemoteKeysForTarget(n).has(i)}}function Iu(){return new he(Pt.comparator)}function Ss(){return new he(Pt.comparator)}const Zs={asc:"ASCENDING",desc:"DESCENDING"},gc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ku={and:"AND",or:"OR"};class qu{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Wc(u,n){return u.useProto3Json||re(n)?n:{value:n}}function ui(u,n){return u.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Qu(u,n){return u.useProto3Json?n.toBase64():n.toUint8Array()}function oo(u,n){return ui(u,n.toTimestamp())}function Qr(u){return Ut(!!u),Te.fromTimestamp(function(i){const s=_r(i);return new se(s.seconds,s.nanos)}(u))}function mc(u,n){return ci(u,n).canonicalString()}function ci(u,n){const i=(c=u,new It(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===n?i:i.child(n)}function qa(u){const n=It.fromString(u);return Ut(fa(n)),n}function Tu(u,n){return mc(u.databaseId,n.path)}function Qa(u,n){const i=qa(n);if(i.get(1)!==u.databaseId.projectId)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new ft(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new Pt(wu(i))}function Zl(u,n){return mc(u.databaseId,n)}function go(u){return new It(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function wu(u){return Ut(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function ha(u,n,i){return{name:Tu(u,n),fields:i.value.mapValue.fields}}function Xu(u,n){return{documents:[Zl(u,n.path)]}}function ls(u,n){const i={structuredQuery:{}},s=n.path;let c;null!==n.collectionGroup?(c=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Zl(u,c);const f=function(j){if(0!==j.length)return Au(Or.create(j,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const v=function(j){if(0!==j.length)return j.map(J=>{return{field:Ps((Me=J).field),direction:qi(Me.dir)};var Me})}(n.orderBy);v&&(i.structuredQuery.orderBy=v);const R=Wc(u,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(j=n.startAt).inclusive,values:j.position}),n.endAt&&(i.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(n.endAt)),{ct:i,parent:c};var j}function sr(u){let n=function Gc(u){const n=qa(u);return 4===n.length?It.emptyPath():wu(n)}(u.parent);const i=u.structuredQuery,s=i.from?i.from.length:0;let c=null;if(s>0){Ut(1===s);const J=i.from[0];J.allDescendants?c=J.collectionId:n=n.child(J.collectionId)}let f=[];i.where&&(f=function(ue){const Me=$i(ue);return Me instanceof Or&&Zi(Me)?Me.getFilters():[Me]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(Me=>{return new Va(Ya((Bt=Me).field),function(Kt){switch(Kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Bt.direction));var Bt}));let R=null;i.limit&&(R=function(ue){let Me;return Me="object"==typeof ue?ue.value:ue,re(Me)?null:Me}(i.limit));let N=null;var ue;i.startAt&&(N=new Vi((ue=i.startAt).values||[],!!ue.before));let j=null;return i.endAt&&(j=function(ue){return new Vi(ue.values||[],!ue.before)}(i.endAt)),function An(u,n,i,s,c,f,v,R){return new cr(u,n,i,s,c,f,v,R)}(n,c,v,f,R,"F",N,j)}function $i(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ya(i.unaryFilter.field);return vr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=Ya(i.unaryFilter.field);return vr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ya(i.unaryFilter.field);return vr.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Ya(i.unaryFilter.field);return vr.create(v,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(u):void 0!==u.fieldFilter?vr.create(Ya((i=u).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return Or.create(i.compositeFilter.filters.map(s=>$i(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return xt()}}(i.compositeFilter.op))}(u):xt();var i}function qi(u){return Zs[u]}function Rs(u){return gc[u]}function Xa(u){return Ku[u]}function Ps(u){return{fieldPath:u.canonicalString()}}function Ya(u){return _n.fromServerFormat(u.fieldPath)}function Au(u){return u instanceof vr?function(i){if("=="===i.op){if(Es(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NAN"}};if(ka(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Es(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NAN"}};if(ka(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(i.field),op:Rs(i.op),value:i.value}}}(u):u instanceof Or?function(i){const s=i.getFilters().map(c=>Au(c));return 1===s.length?s[0]:{compositeFilter:{op:Xa(i.op),filters:s}}}(u):xt()}function So(u){const n=[];return u.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function fa(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class jo{constructor(n,i,s,c,f=Te.min(),v=Te.min(),R=Kn.EMPTY_BYTE_STRING,N=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=R,this.expectedCount=N}withSequenceNumber(n){return new jo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Qc{constructor(n){this.ht=n}}function P(u){const n=sr({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Da(n,n.limit,"L"):n}class eo{constructor(){}dt(n,i){this.Et(n,i),i.At()}Et(n,i){if("nullValue"in n)this.Rt(i,5);else if("booleanValue"in n)this.Rt(i,10),i.Vt(n.booleanValue?1:0);else if("integerValue"in n)this.Rt(i,15),i.Vt(Mn(n.integerValue));else if("doubleValue"in n){const s=Mn(n.doubleValue);isNaN(s)?this.Rt(i,13):(this.Rt(i,15),Se(s)?i.Vt(0):i.Vt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Rt(i,20),"string"==typeof s&&(s=_r(s)),i.ft(`${s.seconds||""}`),i.Vt(s.nanos||0)}else if("stringValue"in n)this.gt(n.stringValue,i),this.yt(i);else if("bytesValue"in n)this.Rt(i,30),i.wt(Ir(n.bytesValue)),this.yt(i);else if("referenceValue"in n)this.St(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Rt(i,45),i.Vt(s.latitude||0),i.Vt(s.longitude||0)}else"mapValue"in n?Ea(n)?this.Rt(i,Number.MAX_SAFE_INTEGER):Ki(n)?this.bt(n.mapValue,i):(this.Dt(n.mapValue,i),this.yt(i)):"arrayValue"in n?(this.vt(n.arrayValue,i),this.yt(i)):xt()}gt(n,i){this.Rt(i,25),this.Ct(n,i)}Ct(n,i){i.ft(n)}Dt(n,i){const s=n.fields||{};this.Rt(i,55);for(const c of Object.keys(s))this.gt(c,i),this.Et(s[c],i)}bt(n,i){var s,c;const f=n.fields||{};this.Rt(i,53);const v="value",R=(null===(c=null===(s=f[v].arrayValue)||void 0===s?void 0:s.values)||void 0===c?void 0:c.length)||0;this.Rt(i,15),i.Vt(Mn(R)),this.gt(v,i),this.Et(f[v],i)}vt(n,i){const s=n.values||[];this.Rt(i,50);for(const c of s)this.Et(c,i)}St(n,i){this.Rt(i,37),Pt.fromName(n).path.forEach(s=>{this.Rt(i,60),this.Ct(s,i)})}Rt(n,i){n.Vt(i)}yt(n){n.Vt(2)}}eo.Ft=new eo;class vc{constructor(){this.ln=new Ec}addToCollectionParentIndex(n,i){return this.ln.add(i),Ke.resolve()}getCollectionParents(n,i){return Ke.resolve(this.ln.getEntries(i))}addFieldIndex(n,i){return Ke.resolve()}deleteFieldIndex(n,i){return Ke.resolve()}deleteAllFieldIndexes(n){return Ke.resolve()}createTargetIndexes(n,i){return Ke.resolve()}getDocumentsMatchingTarget(n,i){return Ke.resolve(null)}getIndexType(n,i){return Ke.resolve(0)}getFieldIndexes(n,i){return Ke.resolve([])}getNextCollectionGroupToUpdate(n){return Ke.resolve(null)}getMinOffset(n,i){return Ke.resolve(gr.min())}getMinOffsetFromCollectionGroup(n,i){return Ke.resolve(gr.min())}updateCollectionGroup(n,i,s){return Ke.resolve()}updateIndexEntries(n,i){return Ke.resolve()}}class Ec{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),c=this.index[i]||new gt(It.comparator),f=!c.has(s);return this.index[i]=c.add(s),f}has(n){const i=n.lastSegment(),s=n.popLast(),c=this.index[i];return c&&c.has(s)}getEntries(n){return(this.index[n]||new gt(It.comparator)).toArray()}}new Uint8Array(0);const Os={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ar{static withCacheSize(n){return new ar(n,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class ds{constructor(n){this.kn=n}next(){return this.kn+=2,this.kn}static qn(){return new ds(0)}static Qn(){return new ds(-1)}}function tu([u,n],[i,s]){const c=wt(u,i);return 0===c?wt(n,s):c}class ec{constructor(n){this.Gn=n,this.buffer=new gt(tu),this.zn=0}jn(){return++this.zn}Hn(n){const i=[n,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();tu(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tc{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(n){var i=this;te("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,I.A)(function*(){i.Jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Mr(s)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Hn(s)}yield i.Yn(3e5)}))}}class fs{constructor(n,i){this.Zn=n,this.params=i}calculateTargetCount(n,i){return this.Zn.Xn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Ke.resolve(Et.oe);const s=new ec(i);return this.Zn.forEachTarget(n,c=>s.Hn(c.sequenceNumber)).next(()=>this.Zn.er(n,c=>s.Hn(c))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Zn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Zn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Os)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Os):this.tr(n,i))}getCacheSize(n){return this.Zn.getCacheSize(n)}tr(n,i){let s,c,f,v,R,N,j;const J=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),c=this.params.maximumSequenceNumbersToCollect):c=ue,v=Date.now(),this.nthSequenceNumber(n,c))).next(ue=>(s=ue,R=Date.now(),this.removeTargets(n,s,i))).next(ue=>(f=ue,N=Date.now(),this.removeOrphanedDocuments(n,s))).next(ue=>(j=Date.now(),qt()<=W.$b.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-J}ms\n\tDetermined least recently used ${c} in `+(R-v)+`ms\n\tRemoved ${f} targets in `+(N-R)+`ms\n\tRemoved ${ue} documents in `+(j-N)+`ms\nTotal Duration: ${j-J}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:ue})))}}class ta{constructor(){this.changes=new Ks(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Ar.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Ke.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class ps{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class na{constructor(n,i,s,c){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=c}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(c=>(s=c,this.remoteDocumentCache.getEntry(n,i))).next(c=>(null!==s&&Wn(s.mutation,c,nr.empty(),se.now()),c))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,qn()).next(()=>s))}getLocalViewOfDocuments(n,i,s=qn()){const c=Vo();return this.populateOverlays(n,c,i).next(()=>this.computeViews(n,i,c,s).next(f=>{let v=za();return f.forEach((R,N)=>{v=v.insert(R,N.overlayedDocument)}),v}))}getOverlayedDocuments(n,i){const s=Vo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,qn()))}populateOverlays(n,i,s){const c=[];return s.forEach(f=>{i.has(f)||c.push(f)}),this.documentOverlayCache.getOverlays(n,c).next(f=>{f.forEach((v,R)=>{i.set(v,R)})})}computeViews(n,i,s,c){let f=po();const v=Ao(),R=Ao();return i.forEach((N,j)=>{const J=s.get(j.key);c.has(j.key)&&(void 0===J||J.mutation instanceof Co)?f=f.insert(j.key,j):void 0!==J?(v.set(j.key,J.mutation.getFieldMask()),Wn(J.mutation,j,J.mutation.getFieldMask(),se.now())):v.set(j.key,nr.empty())}),this.recalculateAndSaveOverlays(n,f).next(N=>(N.forEach((j,J)=>v.set(j,J)),i.forEach((j,J)=>{var ue;return R.set(j,new ps(J,null!==(ue=v.get(j))&&void 0!==ue?ue:null))}),R))}recalculateAndSaveOverlays(n,i){const s=Ao();let c=new he((v,R)=>v-R),f=qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(v=>{for(const R of v)R.keys().forEach(N=>{const j=i.get(N);if(null===j)return;let J=s.get(N)||nr.empty();J=R.applyToLocalView(j,J),s.set(N,J);const ue=(c.get(R.batchId)||qn()).add(N);c=c.insert(R.batchId,ue)})}).next(()=>{const v=[],R=c.getReverseIterator();for(;R.hasNext();){const N=R.getNext(),j=N.key,J=N.value,ue=Do();J.forEach(Me=>{if(!f.has(Me)){const lt=qs(i.get(Me),s.get(Me));null!==lt&&ue.set(Me,lt),f=f.add(Me)}}),v.push(this.documentOverlayCache.saveOverlays(n,j,ue))}return Ke.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,c){return Pt.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):function hc(u){return null!==u.collectionGroup}(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,c):this.getDocumentsMatchingCollectionQuery(n,i,s,c);var v}getNextDocuments(n,i,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,c).next(f=>{const v=c-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,c-f.size):Ke.resolve(Vo());let R=-1,N=f;return v.next(j=>Ke.forEach(j,(J,ue)=>(R<ue.largestBatchId&&(R=ue.largestBatchId),f.get(J)?Ke.resolve():this.remoteDocumentCache.getEntry(n,J).next(Me=>{N=N.insert(J,Me)}))).next(()=>this.populateOverlays(n,j,f)).next(()=>this.computeViews(n,N,j,qn())).next(J=>({batchId:R,changes:Sr(J)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Pt(i)).next(s=>{let c=za();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(n,i,s,c){const f=i.collectionGroup;let v=za();return this.indexManager.getCollectionParents(n,f).next(R=>Ke.forEach(R,N=>{const j=(ue=i,Me=N.child(f),new cr(Me,null,ue.explicitOrderBy.slice(),ue.filters.slice(),ue.limit,ue.limitType,ue.startAt,ue.endAt));var ue,Me;return this.getDocumentsMatchingCollectionQuery(n,j,s,c).next(J=>{J.forEach((ue,Me)=>{v=v.insert(ue,Me)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(n,i,s,c){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,f,c))).next(v=>{f.forEach((N,j)=>{const J=j.getKey();null===v.get(J)&&(v=v.insert(J,Ar.newInvalidDocument(J)))});let R=za();return v.forEach((N,j)=>{const J=f.get(N);void 0!==J&&Wn(J.mutation,j,nr.empty(),se.now()),$a(i,j)&&(R=R.insert(N,j))}),R})}}class Od{constructor(n){this.serializer=n,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(n,i){return Ke.resolve(this.Tr.get(i))}saveBundleMetadata(n,i){return this.Tr.set(i.id,{id:(c=i).id,version:c.version,createTime:Qr(c.createTime)}),Ke.resolve();var c}getNamedQuery(n,i){return Ke.resolve(this.Ir.get(i))}saveNamedQuery(n,i){return this.Ir.set(i.name,{name:(c=i).name,query:P(c.bundledQuery),readTime:Qr(c.readTime)}),Ke.resolve();var c}}class ed{constructor(){this.overlays=new he(Pt.comparator),this.dr=new Map}getOverlay(n,i){return Ke.resolve(this.overlays.get(i))}getOverlays(n,i){const s=Vo();return Ke.forEach(i,c=>this.getOverlay(n,c).next(f=>{null!==f&&s.set(c,f)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((c,f)=>{this.Tt(n,i,f)}),Ke.resolve()}removeOverlaysForBatchId(n,i,s){const c=this.dr.get(s);return void 0!==c&&(c.forEach(f=>this.overlays=this.overlays.remove(f)),this.dr.delete(s)),Ke.resolve()}getOverlaysForCollection(n,i,s){const c=Vo(),f=i.length+1,v=new Pt(i.child("")),R=this.overlays.getIteratorFrom(v);for(;R.hasNext();){const N=R.getNext().value,j=N.getKey();if(!i.isPrefixOf(j.path))break;j.path.length===f&&N.largestBatchId>s&&c.set(N.getKey(),N)}return Ke.resolve(c)}getOverlaysForCollectionGroup(n,i,s,c){let f=new he((j,J)=>j-J);const v=this.overlays.getIterator();for(;v.hasNext();){const j=v.getNext().value;if(j.getKey().getCollectionGroup()===i&&j.largestBatchId>s){let J=f.get(j.largestBatchId);null===J&&(J=Vo(),f=f.insert(j.largestBatchId,J)),J.set(j.getKey(),j)}}const R=Vo(),N=f.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((j,J)=>R.set(j,J)),!(R.size()>=c)););return Ke.resolve(R)}Tt(n,i,s){const c=this.overlays.get(s.key);if(null!==c){const v=this.dr.get(c.largestBatchId).delete(s.key);this.dr.set(c.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new pe(i,s));let f=this.dr.get(i);void 0===f&&(f=qn(),this.dr.set(i,f)),this.dr.set(i,f.add(s.key))}}class bu{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(n){return Ke.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Ke.resolve()}}class wc{constructor(){this.Er=new gt(Qi.Ar),this.Rr=new gt(Qi.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(n,i){const s=new Qi(n,i);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.gr(new Qi(n,i))}pr(n,i){n.forEach(s=>this.removeReference(s,i))}yr(n){const i=new Pt(new It([])),s=new Qi(i,n),c=new Qi(i,n+1),f=[];return this.Rr.forEachInRange([s,c],v=>{this.gr(v),f.push(v.key)}),f}wr(){this.Er.forEach(n=>this.gr(n))}gr(n){this.Er=this.Er.delete(n),this.Rr=this.Rr.delete(n)}Sr(n){const i=new Pt(new It([])),s=new Qi(i,n),c=new Qi(i,n+1);let f=qn();return this.Rr.forEachInRange([s,c],v=>{f=f.add(v.key)}),f}containsKey(n){const i=new Qi(n,0),s=this.Er.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Qi{constructor(n,i){this.key=n,this.br=i}static Ar(n,i){return Pt.comparator(n.key,i.key)||wt(n.br,i.br)}static Vr(n,i){return wt(n.br,i.br)||Pt.comparator(n.key,i.key)}}class vl{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Dr=1,this.vr=new gt(Qi.Ar)}checkEmpty(n){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,c){const f=this.Dr;this.Dr++;const v=new k(f,i,s,c);this.mutationQueue.push(v);for(const R of c)this.vr=this.vr.add(new Qi(R.key,f)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Ke.resolve(v)}lookupMutationBatch(n,i){return Ke.resolve(this.Cr(i))}getNextMutationBatchAfterBatchId(n,i){const c=this.Fr(i+1),f=c<0?0:c;return Ke.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(n){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Qi(i,0),c=new Qi(i,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([s,c],v=>{const R=this.Cr(v.br);f.push(R)}),Ke.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new gt(wt);return i.forEach(c=>{const f=new Qi(c,0),v=new Qi(c,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,v],R=>{s=s.add(R.br)})}),Ke.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,c=s.length+1;let f=s;Pt.isDocumentKey(f)||(f=f.child(""));const v=new Qi(new Pt(f),0);let R=new gt(wt);return this.vr.forEachWhile(N=>{const j=N.key.path;return!!s.isPrefixOf(j)&&(j.length===c&&(R=R.add(N.br)),!0)},v),Ke.resolve(this.Mr(R))}Mr(n){const i=[];return n.forEach(s=>{const c=this.Cr(s);null!==c&&i.push(c)}),i}removeMutationBatch(n,i){Ut(0===this.Or(i.batchId,"removed")),this.mutationQueue.shift();let s=this.vr;return Ke.forEach(i.mutations,c=>{const f=new Qi(c.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.vr=s})}Bn(n){}containsKey(n,i){const s=new Qi(i,0),c=this.vr.firstAfterOrEqual(s);return Ke.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(n){return Ke.resolve()}Or(n,i){return this.Fr(n)}Fr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Cr(n){const i=this.Fr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xd{constructor(n){this.Nr=n,this.docs=new he(Pt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,c=this.docs.get(s),f=c?c.size:0,v=this.Nr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Ke.resolve(s?s.document.mutableCopy():Ar.newInvalidDocument(i))}getEntries(n,i){let s=po();return i.forEach(c=>{const f=this.docs.get(c);s=s.insert(c,f?f.document.mutableCopy():Ar.newInvalidDocument(c))}),Ke.resolve(s)}getDocumentsMatchingQuery(n,i,s,c){let f=po();const v=i.path,R=new Pt(v.child("__id-9223372036854775808__")),N=this.docs.getIteratorFrom(R);for(;N.hasNext();){const{key:j,value:{document:J}}=N.getNext();if(!v.isPrefixOf(j.path))break;j.path.length>v.length+1||Cn(new gr((u=J).readTime,u.key,-1),s)<=0||(c.has(J.key)||$a(i,J))&&(f=f.insert(J.key,J.mutableCopy()))}var u;return Ke.resolve(f)}getAllFromCollectionGroup(n,i,s,c){xt()}Br(n,i){return Ke.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new Sh(this)}getSize(n){return Ke.resolve(this.size)}}class Sh extends ta{constructor(n){super(),this.hr=n}applyChanges(n){const i=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?i.push(this.hr.addEntry(n,c)):this.hr.removeEntry(s)}),Ke.waitFor(i)}getFromCache(n,i){return this.hr.getEntry(n,i)}getAllFromCache(n,i){return this.hr.getEntries(n,i)}}class El{constructor(n){this.persistence=n,this.Lr=new Ks(i=>hr(i),os),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new wc,this.targetCount=0,this.Qr=ds.qn()}forEachTarget(n,i){return this.Lr.forEach((s,c)=>i(c)),Ke.resolve()}getLastRemoteSnapshotVersion(n){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ke.resolve(this.kr)}allocateTargetId(n){return this.highestTargetId=this.Qr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.kr&&(this.kr=i),Ke.resolve()}Un(n){this.Lr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.Qr=new ds(i),this.highestTargetId=i),n.sequenceNumber>this.kr&&(this.kr=n.sequenceNumber)}addTargetData(n,i){return this.Un(i),this.targetCount+=1,Ke.resolve()}updateTargetData(n,i){return this.Un(i),Ke.resolve()}removeTargetData(n,i){return this.Lr.delete(i.target),this.qr.yr(i.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(n,i,s){let c=0;const f=[];return this.Lr.forEach((v,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.Lr.delete(v),f.push(this.removeMatchingKeysForTargetId(n,R.targetId)),c++)}),Ke.waitFor(f).next(()=>c)}getTargetCount(n){return Ke.resolve(this.targetCount)}getTargetData(n,i){const s=this.Lr.get(i)||null;return Ke.resolve(s)}addMatchingKeys(n,i,s){return this.qr.mr(i,s),Ke.resolve()}removeMatchingKeys(n,i,s){this.qr.pr(i,s);const c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(v=>{f.push(c.markPotentiallyOrphaned(n,v))}),Ke.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.qr.yr(i),Ke.resolve()}getMatchingKeysForTargetId(n,i){const s=this.qr.Sr(i);return Ke.resolve(s)}containsKey(n,i){return Ke.resolve(this.qr.containsKey(i))}}class xs{constructor(n,i){this.Kr={},this.overlays={},this.$r=new Et(0),this.Ur=!1,this.Ur=!0,this.Wr=new bu,this.referenceDelegate=n(this),this.Gr=new El(this),this.indexManager=new vc,this.remoteDocumentCache=new xd(s=>this.referenceDelegate.zr(s)),this.serializer=new Qc(i),this.jr=new Od(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new ed,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.Kr[n.toKey()];return s||(s=new vl(i,this.referenceDelegate),this.Kr[n.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(n,i,s){te("MemoryPersistence","Starting transaction:",n);const c=new Jc(this.$r.next());return this.referenceDelegate.Hr(),s(c).next(f=>this.referenceDelegate.Jr(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Yr(n,i){return Ke.or(Object.values(this.Kr).map(s=>()=>s.containsKey(n,i)))}}class Jc extends Er{constructor(n){super(),this.currentSequenceNumber=n}}class td{constructor(n){this.persistence=n,this.Zr=new wc,this.Xr=null}static ei(n){return new td(n)}get ti(){if(this.Xr)return this.Xr;throw xt()}addReference(n,i,s){return this.Zr.addReference(s,i),this.ti.delete(s.toString()),Ke.resolve()}removeReference(n,i,s){return this.Zr.removeReference(s,i),this.ti.add(s.toString()),Ke.resolve()}markPotentiallyOrphaned(n,i){return this.ti.add(i.toString()),Ke.resolve()}removeTarget(n,i){this.Zr.yr(i.targetId).forEach(c=>this.ti.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(c=>{c.forEach(f=>this.ti.add(f.toString()))}).next(()=>s.removeTargetData(n,i))}Hr(){this.Xr=new Set}Jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.ti,s=>{const c=Pt.fromPath(s);return this.ni(n,c).next(f=>{f||i.removeEntry(c,Te.min())})}).next(()=>(this.Xr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ni(n,i).next(s=>{s?this.ti.delete(i.toString()):this.ti.add(i.toString())})}zr(n){return 0}ni(n,i){return Ke.or([()=>Ke.resolve(this.Zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Yr(n,i)])}}class nd{constructor(n,i){this.persistence=n,this.ri=new Ks(s=>function we(u){let n="";for(let i=0;i<u.length;i++)n.length>0&&(n=jt(n)),n=at(u.get(i),n);return jt(n)}(s.path),(s,c)=>s.isEqual(c)),this.garbageCollector=function wn(u,n){return new fs(u,n)}(this,i)}static ei(n,i){return new nd(n,i)}Hr(){}Jr(n){return Ke.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}Xn(n){const i=this.nr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(c=>s+c))}nr(n){let i=0;return this.er(n,s=>{i++}).next(()=>i)}er(n,i){return Ke.forEach(this.ri,(s,c)=>this.ir(n,s,c).next(f=>f?Ke.resolve():i(c)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const c=this.persistence.getRemoteDocumentCache(),f=c.newChangeBuffer();return c.Br(n,v=>this.ir(n,v,i).next(R=>{R||(s++,f.removeEntry(v,Te.min()))})).next(()=>f.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.ri.set(i,n.currentSequenceNumber),Ke.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.ri.set(s,n.currentSequenceNumber),Ke.resolve()}removeReference(n,i,s){return this.ri.set(s,n.currentSequenceNumber),Ke.resolve()}updateLimboDocument(n,i){return this.ri.set(i,n.currentSequenceNumber),Ke.resolve()}zr(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=uu(n.data.value)),i}ir(n,i,s){return Ke.or([()=>this.persistence.Yr(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const c=this.ri.get(i);return Ke.resolve(void 0!==c&&c>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class kd{constructor(n,i,s,c){this.targetId=n,this.fromCache=i,this.Wi=s,this.Gi=c}static zi(n,i){let s=qn(),c=qn();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new kd(n,i.fromCache,s,c)}}class Rh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Ld{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=(0,Ee.nr)()?8:function rr(u){const n=u.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Ee.ZQ)())>0?6:4}initialize(n,i){this.Zi=n,this.indexManager=i,this.ji=!0}getDocumentsMatchingQuery(n,i,s,c){const f={result:null};return this.Xi(n,i).next(v=>{f.result=v}).next(()=>{if(!f.result)return this.es(n,i,c,s).next(v=>{f.result=v})}).next(()=>{if(f.result)return;const v=new Rh;return this.ts(n,i,v).next(R=>{if(f.result=R,this.Hi)return this.ns(n,i,v,R.size)})}).next(()=>f.result)}ns(n,i,s,c){return s.documentReadCount<this.Ji?(qt()<=W.$b.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Aa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Ke.resolve()):(qt()<=W.$b.DEBUG&&te("QueryEngine","Query:",Aa(i),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Yi*c?(qt()<=W.$b.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Aa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,fo(i))):Ke.resolve())}Xi(n,i){if(Xo(i))return Ke.resolve(null);let s=fo(i);return this.indexManager.getIndexType(n,s).next(c=>0===c?null:(null!==i.limit&&1===c&&(i=Da(i,null,"F"),s=fo(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const v=qn(...f);return this.Zi.getDocuments(n,v).next(R=>this.indexManager.getMinOffset(n,s).next(N=>{const j=this.rs(i,R);return this.ss(i,j,v,N.readTime)?this.Xi(n,Da(i,null,"F")):this.os(n,j,i,N)}))})))}es(n,i,s,c){return Xo(i)||c.isEqual(Te.min())?Ke.resolve(null):this.Zi.getDocuments(n,s).next(f=>{const v=this.rs(i,f);return this.ss(i,v,s,c)?Ke.resolve(null):(qt()<=W.$b.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Aa(i)),this.os(n,v,i,function Wi(u,n){const i=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,c=Te.fromTimestamp(1e9===s?new se(i+1,0):new se(i,s));return new gr(c,Pt.empty(),n)}(c,-1)).next(R=>R))})}rs(n,i){let s=new gt(Ti(n));return i.forEach((c,f)=>{$a(n,f)&&(s=s.add(f))}),s}ss(n,i,s,c){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}ts(n,i,s){return qt()<=W.$b.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Aa(i)),this.Zi.getDocumentsMatchingQuery(n,i,gr.min(),s)}os(n,i,s,c){return this.Zi.getDocumentsMatchingQuery(n,s,c).next(f=>(i.forEach(v=>{f=f.insert(v.key,v)}),f))}}class Of{constructor(n,i,s,c){this.persistence=n,this._s=i,this.serializer=c,this.us=new he(wt),this.cs=new Ks(f=>hr(f),os),this.ls=new Map,this.hs=n.getRemoteDocumentCache(),this.Gr=n.getTargetCache(),this.jr=n.getBundleCache(),this.Ps(s)}Ps(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new na(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.us))}}function Sc(u,n){return tl.apply(this,arguments)}function tl(){return(tl=(0,I.A)(function*(u,n){const i=Lt(u);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let c;return i.mutationQueue.getAllMutationBatches(s).next(f=>(c=f,i.Ps(n),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const v=[],R=[];let N=qn();for(const j of c){v.push(j.batchId);for(const J of j.mutations)N=N.add(J.key)}for(const j of f){R.push(j.batchId);for(const J of j.mutations)N=N.add(J.key)}return i.localDocuments.getDocuments(s,N).next(j=>({Ts:j,removedBatchIds:v,addedBatchIds:R}))})})})).apply(this,arguments)}function Fd(u){const n=Lt(u);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Gr.getLastRemoteSnapshotVersion(i))}function Ud(u,n){const i=Lt(u);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function Pu(u,n,i){return sd.apply(this,arguments)}function sd(){return(sd=(0,I.A)(function*(u,n,i){const s=Lt(u),c=s.us.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,v=>s.persistence.referenceDelegate.removeTarget(v,c)))}catch(v){if(!Mr(v))throw v;te("LocalStore",`Failed to update sequence numbers for target ${n}: ${v}`)}s.us=s.us.remove(n),s.cs.delete(c.target)})).apply(this,arguments)}function Ro(u,n,i){const s=Lt(u);let c=Te.min(),f=qn();return s.persistence.runTransaction("Execute query","readwrite",v=>function(N,j,J){const ue=Lt(N),Me=ue.cs.get(J);return void 0!==Me?Ke.resolve(ue.us.get(Me)):ue.Gr.getTargetData(j,J)}(s,v,fo(n)).next(R=>{if(R)return c=R.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(v,R.targetId).next(N=>{f=N})}).next(()=>s._s.getDocumentsMatchingQuery(v,n,i?c:Te.min(),i?f:qn())).next(R=>(function Hr(u,n,i){let s=u.ls.get(n)||Te.min();i.forEach((c,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),u.ls.set(n,s)}(s,function Ha(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}(n),R),{documents:R,Es:f})))}class K{constructor(){this.activeTargetIds=function ss(){return fu}()}ps(n){this.activeTargetIds=this.activeTargetIds.add(n)}ys(n){this.activeTargetIds=this.activeTargetIds.delete(n)}gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class de{constructor(){this._o=new K,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this._o.ps(n),this.ao[n]||"not-current"}updateQueryState(n,i,s){this.ao[n]=i}removeLocalQueryTarget(n){this._o.ys(n)}isLocalQueryTarget(n){return this._o.activeTargetIds.has(n)}clearQueryState(n){delete this.ao[n]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(n){return this._o.activeTargetIds.has(n)}start(){return this._o=new K,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class _{uo(n){}shutdown(){}}class d{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(n){this.To.push(n)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.To)n(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.To)n(1)}static p(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let g=null;function T(){return null===g?g=268435456+Math.round(2147483648*Math.random()):g++,"0x"+g.toString(16)}const F={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q{constructor(n){this.Eo=n.Eo,this.Ao=n.Ao}Ro(n){this.Vo=n}mo(n){this.fo=n}po(n){this.yo=n}onMessage(n){this.wo=n}close(){this.Ao()}send(n){this.Eo(n)}So(){this.Vo()}bo(){this.fo()}Do(n){this.yo(n)}vo(n){this.wo(n)}}const ae="WebChannelConnection";class be extends class{get Co(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+i.host,this.Mo=`projects/${c}/databases/${f}`,this.xo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${f}`}Oo(i,s,c,f,v){const R=T(),N=this.No(i,s.toUriEncodedString());te("RestConnection",`Sending RPC '${i}' ${R}:`,N,c);const j={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(j,f,v),this.Lo(i,N,j,c).then(J=>(te("RestConnection",`Received RPC '${i}' ${R}: `,J),J),J=>{throw Ht("RestConnection",`RPC '${i}' ${R} failed with error: `,J,"url: ",N,"request:",c),J})}ko(i,s,c,f,v,R){return this.Oo(i,s,c,f,v)}Bo(i,s,c){i["X-Goog-Api-Client"]="gl-js/ fire/"+Tt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,v)=>i[v]=f),c&&c.headers.forEach((f,v)=>i[v]=f)}No(i,s){return`${this.Fo}/v1/${s}:${F[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Lo(n,i,s,c){const f=T();return new Promise((v,R)=>{const N=new He;N.setWithCredentials(!0),N.listenOnce(At.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case mn.NO_ERROR:const J=N.getResponseJson();te(ae,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(J)),v(J);break;case mn.TIMEOUT:te(ae,`RPC '${n}' ${f} timed out`),R(new ft(We.DEADLINE_EXCEEDED,"Request time out"));break;case mn.HTTP_ERROR:const ue=N.getStatus();if(te(ae,`RPC '${n}' ${f} failed with status:`,ue,"response text:",N.getResponseText()),ue>0){let Me=N.getResponseJson();Array.isArray(Me)&&(Me=Me[0]);const lt=Me?.error;if(lt&&lt.status&&lt.message){const Bt=function(Kt){const On=Kt.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(On)>=0?On:We.UNKNOWN}(lt.status);R(new ft(Bt,lt.message))}else R(new ft(We.UNKNOWN,"Server responded with status "+N.getStatus()))}else R(new ft(We.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{te(ae,`RPC '${n}' ${f} completed.`)}});const j=JSON.stringify(c);te(ae,`RPC '${n}' ${f} sending request:`,c),N.send(i,"POST",j,s,15)})}qo(n,i,s){const c=T(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",n,"/channel"],v=En(),R=dn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(N.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Bo(N.initMessageHeaders,i,s),N.encodeInitMessageHeaders=!0;const J=f.join("");te(ae,`Creating RPC '${n}' stream ${c}: ${J}`,N);const ue=v.createWebChannel(J,N);let Me=!1,lt=!1;const Bt=new Q({Eo:Kt=>{lt?te(ae,`Not sending because RPC '${n}' stream ${c} is closed:`,Kt):(Me||(te(ae,`Opening RPC '${n}' stream ${c} transport.`),ue.open(),Me=!0),te(ae,`RPC '${n}' stream ${c} sending:`,Kt),ue.send(Kt))},Ao:()=>ue.close()}),en=(Kt,On,Xn)=>{Kt.listen(On,kn=>{try{Xn(kn)}catch(pr){setTimeout(()=>{throw pr},0)}})};return en(ue,vt.EventType.OPEN,()=>{lt||(te(ae,`RPC '${n}' stream ${c} transport opened.`),Bt.So())}),en(ue,vt.EventType.CLOSE,()=>{lt||(lt=!0,te(ae,`RPC '${n}' stream ${c} transport closed`),Bt.Do())}),en(ue,vt.EventType.ERROR,Kt=>{lt||(lt=!0,Ht(ae,`RPC '${n}' stream ${c} transport errored:`,Kt),Bt.Do(new ft(We.UNAVAILABLE,"The operation could not be completed")))}),en(ue,vt.EventType.MESSAGE,Kt=>{var On;if(!lt){const Xn=Kt.data[0];Ut(!!Xn);const kn=Xn,pr=kn?.error||(null===(On=kn[0])||void 0===On?void 0:On.error);if(pr){te(ae,`RPC '${n}' stream ${c} received error:`,pr);const si=pr.status;let Cr=function(xe){const Xe=tn[xe];if(void 0!==Xe)return Kr(Xe)}(si),qe=pr.message;void 0===Cr&&(Cr=We.INTERNAL,qe="Unknown error status: "+si+" with message "+pr.message),lt=!0,Bt.Do(new ft(Cr,qe)),ue.close()}else te(ae,`RPC '${n}' stream ${c} received:`,Xn),Bt.vo(Xn)}}),en(R,zt.STAT_EVENT,Kt=>{Kt.stat===fn.PROXY?te(ae,`RPC '${n}' stream ${c} detected buffering proxy`):Kt.stat===fn.NOPROXY&&te(ae,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Bt.bo()},0),Bt}}function ot(){return typeof document<"u"?document:null}function Gt(u){return new qu(u,!0)}class sn{constructor(n,i,s=1e3,c=1.5,f=6e4){this.li=n,this.timerId=i,this.Qo=s,this.Ko=c,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(n){this.cancel();const i=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),c=Math.max(0,i-s);c>0&&te("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Uo} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,c,()=>(this.Go=Date.now(),n())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class bn{constructor(n,i,s,c,f,v,R,N){this.li=n,this.Yo=s,this.Zo=c,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=R,this.listener=N,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new sn(n,i)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}stop(){var n=this;return(0,I.A)(function*(){n.i_()&&(yield n.close(0))})()}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(n){this.l_(),this.stream.send(n)}u_(){var n=this;return(0,I.A)(function*(){if(n.s_())return n.close(0)})()}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(n,i){var s=this;return(0,I.A)(function*(){s.l_(),s.h_(),s.r_.cancel(),s.Xo++,4!==n?s.r_.reset():i&&i.code===We.RESOURCE_EXHAUSTED?(ke(i.toString()),ke("Using maximum backoff delay to prevent overloading the backend."),s.r_.zo()):i&&i.code===We.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.P_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.po(i)})()}P_(){}auth(){this.state=1;const n=this.T_(this.Xo),i=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Xo===i&&this.I_(s,c)},s=>{n(()=>{const c=new ft(We.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(c)})})}I_(n,i){const s=this.T_(this.Xo);this.stream=this.E_(n,i),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(c=>{s(()=>this.d_(c))}),this.stream.onMessage(c=>{s(()=>1==++this.n_?this.A_(c):this.onNext(c))})}o_(){var n=this;this.state=5,this.r_.jo((0,I.A)(function*(){n.state=0,n.start()}))}d_(n){return te("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}T_(n){return i=>{this.li.enqueueAndForget(()=>this.Xo===n?i():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oi extends bn{constructor(n,i,s,c,f,v){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,c,v),this.serializer=f}E_(n,i){return this.connection.qo("Listen",n,i)}A_(n){return this.onNext(n)}onNext(n){this.r_.reset();const i=function bs(u,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(j=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:xt(),c=n.targetChange.targetIds||[],f=function(j,J){return j.useProto3Json?(Ut(void 0===J||"string"==typeof J),Kn.fromBase64String(J||"")):(Ut(void 0===J||J instanceof Buffer||J instanceof Uint8Array),Kn.fromUint8Array(J||new Uint8Array))}(u,n.targetChange.resumeToken),v=n.targetChange.cause,R=v&&function(j){const J=void 0===j.code?We.UNKNOWN:Kr(j.code);return new ft(J,j.message||"")}(v);i=new Sa(s,c,f,R||null)}else if("documentChange"in n){const s=n.documentChange,c=Qa(u,s.document.name),f=Qr(s.document.updateTime),v=s.document.createTime?Qr(s.document.createTime):Te.min(),R=new Tr({mapValue:{fields:s.document.fields}}),N=Ar.newFoundDocument(c,f,v,R);i=new hn(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in n){const s=n.documentDelete,c=Qa(u,s.document),f=s.readTime?Qr(s.readTime):Te.min(),v=Ar.newNoDocument(c,f);i=new hn([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in n){const s=n.documentRemove,c=Qa(u,s.document);i=new hn([],s.removedTargetIds||[],c,null)}else{if(!("filter"in n))return xt();{const s=n.filter,{count:c=0,unchangedNames:f}=s,v=new Ot(c,f);i=new cs(s.targetId,v)}}var j;return i}(this.serializer,n),s=function(f){if(!("targetChange"in f))return Te.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?Te.min():v.readTime?Qr(v.readTime):Te.min()}(n);return this.listener.R_(i,s)}V_(n){const i={};i.database=go(this.serializer),i.addTarget=function(f,v){let R;const N=v.target;if(R=ai(N)?{documents:Xu(f,N)}:{query:ls(f,N).ct},R.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){R.resumeToken=Qu(f,v.resumeToken);const j=Wc(f,v.expectedCount);null!==j&&(R.expectedCount=j)}else if(v.snapshotVersion.compareTo(Te.min())>0){R.readTime=ui(f,v.snapshotVersion.toTimestamp());const j=Wc(f,v.expectedCount);null!==j&&(R.expectedCount=j)}return R}(this.serializer,n);const s=function ji(u,n){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.c_(i)}m_(n){const i={};i.database=go(this.serializer),i.removeTarget=n,this.c_(i)}}class Mi extends bn{constructor(n,i,s,c,f,v){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,c,v),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(n,i){return this.connection.qo("Write",n,i)}A_(n){return Ut(!!n.streamToken),this.lastStreamToken=n.streamToken,Ut(!n.writeResults||0===n.writeResults.length),this.listener.p_()}onNext(n){Ut(!!n.streamToken),this.lastStreamToken=n.streamToken,this.r_.reset();const i=function qc(u,n){return u&&u.length>0?(Ut(void 0!==n),u.map(i=>function(c,f){let v=Qr(c.updateTime?c.updateTime:f);return v.isEqual(Te.min())&&(v=Qr(f)),new _l(v,c.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Qr(n.commitTime);return this.listener.y_(s,i)}w_(){const n={};n.database=go(this.serializer),this.c_(n)}g_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Fn(u,n){let i;if(n instanceof Ca)i={update:ha(u,n.key,n.value)};else if(n instanceof b)i={delete:Tu(u,n.key)};else if(n instanceof Co)i={update:ha(u,n.key,n.data),updateMask:So(n.fieldMask)};else{if(!(n instanceof q))return xt();i={verify:Tu(u,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(f,v){const R=v.transform;if(R instanceof Cs)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof as)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof mu)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof yu)return{fieldPath:v.field.canonicalString(),increment:R.Pe};throw xt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:oo(u,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:xt()),i;var f}(this.serializer,s))};this.c_(i)}}class to extends class{}{constructor(n,i,s,c){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=c,this.S_=!1}b_(){if(this.S_)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(n,i,s,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Oo(n,ci(i,s),c,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(We.UNKNOWN,f.toString())})}ko(n,i,s,c,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,R])=>this.connection.ko(n,ci(i,s),c,v,R,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new ft(We.UNKNOWN,v.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Hi{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(n){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.M_("Offline")))}set(n){this.N_(),this.D_=0,"Online"===n&&(this.C_=!1),this.M_(n)}M_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}x_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ke(i),this.C_=!1):te("OnlineStateTracker",i)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class ks{constructor(n,i,s,c,f){var v=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(R=>{s.enqueueAndForget((0,I.A)(function*(){var N;Rn(v)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,I.A)(function*(J){const ue=Lt(J);ue.k_.add(4),yield Ls(ue),ue.K_.set("Unknown"),ue.k_.delete(4),yield Mo(ue)}),function j(J){return N.apply(this,arguments)})(v))}))}),this.K_=new Hi(s,c)}}function Mo(u){return bc.apply(this,arguments)}function bc(){return(bc=(0,I.A)(function*(u){if(Rn(u))for(const n of u.q_)yield n(!0)})).apply(this,arguments)}function Ls(u){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,I.A)(function*(u){for(const n of u.q_)yield n(!1)})).apply(this,arguments)}function nc(u,n){const i=Lt(u);i.L_.has(n.targetId)||(i.L_.set(n.targetId,n),Vr(i)?Zn(i):ad(i).s_()&&Fe(i,n))}function Ou(u,n){const i=Lt(u),s=ad(i);i.L_.delete(n),s.s_()&&Qt(i,n),0===i.L_.size&&(s.s_()?s.a_():Rn(i)&&i.K_.set("Unknown"))}function Fe(u,n){if(u.U_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Te.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}ad(u).V_(n)}function Qt(u,n){u.U_.xe(n),ad(u).m_(n)}function Zn(u){u.U_=new Ch({getRemoteKeysForTarget:n=>u.remoteSyncer.getRemoteKeysForTarget(n),ut:n=>u.L_.get(n)||null,nt:()=>u.datastore.serializer.databaseId}),ad(u).start(),u.K_.F_()}function Vr(u){return Rn(u)&&!ad(u).i_()&&u.L_.size>0}function Rn(u){return 0===Lt(u).k_.size}function Pa(u){u.U_=void 0}function Zo(u){return yo.apply(this,arguments)}function yo(){return(yo=(0,I.A)(function*(u){u.K_.set("Online")})).apply(this,arguments)}function Ni(u){return wl.apply(this,arguments)}function wl(){return(wl=(0,I.A)(function*(u){u.L_.forEach((n,i)=>{Fe(u,n)})})).apply(this,arguments)}function xf(u,n){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,I.A)(function*(u,n){Pa(u),Vr(u)?(u.K_.O_(n),Zn(u)):u.K_.set("Unknown")})).apply(this,arguments)}function Dl(u,n,i){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,I.A)(function*(u,n,i){if(u.K_.set("Online"),n instanceof Sa&&2===n.state&&n.cause)try{yield(s=(0,I.A)(function*(f,v){const R=v.cause;for(const N of v.targetIds)f.L_.has(N)&&(yield f.remoteSyncer.rejectListen(N,R),f.L_.delete(N),f.U_.removeTarget(N))}),function c(f,v){return s.apply(this,arguments)})(u,n)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Pc(u,s)}else if(n instanceof hn?u.U_.$e(n):n instanceof cs?u.U_.Je(n):u.U_.Ge(n),!i.isEqual(Te.min()))try{const s=yield Fd(u.localStore);i.compareTo(s)>=0&&(yield function(f,v){const R=f.U_.it(v);return R.targetChanges.forEach((N,j)=>{if(N.resumeToken.approximateByteSize()>0){const J=f.L_.get(j);J&&f.L_.set(j,J.withResumeToken(N.resumeToken,v))}}),R.targetMismatches.forEach((N,j)=>{const J=f.L_.get(N);if(!J)return;f.L_.set(N,J.withResumeToken(Kn.EMPTY_BYTE_STRING,J.snapshotVersion)),Qt(f,N);const ue=new jo(J.target,N,j,J.sequenceNumber);Fe(f,ue)}),f.remoteSyncer.applyRemoteEvent(R)}(u,i))}catch(s){te("RemoteStore","Failed to raise snapshot:",s),yield Pc(u,s)}var s}),Fs.apply(this,arguments)}function Pc(u,n,i){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,I.A)(function*(u,n,i){if(!Mr(n))throw n;u.k_.add(1),yield Ls(u),u.K_.set("Offline"),i||(i=()=>Fd(u.localStore)),u.asyncQueue.enqueueRetryable((0,I.A)(function*(){te("RemoteStore","Retrying IndexedDB access"),yield i(),u.k_.delete(1),yield Mo(u)}))})).apply(this,arguments)}function ra(u,n){return n().catch(i=>Pc(u,i,n))}function Ma(u){return kf.apply(this,arguments)}function kf(){return(kf=(0,I.A)(function*(u){const n=Lt(u),i=Nc(n);let s=n.B_.length>0?n.B_[n.B_.length-1].batchId:-1;for(;xu(n);)try{const c=yield Ud(n.localStore,s);if(null===c){0===n.B_.length&&i.a_();break}s=c.batchId,il(n,c)}catch(c){yield Pc(n,c)}by(n)&&mg(n)})).apply(this,arguments)}function xu(u){return Rn(u)&&u.B_.length<10}function il(u,n){u.B_.push(n);const i=Nc(u);i.s_()&&i.f_&&i.g_(n.mutations)}function by(u){return Rn(u)&&!Nc(u).i_()&&u.B_.length>0}function mg(u){Nc(u).start()}function $v(u){return yg.apply(this,arguments)}function yg(){return(yg=(0,I.A)(function*(u){Nc(u).w_()})).apply(this,arguments)}function _g(u){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,I.A)(function*(u){const n=Nc(u);for(const i of u.B_)n.g_(i.mutations)})).apply(this,arguments)}function vg(u,n,i){return jd.apply(this,arguments)}function jd(){return(jd=(0,I.A)(function*(u,n,i){const s=u.B_.shift(),c=$.from(s,n,i);yield ra(u,()=>u.remoteSyncer.applySuccessfulWrite(c)),yield Ma(u)})).apply(this,arguments)}function Hv(u,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,I.A)(function*(u,n){var i;n&&Nc(u).f_&&(yield(i=(0,I.A)(function*(c,f){if(function Lr(u){switch(u){default:return xt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}(R=f.code)&&R!==We.ABORTED){const v=c.B_.shift();Nc(c).__(),yield ra(c,()=>c.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield Ma(c)}var R}),function s(c,f){return i.apply(this,arguments)})(u,n)),by(u)&&mg(u)}),Lf.apply(this,arguments)}function Ff(u,n){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,I.A)(function*(u,n){const i=Lt(u);i.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Rn(i);i.k_.add(3),yield Ls(i),s&&i.K_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.k_.delete(3),yield Mo(i)})).apply(this,arguments)}function Bf(){return(Bf=(0,I.A)(function*(u,n){const i=Lt(u);n?(i.k_.delete(2),yield Mo(i)):n||(i.k_.add(2),yield Ls(i),i.K_.set("Unknown"))})).apply(this,arguments)}function ad(u){return u.W_||(u.W_=function(i,s,c){const f=Lt(i);return f.b_(),new oi(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(u.datastore,u.asyncQueue,{Ro:Zo.bind(null,u),mo:Ni.bind(null,u),po:xf.bind(null,u),R_:Dl.bind(null,u)}),u.q_.push(function(){var n=(0,I.A)(function*(i){i?(u.W_.__(),Vr(u)?Zn(u):u.K_.set("Unknown")):(yield u.W_.stop(),Pa(u))});return function(i){return n.apply(this,arguments)}}())),u.W_}function Nc(u){return u.G_||(u.G_=function(i,s,c){const f=Lt(i);return f.b_(),new Mi(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(u.datastore,u.asyncQueue,{Ro:()=>Promise.resolve(),mo:$v.bind(null,u),po:Hv.bind(null,u),p_:_g.bind(null,u),y_:vg.bind(null,u)}),u.q_.push(function(){var n=(0,I.A)(function*(i){i?(u.G_.__(),yield Ma(u)):(yield u.G_.stop(),u.B_.length>0&&(te("RemoteStore",`Stopping write stream with ${u.B_.length} pending writes`),u.B_=[]))});return function(i){return n.apply(this,arguments)}}())),u.G_}class Eg{constructor(n,i,s,c,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=c,this.removalCallback=f,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,c,f){const v=Date.now()+s,R=new Eg(n,i,v,c,f);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ft(We.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _o(u,n){if(ke("AsyncQueue",`${n}: ${u}`),Mr(u))return new ft(We.UNAVAILABLE,`${n}: ${u}`);throw u}class ku{static emptySet(n){return new ku(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||Pt.comparator(i.key,s.key):(i,s)=>Pt.comparator(i.key,s.key),this.keyedMap=za(),this.sortedSet=new he(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ku)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=s.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new ku;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class vi{constructor(){this.z_=new he(Pt.comparator)}track(n){const i=n.doc.key,s=this.z_.get(i);s?0!==n.type&&3===s.type?this.z_=this.z_.insert(i,n):3===n.type&&1!==s.type?this.z_=this.z_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.z_=this.z_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.z_=this.z_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.z_=this.z_.remove(i):1===n.type&&2===s.type?this.z_=this.z_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.z_=this.z_.insert(i,{type:2,doc:n.doc}):xt():this.z_=this.z_.insert(i,n)}j_(){const n=[];return this.z_.inorderTraversal((i,s)=>{n.push(s)}),n}}class ud{constructor(n,i,s,c,f,v,R,N,j){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=R,this.excludesMetadataChanges=N,this.hasCachedResults=j}static fromInitialDocuments(n,i,s,c,f){const v=[];return i.forEach(R=>{v.push({type:0,doc:R})}),new ud(n,i,ku.emptySet(i),v,s,c,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&As(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==s[c].type||!i[c].doc.isEqual(s[c].doc))return!1;return!0}}class zv{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(n=>n.Z_())}}class Ry{constructor(){this.queries=Py(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(i,s){const c=Lt(i),f=c.queries;c.queries=Py(),f.forEach((v,R)=>{for(const N of R.J_)N.onError(s)})}(this,new ft(We.ABORTED,"Firestore shutting down"))}}function Py(){return new Ks(u=>ja(u),As)}function jf(u,n){return $f.apply(this,arguments)}function $f(){return($f=(0,I.A)(function*(u,n){const i=Lt(u);let s=3;const c=n.query;let f=i.queries.get(c);f?!f.Y_()&&n.Z_()&&(s=2):(f=new zv,s=n.Z_()?0:1);try{switch(s){case 0:f.H_=yield i.onListen(c,!0);break;case 1:f.H_=yield i.onListen(c,!1);break;case 2:yield i.onFirstRemoteStoreListen(c)}}catch(v){const R=_o(v,`Initialization of query '${Aa(n.query)}' failed`);return void n.onError(R)}i.queries.set(c,f),f.J_.push(n),n.ea(i.onlineState),f.H_&&n.ta(f.H_)&&$d(i)})).apply(this,arguments)}function cd(u,n){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,I.A)(function*(u,n){const i=Lt(u),s=n.query;let c=3;const f=i.queries.get(s);if(f){const v=f.J_.indexOf(n);v>=0&&(f.J_.splice(v,1),0===f.J_.length?c=n.Z_()?0:1:!f.Y_()&&n.Z_()&&(c=2))}switch(c){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Wv(u,n){const i=Lt(u);let s=!1;for(const c of n){const v=i.queries.get(c.query);if(v){for(const R of v.J_)R.ta(c)&&(s=!0);v.H_=c}}s&&$d(i)}function Hf(u,n,i){const s=Lt(u),c=s.queries.get(n);if(c)for(const f of c.J_)f.onError(i);s.queries.delete(n)}function $d(u){u.X_.forEach(n=>{n.next()})}var Hd,zf;(zf=Hd||(Hd={})).na="default",zf.Cache="cache";class Wf{constructor(n,i,s){this.query=n,this.ra=i,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(n){if(!this.options.includeMetadataChanges){const s=[];for(const c of n.docChanges)3!==c.type&&s.push(c);n=new ud(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.ia?this.oa(n)&&(this.ra.next(n),i=!0):this._a(n,this.onlineState)&&(this.aa(n),i=!0),this.sa=n,i}onError(n){this.ra.error(n)}ea(n){this.onlineState=n;let i=!1;return this.sa&&!this.ia&&this._a(this.sa,n)&&(this.aa(this.sa),i=!0),i}_a(n,i){return!n.fromCache||!this.Z_()||(!this.options.ua||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.sa&&this.sa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}aa(n){n=ud.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.ia=!0,this.ra.next(n)}Z_(){return this.options.source!==Hd.Cache}}class Oy{constructor(n){this.key=n}}class Gf{constructor(n){this.key=n}}class Kf{constructor(n,i){this.query=n,this.Ea=i,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qn(),this.mutatedKeys=qn(),this.Va=Ti(n),this.ma=new ku(this.Va)}get fa(){return this.Ea}ga(n,i){const s=i?i.pa:new vi,c=i?i.ma:this.ma;let f=i?i.mutatedKeys:this.mutatedKeys,v=c,R=!1;const N="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,j="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((J,ue)=>{const Me=c.get(J),lt=$a(this.query,ue)?ue:null,Bt=!!Me&&this.mutatedKeys.has(Me.key),en=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let Kt=!1;Me&&lt?Me.data.isEqual(lt.data)?Bt!==en&&(s.track({type:3,doc:lt}),Kt=!0):this.ya(Me,lt)||(s.track({type:2,doc:lt}),Kt=!0,(N&&this.Va(lt,N)>0||j&&this.Va(lt,j)<0)&&(R=!0)):!Me&&lt?(s.track({type:0,doc:lt}),Kt=!0):Me&&!lt&&(s.track({type:1,doc:Me}),Kt=!0,(N||j)&&(R=!0)),Kt&&(lt?(v=v.add(lt),f=en?f.add(J):f.delete(J)):(v=v.delete(J),f=f.delete(J)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const J="F"===this.query.limitType?v.last():v.first();v=v.delete(J.key),f=f.delete(J.key),s.track({type:1,doc:J})}return{ma:v,pa:s,ss:R,mutatedKeys:f}}ya(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,c){const f=this.ma;this.ma=n.ma,this.mutatedKeys=n.mutatedKeys;const v=n.pa.j_();v.sort((J,ue)=>function(lt,Bt){const en=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return en(lt)-en(Bt)}(J.type,ue.type)||this.Va(J.doc,ue.doc)),this.wa(s),c=null!=c&&c;const R=i&&!c?this.Sa():[],N=0===this.Ra.size&&this.current&&!c?1:0,j=N!==this.Aa;return this.Aa=N,0!==v.length||j?{snapshot:new ud(this.query,n.ma,f,v,n.mutatedKeys,0===N,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:R}:{ba:R}}ea(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vi,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(n){return!this.Ea.has(n)&&!!this.ma.has(n)&&!this.ma.get(n).hasLocalMutations}wa(n){n&&(n.addedDocuments.forEach(i=>this.Ea=this.Ea.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ea=this.Ea.delete(i)),this.current=n.current)}Sa(){if(!this.current)return[];const n=this.Ra;this.Ra=qn(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const i=[];return n.forEach(s=>{this.Ra.has(s)||i.push(new Gf(s))}),this.Ra.forEach(s=>{n.has(s)||i.push(new Oy(s))}),i}va(n){this.Ea=n.Es,this.Ra=qn();const i=this.ga(n.documents);return this.applyChanges(i,!0)}Ca(){return ud.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Gv{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class Kv{constructor(n){this.key=n,this.Fa=!1}}class qv{constructor(n,i,s,c,f,v){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Ma={},this.xa=new Ks(R=>ja(R),As),this.Oa=new Map,this.Na=new Set,this.Ba=new he(Pt.comparator),this.La=new Map,this.ka=new wc,this.qa={},this.Qa=new Map,this.Ka=ds.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}function ow(u,n){return xy.apply(this,arguments)}function xy(){return(xy=(0,I.A)(function*(u,n,i=!0){const s=np(u);let c;const f=s.xa.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Ca()):c=yield Ig(s,n,i,!0),c})).apply(this,arguments)}function Qv(u,n){return qf.apply(this,arguments)}function qf(){return(qf=(0,I.A)(function*(u,n){const i=np(u);yield Ig(i,n,!0,!1)})).apply(this,arguments)}function Ig(u,n,i,s){return Al.apply(this,arguments)}function Al(){return(Al=(0,I.A)(function*(u,n,i,s){const c=yield function Ru(u,n){const i=Lt(u);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return i.Gr.getTargetData(s,n).next(f=>f?(c=f,Ke.resolve(c)):i.Gr.allocateTargetId(s).next(v=>(c=new jo(n,v,"TargetPurposeListen",s.currentSequenceNumber),i.Gr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=i.us.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.us=i.us.insert(s.targetId,s),i.cs.set(n,s.targetId)),s})}(u.localStore,fo(n)),f=c.targetId,v=u.sharedClientState.addLocalQueryTarget(f,i);let R;return s&&(R=yield function Qf(u,n,i,s,c){return Nh.apply(this,arguments)}(u,n,f,"current"===v,c.resumeToken)),u.isPrimaryClient&&i&&nc(u.remoteStore,c),R})).apply(this,arguments)}function Nh(){return Nh=(0,I.A)(function*(u,n,i,s,c){u.Ua=(ue,Me,lt)=>{return(Bt=(0,I.A)(function*(Kt,On,Xn,kn){let pr=On.view.ga(Xn);pr.ss&&(pr=yield Ro(Kt.localStore,On.query,!1).then(({documents:Ce})=>On.view.ga(Ce,pr)));const si=kn&&kn.targetChanges.get(On.targetId),Cr=kn&&null!=kn.targetMismatches.get(On.targetId),qe=On.view.applyChanges(pr,Kt.isPrimaryClient,si,Cr);return Jf(Kt,On.targetId,qe.ba),qe.snapshot}),function en(Kt,On,Xn,kn){return Bt.apply(this,arguments)})(u,ue,Me,lt);var Bt};const f=yield Ro(u.localStore,n,!0),v=new Kf(n,f.Es),R=v.ga(f.documents),N=Ys.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==u.onlineState,c),j=v.applyChanges(R,u.isPrimaryClient,N);Jf(u,i,j.ba);const J=new Gv(n,i,v);return u.xa.set(n,J),u.Oa.has(i)?u.Oa.get(i).push(n):u.Oa.set(i,[n]),j.snapshot}),Nh.apply(this,arguments)}function ld(u,n,i){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,I.A)(function*(u,n,i){const s=Lt(u),c=s.xa.get(n),f=s.Oa.get(c.targetId);if(f.length>1)return s.Oa.set(c.targetId,f.filter(v=>!As(v,n))),void s.xa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Pu(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),i&&Ou(s.remoteStore,c.targetId),Qd(s,c.targetId)}).catch(Hn))):(Qd(s,c.targetId),yield Pu(s.localStore,c.targetId,!0))})).apply(this,arguments)}function xh(u,n){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,I.A)(function*(u,n){const i=Lt(u),s=i.xa.get(n),c=i.Oa.get(s.targetId);i.isPrimaryClient&&1===c.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ou(i.remoteStore,s.targetId))})).apply(this,arguments)}function wg(){return(wg=(0,I.A)(function*(u,n,i){const s=function Ng(u){const n=Lt(u);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Yv.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Zv.bind(null,n),n}(u);try{const c=yield function(v,R){const N=Lt(v),j=se.now(),J=R.reduce((lt,Bt)=>lt.add(Bt.key),qn());let ue,Me;return N.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let Bt=po(),en=qn();return N.hs.getEntries(lt,J).next(Kt=>{Bt=Kt,Bt.forEach((On,Xn)=>{Xn.isValidDocument()||(en=en.add(On))})}).next(()=>N.localDocuments.getOverlayedDocuments(lt,Bt)).next(Kt=>{ue=Kt;const On=[];for(const Xn of R){const kn=jr(Xn,ue.get(Xn.key).overlayedDocument);null!=kn&&On.push(new Co(Xn.key,kn,Ts(kn.value.mapValue),Yr.exists(!0)))}return N.mutationQueue.addMutationBatch(lt,j,On,R)}).next(Kt=>{Me=Kt;const On=Kt.applyToLocalDocumentSet(ue,en);return N.documentOverlayCache.saveOverlays(lt,Kt.batchId,On)})}).then(()=>({batchId:Me.batchId,changes:Sr(ue)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(c.batchId),function(v,R,N){let j=v.qa[v.currentUser.toKey()];j||(j=new he(wt)),j=j.insert(R,N),v.qa[v.currentUser.toKey()]=j}(s,c.batchId,i),yield ol(s,c.changes),yield Ma(s.remoteStore)}catch(c){const f=_o(c,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Xf(u,n){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,I.A)(function*(u,n){const i=Lt(u);try{const s=yield function Vd(u,n){const i=Lt(u),s=n.snapshotVersion;let c=i.us;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=i.hs.newChangeBuffer({trackRemovals:!0});c=i.us;const R=[];n.targetChanges.forEach((J,ue)=>{const Me=c.get(ue);if(!Me)return;R.push(i.Gr.removeMatchingKeys(f,J.removedDocuments,ue).next(()=>i.Gr.addMatchingKeys(f,J.addedDocuments,ue)));let lt=Me.withSequenceNumber(f.currentSequenceNumber);var en,Kt,On;null!==n.targetMismatches.get(ue)?lt=lt.withResumeToken(Kn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):J.resumeToken.approximateByteSize()>0&&(lt=lt.withResumeToken(J.resumeToken,s)),c=c.insert(ue,lt),Kt=lt,On=J,(0===(en=Me).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&R.push(i.Gr.updateTargetData(f,lt))});let N=po(),j=qn();if(n.documentUpdates.forEach(J=>{n.resolvedLimboDocuments.has(J)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(f,J))}),R.push(function nl(u,n,i){let s=qn(),c=qn();return i.forEach(f=>s=s.add(f)),n.getEntries(u,s).next(f=>{let v=po();return i.forEach((R,N)=>{const j=f.get(R);N.isFoundDocument()!==j.isFoundDocument()&&(c=c.add(R)),N.isNoDocument()&&N.version.isEqual(Te.min())?(n.removeEntry(R,N.readTime),v=v.insert(R,N)):!j.isValidDocument()||N.version.compareTo(j.version)>0||0===N.version.compareTo(j.version)&&j.hasPendingWrites?(n.addEntry(N),v=v.insert(R,N)):te("LocalStore","Ignoring outdated watch update for ",R,". Current version:",j.version," Watch version:",N.version)}),{Is:v,ds:c}})}(f,v,n.documentUpdates).next(J=>{N=J.Is,j=J.ds})),!s.isEqual(Te.min())){const J=i.Gr.getLastRemoteSnapshotVersion(f).next(ue=>i.Gr.setTargetsMetadata(f,f.currentSequenceNumber,s));R.push(J)}return Ke.waitFor(R).next(()=>v.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,N,j)).next(()=>N)}).then(f=>(i.us=c,f))}(i.localStore,n);n.targetChanges.forEach((c,f)=>{const v=i.La.get(f);v&&(Ut(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.Fa=!0:c.modifiedDocuments.size>0?Ut(v.Fa):c.removedDocuments.size>0&&(Ut(v.Fa),v.Fa=!1))}),yield ol(i,s,n)}catch(s){yield Hn(s)}})).apply(this,arguments)}function Xv(u,n,i){const s=Lt(u);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const c=[];s.xa.forEach((f,v)=>{const R=v.view.ea(n);R.snapshot&&c.push(R.snapshot)}),function(v,R){const N=Lt(v);N.onlineState=R;let j=!1;N.queries.forEach((J,ue)=>{for(const Me of ue.J_)Me.ea(R)&&(j=!0)}),j&&$d(N)}(s.eventManager,n),c.length&&s.Ma.R_(c),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function ky(u,n,i){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,I.A)(function*(u,n,i){const s=Lt(u);s.sharedClientState.updateQueryState(n,"rejected",i);const c=s.La.get(n),f=c&&c.key;if(f){let v=new he(Pt.comparator);v=v.insert(f,Ar.newNoDocument(f,Te.min()));const R=qn().add(f),N=new qr(Te.min(),new Map,new he(wt),v,R);yield Xf(s,N),s.Ba=s.Ba.remove(f),s.La.delete(n),ep(s)}else yield Pu(s.localStore,n,!1).then(()=>Qd(s,n,i)).catch(Hn)})).apply(this,arguments)}function Yv(u,n){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,I.A)(function*(u,n){const i=Lt(u),s=n.batch.batchId;try{const c=yield function od(u,n){const i=Lt(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=n.batch.keys(),f=i.hs.newChangeBuffer({trackRemovals:!0});return function(R,N,j,J){const ue=j.batch,Me=ue.keys();let lt=Ke.resolve();return Me.forEach(Bt=>{lt=lt.next(()=>J.getEntry(N,Bt)).next(en=>{const Kt=j.docVersions.get(Bt);Ut(null!==Kt),en.version.compareTo(Kt)<0&&(ue.applyToRemoteDocument(en,j),en.isValidDocument()&&(en.setReadTime(j.commitVersion),J.addEntry(en)))})}),lt.next(()=>R.mutationQueue.removeMutationBatch(N,ue))}(i,s,n,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,c,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let N=qn();for(let j=0;j<R.mutationResults.length;++j)R.mutationResults[j].transformResults.length>0&&(N=N.add(R.batch.mutations[j].key));return N}(n))).next(()=>i.localDocuments.getDocuments(s,c))})}(i.localStore,n);Lh(i,s,null),qd(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield ol(i,c)}catch(c){yield Hn(c)}})).apply(this,arguments)}function Zv(u,n,i){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,I.A)(function*(u,n,i){const s=Lt(u);try{const c=yield function(v,R){const N=Lt(v);return N.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let J;return N.mutationQueue.lookupMutationBatch(j,R).next(ue=>(Ut(null!==ue),J=ue.keys(),N.mutationQueue.removeMutationBatch(j,ue))).next(()=>N.mutationQueue.performConsistencyCheck(j)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(j,J,R)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,J)).next(()=>N.localDocuments.getDocuments(j,J))})}(s.localStore,n);Lh(s,n,i),qd(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield ol(s,c)}catch(c){yield Hn(c)}})).apply(this,arguments)}function qd(u,n){(u.Qa.get(n)||[]).forEach(i=>{i.resolve()}),u.Qa.delete(n)}function Lh(u,n,i){const s=Lt(u);let c=s.qa[s.currentUser.toKey()];if(c){const f=c.get(n);f&&(i?f.reject(i):f.resolve(),c=c.remove(n)),s.qa[s.currentUser.toKey()]=c}}function Qd(u,n,i=null){u.sharedClientState.removeLocalQueryTarget(n);for(const s of u.Oa.get(n))u.xa.delete(s),i&&u.Ma.Wa(s,i);u.Oa.delete(n),u.isPrimaryClient&&u.ka.yr(n).forEach(s=>{u.ka.containsKey(s)||Ag(u,s)})}function Ag(u,n){u.Na.delete(n.path.canonicalString());const i=u.Ba.get(n);null!==i&&(Ou(u.remoteStore,i),u.Ba=u.Ba.remove(n),u.La.delete(i),ep(u))}function Jf(u,n,i){for(const s of i)s instanceof Oy?(u.ka.addReference(s.key,n),Ly(u,s)):s instanceof Gf?(te("SyncEngine","Document no longer in limbo: "+s.key),u.ka.removeReference(s.key,n),u.ka.containsKey(s.key)||Ag(u,s.key)):xt()}function Ly(u,n){const i=n.key,s=i.path.canonicalString();u.Ba.get(i)||u.Na.has(s)||(te("SyncEngine","New document in limbo: "+i),u.Na.add(s),ep(u))}function ep(u){for(;u.Na.size>0&&u.Ba.size<u.maxConcurrentLimboResolutions;){const n=u.Na.values().next().value;u.Na.delete(n);const i=new Pt(It.fromString(n)),s=u.Ka.next();u.La.set(s,new Kv(i)),u.Ba=u.Ba.insert(i,s),nc(u.remoteStore,new jo(fo(ho(i.path)),s,"TargetPurposeLimboResolution",Et.oe))}}function ol(u,n,i){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,I.A)(function*(u,n,i){const s=Lt(u),c=[],f=[],v=[];var R;s.xa.isEmpty()||(s.xa.forEach((R,N)=>{v.push(s.Ua(N,n,i).then(j=>{var J;if((j||i)&&s.isPrimaryClient){const ue=j?!j.fromCache:null===(J=i?.targetChanges.get(N.targetId))||void 0===J?void 0:J.current;s.sharedClientState.updateQueryState(N.targetId,ue?"current":"not-current")}if(j){c.push(j);const ue=kd.zi(N.targetId,j);f.push(ue)}}))}),yield Promise.all(v),s.Ma.R_(c),yield(R=(0,I.A)(function*(j,J){const ue=Lt(j);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Me=>Ke.forEach(J,lt=>Ke.forEach(lt.Wi,Bt=>ue.persistence.referenceDelegate.addReference(Me,lt.targetId,Bt)).next(()=>Ke.forEach(lt.Gi,Bt=>ue.persistence.referenceDelegate.removeReference(Me,lt.targetId,Bt)))))}catch(Me){if(!Mr(Me))throw Me;te("LocalStore","Failed to update sequence numbers: "+Me)}for(const Me of J){const lt=Me.targetId;if(!Me.fromCache){const Bt=ue.us.get(lt),Kt=Bt.withLastLimboFreeSnapshotVersion(Bt.snapshotVersion);ue.us=ue.us.insert(lt,Kt)}}}),function N(j,J){return R.apply(this,arguments)})(s.localStore,f))}),Xd.apply(this,arguments)}function Fh(u,n){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,I.A)(function*(u,n){const i=Lt(u);if(!i.currentUser.isEqual(n)){te("SyncEngine","User change. New user:",n.toKey());const s=yield Sc(i.localStore,n);i.currentUser=n,(f=i).Qa.forEach(R=>{R.forEach(N=>{N.reject(new ft(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Qa.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield ol(i,s.Ts)}var f})).apply(this,arguments)}function Fy(u,n){const i=Lt(u),s=i.La.get(n);if(s&&s.Fa)return qn().add(s.key);{let c=qn();const f=i.Oa.get(n);if(!f)return c;for(const v of f){const R=i.xa.get(v);c=c.unionWith(R.view.fa)}return c}}function np(u){const n=Lt(u);return n.remoteStore.remoteSyncer.applyRemoteEvent=Xf.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fy.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ky.bind(null,n),n.Ma.R_=Wv.bind(null,n.eventManager),n.Ma.Wa=Hf.bind(null,n.eventManager),n}let rp=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,I.A)(function*(){s.serializer=Gt(i.databaseInfo.databaseId),s.sharedClientState=s.za(i),s.persistence=s.ja(i),yield s.persistence.start(),s.localStore=s.Ha(i),s.gcScheduler=s.Ja(i,s.localStore),s.indexBackfillerScheduler=s.Ya(i,s.localStore)})()}Ja(i,s){return null}Ya(i,s){return null}Ha(i){return function Ph(u,n,i,s){return new Of(u,n,i,s)}(this.persistence,new Ld,i.initialUser,this.serializer)}ja(i){return new xs(td.ei,this.serializer)}za(i){return new de}terminate(){var i=this;return(0,I.A)(function*(){var s,c;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(c=i.indexBackfillerScheduler)||void 0===c||c.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class ip extends rp{constructor(n){super(),this.cacheSizeBytes=n}Ja(n,i){return Ut(this.persistence.referenceDelegate instanceof nd),new tc(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}ja(n){const i=void 0!==this.cacheSizeBytes?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new xs(s=>nd.ei(s,i),this.serializer)}}let Vh=(()=>{class u{initialize(i,s){var c=this;return(0,I.A)(function*(){c.localStore||(c.localStore=i.localStore,c.sharedClientState=i.sharedClientState,c.datastore=c.createDatastore(s),c.remoteStore=c.createRemoteStore(s),c.eventManager=c.createEventManager(s),c.syncEngine=c.createSyncEngine(s,!i.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>Xv(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=Fh.bind(null,c.syncEngine),yield function Uf(u,n){return Bf.apply(this,arguments)}(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Ry}createDatastore(i){const s=Gt(i.databaseInfo.databaseId),c=new be(i.databaseInfo);return new to(i.authCredentials,i.appCheckCredentials,c,s)}createRemoteStore(i){return c=this.localStore,f=this.datastore,v=i.asyncQueue,R=s=>Xv(this.syncEngine,s,0),N=d.p()?new d:new _,new ks(c,f,v,R,N);var c,f,v,R,N}createSyncEngine(i,s){return function(f,v,R,N,j,J,ue){const Me=new qv(f,v,R,N,j,J);return ue&&(Me.$a=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,I.A)(function*(){var s,c,f;yield(f=(0,I.A)(function*(R){const N=Lt(R);te("RemoteStore","RemoteStore shutting down."),N.k_.add(5),yield Ls(N),N.Q_.shutdown(),N.K_.set("Unknown")}),function v(R){return f.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(c=i.eventManager)||void 0===c||c.terminate()})()}}return u.provider={build:()=>new u},u})();class Uh{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Xa(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Xa(this.observer.error,n):ke("Uncaught Error in snapshot listener:",n.toString()))}eu(){this.muted=!0}Xa(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class aw{constructor(n,i,s,c,f){var v=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=c,this.user=Ye.UNAUTHENTICATED,this.clientId=Wt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var R=(0,I.A)(function*(N){te("FirestoreClient","Received user=",N.uid),yield v.authCredentialListener(N),v.user=N});return function(N){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(te("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const c=_o(s,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function op(u,n){return rc.apply(this,arguments)}function rc(){return rc=(0,I.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield n.initialize(i);let s=i.initialUser;u.setCredentialChangeListener(function(){var c=(0,I.A)(function*(f){s.isEqual(f)||(yield Sc(n.localStore,f),s=f)});return function(f){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=n}),rc.apply(this,arguments)}function kg(u,n){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,I.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress();const i=yield function ic(u){return Cl.apply(this,arguments)}(u);te("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,u.configuration),u.setCredentialChangeListener(s=>Ff(n.remoteStore,s)),u.setAppCheckTokenChangeListener((s,c)=>Ff(n.remoteStore,c)),u._onlineComponents=n})).apply(this,arguments)}function Cl(){return(Cl=(0,I.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield op(u,u._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(c=n).name?c.code===We.FAILED_PRECONDITION||c.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw n;Ht("Error using user provided cache. Falling back to memory cache: "+n),yield op(u,new rp)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield op(u,new ip(void 0));var c;return u._offlineComponents})).apply(this,arguments)}function Fg(u){return sp.apply(this,arguments)}function sp(){return(sp=(0,I.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield kg(u,u._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield kg(u,new Vh))),u._onlineComponents})).apply(this,arguments)}function kc(u){return up.apply(this,arguments)}function up(){return(up=(0,I.A)(function*(u){const n=yield Fg(u),i=n.eventManager;return i.onListen=ow.bind(null,n.syncEngine),i.onUnlisten=ld.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=Qv.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=xh.bind(null,n.syncEngine),i})).apply(this,arguments)}function cp(u){const n={};return void 0!==u.timeoutSeconds&&(n.timeoutSeconds=u.timeoutSeconds),n}const Ky=new Map;function Hg(u,n,i){if(!i)throw new ft(We.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${n}.`)}function Qy(u){if(!Pt.isDocumentKey(u))throw new ft(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Lc(u){if(Pt.isDocumentKey(u))throw new ft(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function lp(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const n=(s=u).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof u?"a function":xt()}function Ur(u,n){if("_delegate"in u&&(u=u._delegate),!(u instanceof n)){if(n.name===u.constructor.name)throw new ft(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lp(u);throw new ft(We.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return u}class sE{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new ft(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ft(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function qy(u,n,i,s){if(!0===n&&!0===s)throw new ft(We.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cp(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ft(We.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Jd{constructor(n,i,s,c){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ft(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new Ie;switch(s.type){case"firstParty":return new yt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,I.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ky.get(i);s&&(te("ComponentProvider","Removing Datastore"),Ky.delete(i),s.terminate())}(this),Promise.resolve()}}class Vs{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Vs(this.firestore,n,this._query)}}class No{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new No(this.firestore,n,this._key)}}class ya extends Vs{constructor(n,i,s){super(n,i,ho(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new No(this.firestore,null,new Pt(n))}withConverter(n){return new ya(this.firestore,n,this._path)}}function jh(u,n,...i){if(u=(0,Ee.Ku)(u),Hg("collection","path",n),u instanceof Jd){const s=It.fromString(n,...i);return Lc(s),new ya(u,null,s)}{if(!(u instanceof No||u instanceof ya))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(It.fromString(n,...i));return Lc(s),new ya(u.firestore,null,s)}}function zg(u,n,...i){if(u=(0,Ee.Ku)(u),1===arguments.length&&(n=Wt.newId()),Hg("doc","path",n),u instanceof Jd){const s=It.fromString(n,...i);return Qy(s),new No(u,null,new Pt(s))}{if(!(u instanceof No||u instanceof ya))throw new ft(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(It.fromString(n,...i));return Qy(s),new No(u.firestore,u instanceof ya?u.converter:null,new Pt(s))}}class cE{constructor(n=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new sn(this,"async_queue_retry"),this.fu=()=>{const s=ot();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=n;const i=ot();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.pu(),this.yu(n)}enterRestrictedMode(n){if(!this.du){this.du=!0,this.Vu=n||!1;const i=ot();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.fu)}}enqueue(n){if(this.pu(),this.du)return new Promise(()=>{});const i=new Un;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Iu.push(n),this.wu()))}wu(){var n=this;return(0,I.A)(function*(){if(0!==n.Iu.length){try{yield n.Iu[0](),n.Iu.shift(),n.r_.reset()}catch(i){if(!Mr(i))throw i;te("AsyncQueue","Operation failed with retryable error: "+i)}n.Iu.length>0&&n.r_.jo(()=>n.wu())}})()}yu(n){const i=this.gu.then(()=>(this.Ru=!0,n().catch(s=>{throw this.Au=s,this.Ru=!1,ke("INTERNAL UNHANDLED ERROR: ",function(v){let R=v.message||"";return v.stack&&(R=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),R}(s)),s}).then(s=>(this.Ru=!1,s))));return this.gu=i,i}enqueueAfterDelay(n,i,s){this.pu(),this.mu.indexOf(n)>-1&&(i=0);const c=Eg.createAndSchedule(this,n,i,s,f=>this.Su(f));return this.Eu.push(c),c}pu(){this.Au&&xt()}verifyOperationInProgress(){}bu(){var n=this;return(0,I.A)(function*(){let i;do{i=n.gu,yield i}while(i!==n.gu)})()}Du(n){for(const i of this.Eu)if(i.timerId===n)return!0;return!1}vu(n){return this.bu().then(()=>{this.Eu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Eu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.bu()})}Cu(n){this.mu.push(n)}Su(n){const i=this.Eu.indexOf(n);this.Eu.splice(i,1)}}function Xy(u){return function(i){if("object"!=typeof i||null===i)return!1;const c=i;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(u)}class Di extends Jd{constructor(n,i,s,c){super(n,i,s,c),this.type="firestore",this._queue=new cE,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,I.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new cE(i),n._firestoreClient=void 0,yield i}})()}}function lE(u,n){const i="object"==typeof u?u:(0,z.Sx)(),s="string"==typeof u?u:n||"(default)",c=(0,z.j6)(i,"firestore").getImmediate({identifier:s});if(!c._initialized){const f=(0,Ee.yU)("firestore");f&&function aE(u,n,i,s={}){var c;const f=(u=Ur(u,Jd))._getSettings(),v=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==v&&Ht("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},f),{host:v,ssl:!1})),s.mockUserToken){let R,N;if("string"==typeof s.mockUserToken)R=s.mockUserToken,N=Ye.MOCK_USER;else{R=(0,Ee.Fy)(s.mockUserToken,null===(c=u._app)||void 0===c?void 0:c.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new ft(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ye(j)}u._authCredentials=new Ae(new ye(R,N))}}(c,...f)}return c}function Oi(u){if(u._terminated)throw new ft(We.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||function Yy(u){var n,i,s;const c=u._freezeSettings(),f=(N=(null===(n=u._app)||void 0===n?void 0:n.options.appId)||"",new ys(u._databaseId,N,u._persistenceKey,(J=c).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,cp(J.experimentalLongPollingOptions),J.useFetchStreams));var N,J;u._componentsProvider||!(null===(i=c.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=c.localCache)||void 0===s)&&s._onlineComponentProvider&&(u._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),u._firestoreClient=new aw(u._authCredentials,u._appCheckCredentials,u._queue,f,u._componentsProvider&&function(R){const N=R?._online.build();return{_offline:R?._offline.build(N),_online:N}}(u._componentsProvider))}(u),u._firestoreClient}class pd{constructor(n){this._byteString=n}static fromBase64String(n){try{return new pd(Kn.fromBase64String(n))}catch(i){throw new ft(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new pd(Kn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Oo{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new ft(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class gd{constructor(n){this._methodName=n}}class th{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new ft(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new ft(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return wt(this._lat,n._lat)||wt(this._long,n._long)}}class Xg{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,c){if(s.length!==c.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==c[f])return!1;return!0}(this._values,n._values)}}const fw=/^__.*__$/;class _a{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Co(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ca(n,this.data,i,this.fieldTransforms)}}class md{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Co(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function dp(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class $h{constructor(n,i,s,c,f,v){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===f&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(n){return new $h(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.xu({path:s,Nu:!1});return c.Bu(n),c}Lu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.xu({path:s,Nu:!1});return c.Fu(),c}ku(n){return this.xu({path:void 0,Nu:!0})}qu(n){return yp(n,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Fu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Bu(this.path.get(n))}Bu(n){if(0===n.length)throw this.qu("Document fields must not be empty");if(dp(this.Mu)&&fw.test(n))throw this.qu('Document fields cannot begin and end with "__"')}}class gE{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||Gt(n)}$u(n,i,s,c=!1){return new $h({Mu:n,methodName:i,Ku:s,path:_n.emptyPath(),Nu:!1,Qu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(u){const n=u._freezeSettings(),i=Gt(u._databaseId);return new gE(u._databaseId,!!n.ignoreUndefinedProperties,i)}function hp(u,n,i,s,c,f={}){const v=u.$u(f.merge||f.mergeFields?2:0,n,i,c);gp("Data must be an object, but it was:",v,s);const R=Hh(s,v);let N,j;if(f.merge)N=new nr(v.fieldMask),j=v.fieldTransforms;else if(f.mergeFields){const J=[];for(const ue of f.mergeFields){const Me=rh(n,ue,i);if(!v.contains(Me))throw new ft(We.INVALID_ARGUMENT,`Field '${Me}' is specified in your field mask but missing from your input data.`);n_(J,Me)||J.push(Me)}N=new nr(J),j=v.fieldTransforms.filter(ue=>N.covers(ue.field))}else N=null,j=v.fieldTransforms;return new _a(new Tr(R),N,j)}class nh extends gd{_toFieldTransform(n){if(2!==n.Mu)throw n.qu(1===n.Mu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof nh}}function bl(u,n){if(nm(u=(0,Ee.Ku)(u)))return gp("Unsupported field value:",n,u),Hh(u,n);if(u instanceof gd)return function(s,c){if(!dp(c.Mu))throw c.qu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.qu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(u,n),null;if(void 0===u&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),u instanceof Array){if(n.settings.Nu&&4!==n.Mu)throw n.qu("Nested arrays are not supported");return function(s,c){const f=[];let v=0;for(const R of s){let N=bl(R,c.ku(v));null==N&&(N={nullValue:"NULL_VALUE"}),f.push(N),v++}return{arrayValue:{values:f}}}(u,n)}return function(s,c){if(null===(s=(0,Ee.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Xl(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=se.fromDate(s);return{timestampValue:ui(c.serializer,f)}}if(s instanceof se){const f=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ui(c.serializer,f)}}if(s instanceof th)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pd)return{bytesValue:Qu(c.serializer,s._byteString)};if(s instanceof No){const f=c.databaseId,v=s.firestore._databaseId;if(!v.isEqual(f))throw c.qu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:mc(s.firestore._databaseId||c.databaseId,s._key.path)}}if(s instanceof Xg)return R=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(N=>{if("number"!=typeof N)throw R.qu("VectorValues must only contain numeric values.");return Wa(R.serializer,N)})}}}}};var R;throw c.qu(`Unsupported field value: ${lp(s)}`)}(u,n)}function Hh(u,n){const i={};return Y(u)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):U(u,(s,c)=>{const f=bl(c,n.Ou(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function nm(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof se||u instanceof th||u instanceof pd||u instanceof No||u instanceof gd||u instanceof Xg)}function gp(u,n,i){if(!nm(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=lp(i);throw n.qu("an object"===s?u+" a custom object":u+" "+s)}var c}function rh(u,n,i){if((n=(0,Ee.Ku)(n))instanceof Oo)return n._internalPath;if("string"==typeof n)return mp(u,n);throw yp("Field path arguments must be of type string or ",u,!1,void 0,i)}const t_=new RegExp("[~\\*/\\[\\]]");function mp(u,n,i){if(n.search(t_)>=0)throw yp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new Oo(...n.split("."))._internalPath}catch{throw yp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function yp(u,n,i,s,c){const f=s&&!s.isEmpty(),v=void 0!==c;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let N="";return(f||v)&&(N+=" (found",f&&(N+=` in field ${s}`),v&&(N+=` in document ${c}`),N+=")"),new ft(We.INVALID_ARGUMENT,R+u+N)}function n_(u,n){return u.some(i=>i.isEqual(n))}class zh{constructor(n,i,s,c,f){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new No(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new r_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(rm("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class r_ extends zh{data(){return super.data()}}function rm(u,n){return"string"==typeof n?mp(u,n):n instanceof Oo?n._internalPath:n._delegate._internalPath}class sm{convertValue(n,i="none"){switch(ri(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Mn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ir(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw xt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return U(n,(c,f)=>{s[c]=this.convertValue(f,i)}),s}convertVectorValue(n){var i,s,c;const f=null===(c=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===c?void 0:c.map(v=>Mn(v.doubleValue));return new Xg(f)}convertGeoPoint(n){return new th(Mn(n.latitude),Mn(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=ro(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Gr(n));default:return null}}convertTimestamp(n){const i=_r(n);return new se(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=It.fromString(n);Ut(fa(s));const c=new lo(s.get(1),s.get(3)),f=new Pt(s.popFirst(5));return c.isEqual(i)||ke(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}class oc{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Nl extends zh{constructor(n,i,s,c,f,v){super(n,i,s,c,v),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(rm("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class oh extends Nl{data(n={}){return super.data(n)}}class ul{constructor(n,i,s,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new oc(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new oh(this._firestore,this._userDataWriter,s.key,s,new oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let v=0;return c._snapshot.docChanges.map(R=>({type:"added",doc:new oh(c._firestore,c._userDataWriter,R.doc.key,R.doc,new oc(c._snapshot.mutatedKeys.has(R.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:v++}))}{let v=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(R=>f||3!==R.type).map(R=>{const N=new oh(c._firestore,c._userDataWriter,R.doc.key,R.doc,new oc(c._snapshot.mutatedKeys.has(R.doc.key),c._snapshot.fromCache),c.query.converter);let j=-1,J=-1;return 0!==R.type&&(j=v.indexOf(R.doc.key),v=v.delete(R.doc.key)),1!==R.type&&(v=v.add(R.doc),J=v.indexOf(R.doc.key)),{type:a_(R.type),doc:N,oldIndex:j,newIndex:J}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function a_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function Ew(u){u=Ur(u,No);const n=Ur(u.firestore,Di);return function Bh(u,n,i={}){const s=new Un;return u.asyncQueue.enqueueAndForget((0,I.A)(function*(){return function(f,v,R,N,j){const J=new Uh({next:Me=>{J.eu(),v.enqueueAndForget(()=>cd(f,ue));const lt=Me.docs.has(R);!lt&&Me.fromCache?j.reject(new ft(We.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Me.fromCache&&N&&"server"===N.source?j.reject(new ft(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Me)},error:Me=>j.reject(Me)}),ue=new Wf(ho(R.path),J,{includeMetadataChanges:!0,ua:!0});return jf(f,ue)}(yield kc(u),u.asyncQueue,n,i,s)})),s.promise}(Oi(n),u._key).then(i=>Dp(n,u,i))}class iu extends sm{constructor(n){super(),this.firestore=n}convertBytes(n){return new pd(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new No(this.firestore,null,i)}}function lm(u,n,i,...s){u=Ur(u,No);const c=Ur(u.firestore,Di),f=Sl(c);let v;return v="string"==typeof(n=(0,Ee.Ku)(n))||n instanceof Oo?function pp(u,n,i,s,c,f){const v=u.$u(1,n,i),R=[rh(n,s,i)],N=[c];if(f.length%2!=0)throw new ft(We.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Me=0;Me<f.length;Me+=2)R.push(rh(n,f[Me])),N.push(f[Me+1]);const j=[],J=Tr.empty();for(let Me=R.length-1;Me>=0;--Me)if(!n_(j,R[Me])){const lt=R[Me];let Bt=N[Me];Bt=(0,Ee.Ku)(Bt);const en=v.Lu(lt);if(Bt instanceof nh)j.push(lt);else{const Kt=bl(Bt,en);null!=Kt&&(j.push(lt),J.set(lt,Kt))}}const ue=new nr(j);return new md(J,ue,v.fieldTransforms)}(f,"updateDoc",u._key,n,i,s):function em(u,n,i,s){const c=u.$u(1,n,i);gp("Data must be an object, but it was:",c,s);const f=[],v=Tr.empty();U(s,(N,j)=>{const J=mp(n,N,i);j=(0,Ee.Ku)(j);const ue=c.Lu(J);if(j instanceof nh)f.push(J);else{const Me=bl(j,ue);null!=Me&&(f.push(J),v.set(J,Me))}});const R=new nr(f);return new md(v,R,c.fieldTransforms)}(f,"updateDoc",u._key,n),_d(c,[v.toMutation(u._key,Yr.exists(!0))])}function dm(u){return _d(Ur(u.firestore,Di),[new b(u._key,Yr.none())])}function sh(u,n){const i=Ur(u.firestore,Di),s=zg(u),c=function yd(u,n,i){let s;return s=u?i&&(i.merge||i.mergeFields)?u.toFirestore(n,i):u.toFirestore(n):n,s}(u.converter,n);return _d(i,[hp(Sl(u.firestore),"addDoc",s._key,c,null!==u.converter,{}).toMutation(s._key,Yr.exists(!1))]).then(()=>s)}function Iw(u,...n){var i,s,c;u=(0,Ee.Ku)(u);let f={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof n[v]||Xy(n[v])||(f=n[v],v++);const R={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Xy(n[v])){const ue=n[v];n[v]=null===(i=ue.next)||void 0===i?void 0:i.bind(ue),n[v+1]=null===(s=ue.error)||void 0===s?void 0:s.bind(ue),n[v+2]=null===(c=ue.complete)||void 0===c?void 0:c.bind(ue)}let N,j,J;if(u instanceof No)j=Ur(u.firestore,Di),J=ho(u._key.path),N={next:ue=>{n[v]&&n[v](Dp(j,u,ue))},error:n[v+1],complete:n[v+2]};else{const ue=Ur(u,Vs);j=Ur(ue.firestore,Di),J=ue._query;const Me=new iu(j);N={next:lt=>{n[v]&&n[v](new ul(j,Me,ue,lt))},error:n[v+1],complete:n[v+2]},function im(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new ft(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(u._query)}return function(Me,lt,Bt,en){const Kt=new Uh(en),On=new Wf(lt,Kt,Bt);return Me.asyncQueue.enqueueAndForget((0,I.A)(function*(){return jf(yield kc(Me),On)})),()=>{Kt.eu(),Me.asyncQueue.enqueueAndForget((0,I.A)(function*(){return cd(yield kc(Me),On)}))}}(Oi(j),J,R,N)}function _d(u,n){return function(s,c){const f=new Un;return s.asyncQueue.enqueueAndForget((0,I.A)(function*(){return function kh(u,n,i){return wg.apply(this,arguments)}(yield function Ug(u){return Fg(u).then(n=>n.syncEngine)}(s),c,f)})),f.promise}(Oi(u),n)}function Dp(u,n,i){const s=i.docs.get(n._key),c=new iu(u);return new Nl(u,c,n._key,s,new oc(i.hasPendingWrites,i.fromCache),n.converter)}!function(n,i=!0){Tt=z.MF,(0,z.om)(new ce.uA("firestore",(s,{instanceIdentifier:c,options:f})=>{const v=s.getProvider("app").getImmediate(),R=new Di(new Re(s.getProvider("auth-internal")),new Oe(s.getProvider("app-check-internal")),function(j,J){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new ft(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(j.options.projectId,J)}(v,c),v);return f=Object.assign({useFetchStreams:i},f),R._setSettings(f),R},"PUBLIC").setMultipleInstances(!0)),(0,z.KO)(Dt,"4.7.6",n),(0,z.KO)(Dt,"4.7.6","esm2017")}()},467:(an,Je,V)=>{function I(ce,W,Ee,Ue,Ne,je,Qe){try{var ge=ce[je](Qe),fe=ge.value}catch(He){return void Ee(He)}ge.done?W(fe):Promise.resolve(fe).then(Ue,Ne)}function z(ce){return function(){var W=this,Ee=arguments;return new Promise(function(Ue,Ne){var je=ce.apply(W,Ee);function Qe(fe){I(je,Ue,Ne,Qe,ge,"next",fe)}function ge(fe){I(je,Ue,Ne,Qe,ge,"throw",fe)}Qe(void 0)})}}V.d(Je,{A:()=>z})},1635:(an,Je,V)=>{function W(ye,Ie){var Ae={};for(var Re in ye)Object.prototype.hasOwnProperty.call(ye,Re)&&Ie.indexOf(Re)<0&&(Ae[Re]=ye[Re]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Re=Object.getOwnPropertySymbols(ye);et<Re.length;et++)Ie.indexOf(Re[et])<0&&Object.prototype.propertyIsEnumerable.call(ye,Re[et])&&(Ae[Re[et]]=ye[Re[et]])}return Ae}function He(ye,Ie,Ae,Re){return new(Ae||(Ae=Promise))(function(yt,_e){function Oe(Wt){try{ut(Re.next(Wt))}catch(wt){_e(wt)}}function ht(Wt){try{ut(Re.throw(Wt))}catch(wt){_e(wt)}}function ut(Wt){Wt.done?yt(Wt.value):function et(yt){return yt instanceof Ae?yt:new Ae(function(_e){_e(yt)})}(Wt.value).then(Oe,ht)}ut((Re=Re.apply(ye,Ie||[])).next())})}function Dt(ye){return this instanceof Dt?(this.v=ye,this):new Dt(ye)}function Ye(ye,Ie,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Re=Ae.apply(ye,Ie||[]),yt=[];return et=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Oe("next"),Oe("throw"),Oe("return",function _e(nt){return function(se){return Promise.resolve(se).then(nt,wt)}}),et[Symbol.asyncIterator]=function(){return this},et;function Oe(nt,se){Re[nt]&&(et[nt]=function(Te){return new Promise(function(bt,It){yt.push([nt,Te,bt,It])>1||ht(nt,Te)})},se&&(et[nt]=se(et[nt])))}function ht(nt,se){try{!function ut(nt){nt.value instanceof Dt?Promise.resolve(nt.value.v).then(Wt,wt):Ze(yt[0][2],nt)}(Re[nt](se))}catch(Te){Ze(yt[0][3],Te)}}function Wt(nt){ht("next",nt)}function wt(nt){ht("throw",nt)}function Ze(nt,se){nt(se),yt.shift(),yt.length&&ht(yt[0][0],yt[0][1])}}function Vt(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Ie=ye[Symbol.asyncIterator];return Ie?Ie.call(ye):(ye=function mn(ye){var Ie="function"==typeof Symbol&&Symbol.iterator,Ae=Ie&&ye[Ie],Re=0;if(Ae)return Ae.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Re>=ye.length&&(ye=void 0),{value:ye&&ye[Re++],done:!ye}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Ae={},Re("next"),Re("throw"),Re("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Re(yt){Ae[yt]=ye[yt]&&function(_e){return new Promise(function(Oe,ht){!function et(yt,_e,Oe,ht){Promise.resolve(ht).then(function(ut){yt({value:ut,done:Oe})},_e)}(Oe,ht,(_e=ye[yt](_e)).done,_e.value)})}}}V.d(Je,{AQ:()=>Ye,N3:()=>Dt,Tt:()=>W,sH:()=>He,xN:()=>Vt}),"function"==typeof SuppressedError&&SuppressedError}},an=>{var Je=I=>an(an.s=I);Je(4073),Je(3473)}]);