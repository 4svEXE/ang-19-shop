import{a,aa as s,b as i,l as o,ob as c}from"./chunk-SGSG5N6W.js";var n=class e{cartItems=[];cartSubject=new o([]);constructor(){this.isBrowser()&&this.loadCartFromLocalStorage()}getCart(){return this.cartSubject.asObservable()}addToCart(t){let r=this.cartItems.find(u=>u.id===t.id);r?r.quantity+=1:this.cartItems.push(i(a({},t),{quantity:1})),this.updateCart()}removeFromCart(t){this.cartItems=this.cartItems.filter(r=>r.id!==t),this.updateCart()}clearCart(){this.cartItems=[],this.updateCart()}getTotalPrice(){return this.cartItems.reduce((t,r)=>t+r.price*r.quantity,0)}updateCart(){this.cartSubject.next([...this.cartItems]),this.isBrowser()&&this.saveCartToLocalStorage()}saveCartToLocalStorage(){localStorage.setItem("cart",JSON.stringify(this.cartItems))}loadCartFromLocalStorage(){let t=localStorage.getItem("cart");t&&(this.cartItems=JSON.parse(t),this.cartSubject.next([...this.cartItems]))}isBrowser(){return typeof window<"u"&&typeof window.localStorage<"u"}static \u0275fac=function(r){return new(r||e)};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};var m=class e{transform(t,r="CZK"){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:r,minimumFractionDigits:0,maximumFractionDigits:2}).format(t)}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=c({name:"currencyFormat",type:e,pure:!0})};export{m as a,n as b};
