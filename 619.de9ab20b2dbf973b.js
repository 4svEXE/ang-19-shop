"use strict";(self.webpackChunkshop_ang_19=self.webpackChunkshop_ang_19||[]).push([[619],{619:(F,s,r)=>{r.r(s),r.d(s,{CatalogModule:()=>w});var i=r(177),g=r(9025),p=r(467),d=r(9417),m=r(6792),e=r(3953),C=r(8483);function h(u,l){1&u&&(e.j41(0,"div"),e.EFF(1,"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."),e.k0s())}function M(u,l){if(1&u&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.errorMessage)}}function f(u,l){1&u&&e.nrm(0,"app-product-card",16),2&u&&e.Y8G("product",l.$implicit)}function P(u,l){if(1&u&&(e.j41(0,"div",14),e.DNE(1,f,1,1,"app-product-card",15),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.products)}}const _=[{path:"",component:(()=>{class u{productService;products=[];isLoading=!0;errorMessage="";newProduct={name:"",description:"",category:"OTHER",price:0,imageUrl:"",stock:0};constructor(o){this.productService=o}ngOnInit(){this.loadProducts()}loadProducts(){this.isLoading=!0,this.productService.getProducts().subscribe({next:o=>{this.products=o,this.isLoading=!1},error:o=>{this.errorMessage="\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0456\u0432",this.isLoading=!1,console.error(o)}})}addProduct(){var o=this;return(0,p.A)(function*(){if(o.newProduct.name&&o.newProduct.price&&o.newProduct.imageUrl&&o.newProduct.category)try{yield o.productService.addProduct({...o.newProduct,rating:0}),o.newProduct={name:"",description:"",category:"OTHER",price:0,imageUrl:"",stock:0},o.loadProducts()}catch(a){o.errorMessage="\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0434\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442",console.error(a)}else o.errorMessage="\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043e\u0431\u043e\u0432\u2019\u044f\u0437\u043a\u043e\u0432\u0456 \u043f\u043e\u043b\u044f!"})()}static \u0275fac=function(a){return new(a||u)(e.rXU(C.b))};static \u0275cmp=e.VBU({type:u,selectors:[["app-catalog"]],decls:19,vars:9,consts:[[1,"catalog"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"product-form"],["type","text","placeholder","\u041d\u0430\u0437\u0432\u0430","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","\u041e\u043f\u0438\u0441",3,"ngModelChange","ngModel"],["type","text","placeholder","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","\u0426\u0456\u043d\u0430","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0456","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","URL \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f","required","",3,"ngModelChange","ngModel"],[3,"click"],["class","catalog__grid",4,"ngIf"],["routerLink","/cart"],[1,"error"],[1,"catalog__grid"],[3,"product",4,"ngFor","ngForOf"],[3,"product"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"),e.k0s(),e.DNE(3,h,2,0,"div",1)(4,M,2,1,"div",2),e.j41(5,"div",3)(6,"h3"),e.EFF(7,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"),e.k0s(),e.j41(8,"input",4),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.name,t)||(n.newProduct.name=t),t}),e.k0s(),e.j41(9,"input",5),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.description,t)||(n.newProduct.description=t),t}),e.k0s(),e.j41(10,"input",6),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.category,t)||(n.newProduct.category=t),t}),e.k0s(),e.j41(11,"input",7),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.price,t)||(n.newProduct.price=t),t}),e.k0s(),e.j41(12,"input",8),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.stock,t)||(n.newProduct.stock=t),t}),e.k0s(),e.j41(13,"input",9),e.mxI("ngModelChange",function(t){return e.DH7(n.newProduct.imageUrl,t)||(n.newProduct.imageUrl=t),t}),e.k0s(),e.j41(14,"button",10),e.bIt("click",function(){return n.addProduct()}),e.EFF(15,"\u0414\u043e\u0434\u0430\u0442\u0438"),e.k0s()(),e.DNE(16,P,2,1,"div",11),e.j41(17,"button",12),e.EFF(18,"cart"),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(4),e.R50("ngModel",n.newProduct.name),e.R7$(),e.R50("ngModel",n.newProduct.description),e.R7$(),e.R50("ngModel",n.newProduct.category),e.R7$(),e.R50("ngModel",n.newProduct.price),e.R7$(),e.R50("ngModel",n.newProduct.stock),e.R7$(),e.R50("ngModel",n.newProduct.imageUrl),e.R7$(3),e.Y8G("ngIf",!n.isLoading&&!n.errorMessage))},dependencies:[i.MD,i.Sq,i.bT,d.YN,d.me,d.Q0,d.BC,d.YS,d.vS,m.V,g.Wk],encapsulation:2})}return u})()}];let w=(()=>{class u{static \u0275fac=function(a){return new(a||u)};static \u0275mod=e.$C({type:u});static \u0275inj=e.G2t({imports:[i.MD,g.iI.forChild(_)]})}return u})()}}]);